<apex:component layout="none" controller="CSS_TndRepOverController" allowDML="true">
    <apex:attribute name="jobOrdId" description="CSS Job Order ID" type="ID" />
    <apex:attribute name="WOId" description="Work Order ID" type="ID" />
    <apex:attribute name="jobOrdNumb" description="CSS Job Order Number" type="String" />
    <apex:attribute name="CustName" description="CSS Job Customer Name" type="String" />
    <apex:attribute name="TechID" description="CSS Job Technician ID" type="String" />
    <apex:attribute name="RedirectPage1" type="string" description="Page Name"/>
    <apex:attribute name="FCOverviewPage" type="string" description="Page Name"/>
    <apex:attribute name="DisplayPrioritized" type="Boolean" description="Display Prioritized"/>
    <apex:attribute name="pgName" type="string" description="Page Name" assignTo="{!pageName}"/> 
    <apex:attribute name="dSIDIndicator" type="string" description="DSID Indicator" assignTo="{!dsIndicator}"/> <!---Story 67558---->

    <style> 

        .cmi_lighttealbutton {
            height: 30px;
            border-radius: 5px;
            display: inline-block;
            padding: 0 10px;
            color: #000000;
            line-height: 30px;
            text-align: center;
            margin-left: 0 auto;
            background-color: #a8d4d1;
            pointer-events: none;
            cursor: default;
        }
        .form-group1{
            margin-bottom: 0px!important;
        }
        .mytable thead, .mytable tbody{
            display: block;
        } 
      
        .modal-open {
            overflow: scroll;
        }
        
        @media (min-width: 1400px) and (max-width:1600px) {
          .fcmargin { 
            margin-left:44px;
        }
        }
        
        @media (min-width: 990px) and (max-width:1390px) {
          .fcmargin { 
              margin-left:20px;
            }
        }
    </style>
  
    <script type="text/javascript">
        $(window).load(function() {
            var isInsitePopupOn = "{!displayINPop}";
            console.log('isInsitePopupOn: '+isInsitePopupOn)
            if(isInsitePopupOn == 'true'){
                $('#myModal').modal('show');
                //alert($('#myModal'));
            }
            var isInsiteESNLockPopUp = "{!esnLockPopUp}";
            //alert(isInsiteESNLockPopUp);
            if(isInsiteESNLockPopUp == 'true')
                $('#ESNLockPopUP').modal('show');           
        });
    </script>    
    <script>    
        function DisableButtonTest()
        {  
            //close();
            // alert('Heloo1');
            console.log('Before');
            document.getElementById('insiteBtn3').disabled=true;
            document.getElementById('insiteBtn1').disabled=true;
            //alert('Heloo2');
            methodOneInJavascript();
            //alert('Heloo3');
            console.log('After');

        } 

        function CloseInsitePop(){
            CloseInsitePopup();
        }
    </script>
    <script>   
        function launchInsite(){
            //alert("launchInsite");
            var fldJob = "{!jobOrdNumb}";        
            console.log('fld' + fldJob);
            var fldTechId = "{!TechID}";
            //console.log({!TechID});
            var fldCust = "{!CustName}";
            //console.log({!CustName});        
            var fldVal1 =  fldJob + '| CUSTNAME:' + fldCust + '| TECHID:' + fldTechId + '| SESNID:'; 
            var urlVal = 'INSITE: ACTION:GetEngineInformation| CJOD:' + fldVal1;

            window.top.location.href =urlVal;
            //alert (urlVal)
            //alert('Before DSID');
            //generateDSID();
            //alert('After DSID');
            //window.top.location.href =urlVal;
            //window.open(urlVal);
            //alert ("after window")
        }
        $(document).ready(function() {

            function toggleChevron(e) {
                $(e.target)
                    .prev('.panel-heading')
                    .find("i.indicator")
                    .toggleClass('fa-caret-right fa-caret-down');
            }
            $('#accordion').on('hidden.bs.collapse', toggleChevron);
            $('#accordion').on('shown.bs.collapse', toggleChevron);
        }); 
        /*          ACCORDION FUNCTIONS         */
        $('.collapse').on('shown.bs.collapse', function(){
            $(this).parent().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus");
        }).on('hidden.bs.collapse', function(){
            $(this).parent().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus");
        });
        $('#accordion, #accordion1, #accordion2, #accordion3')
            .on('show.bs.collapse', function(e) {
            $(e.target).prev('.panel-heading').addClass('active');
        })
            .on('hide.bs.collapse', function(e) {
            $(e.target).prev('.panel-heading').removeClass('active');
        });

        var selector = $('.panel-heading a[data-toggle="collapse"]');
        selector.on('click',function() {
            var self = this;
            if ($(this).hasClass('collapsed')) {
                $.each(selector, function(key, value) {
                    if (!$(value).hasClass('collapsed') && value != self) {
                        $(value).trigger('click');
                    }
                });
            }
        }); 

        $(".cmi_viewmore-icon-2, .cmi_viewmore-2 .text").on('click',function(){
            var parent = $(this).parents('.cmi_viewmore-2')[0];
            $(parent).find(".cmi_viewmore-body-2").toggleClass("cmi_viewmore-show");
            $(parent).find(".cmi_viewmore-icon-2").toggleClass("cmi_viewmore-icon-open");
            var viewText = $(parent).find(".text").text();
            if (viewText.indexOf("More") > 0) {
                $(parent).find(".text").text("View Less");

            }   else {
                $(parent).find(".text").text("View More");   
            }
            return false;
        }); 

    </script>
    <script> 

        jQuery(function () {
            jQuery(".banner-dropdown").hover(
                function () {
                    jQuery(this).toggleClass('open');
                    jQuery('span', this).toggleClass("banner-caret-down");
                });
            /*          ACCORDION FUNCTIONS         */
            $('.collapse').on('shown.bs.collapse', function(){
                $(this).parent().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus");
            }).on('hidden.bs.collapse', function(){
                $(this).parent().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus");
            });
            $('.panel-collapse')
                .on('show.bs.collapse', function(e) {
                $(e.target).prev('.panel-heading').addClass('active');
            })
                .on('hide.bs.collapse', function(e) {
                $(e.target).prev('.panel-heading').removeClass('active');
            });

            var selector = $('.panel-heading a[data-toggle="collapse"]');
            selector.on('click',function() {
                var self = this;
                if ($(this).hasClass('collapsed')) {
                    $.each(selector, function(key, value) {
                        if (!$(value).hasClass('collapsed') && value != self) {
                            $(value).trigger('click');
                        }
                    });
                }
            }); 

            $("#accordion1-body-1 .cmi_viewmore-icon-2,#accordion1-body-1 .cmi_viewmore-2 .text").on('click',function(){
                var parent = $(this).parents('.cmi_viewmore-2')[0];
                $(parent).find(".cmi_viewmore-body-2").toggleClass("cmi_viewmore-show");
                $(parent).find(".cmi_viewmore-icon-2").toggleClass("cmi_viewmore-icon-open");
                var viewText = $(parent).find(".text").text();
                if (viewText.indexOf("More") > 0) {
                    $(parent).find(".text").text("View Less");

                }   else {
                    $(parent).find(".text").text("View More");   
                }
                return false;
            });
            /*          //ACCORDION FUNCTIONS         */

            $('#expandAll').on('click', function(){
                var span = $(this).find('span'), div = $(this).find('div'), acc = $('#expandAllAccordion');

                if(span.hasClass('glyphicon-plus')){
                    span.removeClass('glyphicon-plus').addClass('glyphicon-minus');
                    div.text('Expand All');
                    acc.find('.panel-heading').removeClass('active');
                    acc.find('.panel-title').addClass('collapsed').attr('area-expanded', 'false');
                    acc.find('span.cmi_glyphicon').removeClass('glyphicon-minus').addClass('glyphicon-plus');
                    acc.find('div.panel-collapse').removeClass('in').attr('area-expanded', 'false').css('height','0');
                } else {                           
                    span.removeClass('glyphicon-minus').addClass('glyphicon-plus');
                    div.text('Collapse All');
                    acc.find('.panel-heading').addClass('active');
                    acc.find('.panel-title').removeClass('collapsed').attr('aria-expanded', 'true');
                    acc.find('span.cmi_glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
                    acc.find('div.panel-collapse').addClass('in').attr('area-expanded', 'true').removeAttr('style');
                }
            });

            $('#rbtnIcons input').change(function () {
                var li = $('#compact-pagination li.active');
                li.find('i').remove();
                li.append('<i class="cmi-icon '+$(this).val()+'"></i>');
            });


        });


        $(function() {
            var width = $( document ).width();
            if(width<=500)
            {
                $("#compact-pagination").pagination({
                    items: 120,
                    itemsOnPage: 10,
                    cssStyle: 'bootstrap-theme',
                    displayedPages: 2,
                    edges:1,
                    useStartEdge : false,
                    useEndEdge:false,
                    width: width
                });
            } else {
                $("#compact-pagination").pagination({
                    items: 120,
                    itemsOnPage: 10,
                    cssStyle: 'bootstrap-theme',
                    displayedPages: 4,
                    edges:1,
                    useStartEdge : true,
                    useEndEdge:false,
                    width: width
                });
            }
        });
    </script>
    <script>    
        function DisableButtonTest1()
        {  
            document.getElementById('insiteBtn1').disabled=true;
            document.getElementById('insiteBtn3').disabled=true;   
            methodOneInJavascript1();
        } 

        function DisableButtonTest4()
        {  
            methodOneInJavascript4();
            document.getElementById('insiteBtn4').disabled=true;
document.getElementById('fetchingedssols2').style.display = "block";             
        } 

    </script>
    <script>
       // Sai/Anirudh :10/24: Insite Second Pull Prod Issue
function disablesecondpullbutton(nextPullElement){
            document.getElementById('fetchingedssols').style.display = "block";
            nextPullElement.disabled=true;
            fetchEDSSolutions();
        }
        // End: Prod Issue 
    </script>

    <c:CSS_Standard_IntakeStyles /> 
    <c:css_ExtraStyles />

    <apex:outputPanel rendered="{!isfaultCodeView}" id="FCView">
        <fieldset class="field_set" style="width:100%">
            <!---Story 67558 Start ---->            
            <!---<legend class="fs_legend">{!$Label.css_Troubleshooting_Overview}</legend>----->
            <legend class="fs_legend" align="right">                
                <apex:outputPanel rendered="{!IF(($Cache.Session.local.CSSPartition.DSIDIndicator == 'G' || $Cache.Session.local.CSSPartition.DSIDIndicator == 'N'), true, false)}"> 
                    <!-- <apex:outputPanel rendered="{!IF((dSIDIndicator == 'G' || dSIDIndicator == 'N'), true, false)}"> -->
                    <span><a href="#" class="takeControlButton" data-toggle="modal" data-target="#takeC" >{!$Label.CSS_Take_Control_Btn}</a></span>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!IF(($Cache.Session.local.CSSPartition.DSIDIndicator == 'O'), true, false)}">                
                    <!-- <apex:outputPanel rendered="{!IF(dSIDIndicator == 'O' , true, false)}"> -->
                    <span><a href="#" class="cmi_lighttealbutton" data-toggle="modal" data-target="#takeC" >{!$Label.CSS_Take_Control_Btn}</a></span>
                </apex:outputPanel>
            </legend>
            <!---Story 67558 End---->
            <!--Added by Manjiri--->
            <apex:outputPanel style="float: right;color: white;border: 2px solid blue;padding: 10px 10px 10px 10px;background-color: #0088cc;" rendered="{!IF(($Cache.Session.local.CSSPartition.DSIDIndicator == 'G' || $Cache.Session.local.CSSPartition.DSIDIndicator == 'N'),true,false)}" >                
                {!$Label.CSS_Read_Only}                
            </apex:outputPanel>
           <!-- rendered="{!IF(rJobOrd.INSITE_UpdateTimeStamp__c== null, true, false)}"-->
            <apex:outputpanel id="insite1" >
                <div class="col-md-12 col-xs-12">
                    <div class="panel-heading"> <b>{!$Label.css_Troubleshooting_Overview}</b></div>
                    <div class="panel-heading"> <b>  {!$Label.css_Connect_to_the_ECM}  </b> </div>
                    <div class="panel-body">

                        <div class="col-md-12 col-xs-12">
                            <p> {!$Label.css_Connect_to_the_engine_and_Click_the_Launch_INSITE_button_below}</p>                            
                        </div>

                        <div class="col-md-12 col-xs-12"> </div>
                        <div class="row">
                            <div class="col-md-8 col-xs-12">
                                <p>{!$Label.css_If_prompted_input_Security_Type_and_ECM_Password}</p>
                                <p>{!$Label.CSS_Label01_TndRepOverview}</p>
                            </div>
                        </div><br/>
                        <!----------defect fix 71457 start date:1/25/2017-------------------------------->
                        <!-- <apex:outputPanel rendered="{!IF((dSIDIndicator == 'O')||(dSIDIndicator == null || dSIDIndicator == ''), true, false)}"> -->
<!-- rendered="{!IF(($Cache.Session.local.CSSPartition.DSIDIndicator == 'O' || $Cache.Session.local.CSSPartition.DSIDIndicator == 'Blank'), true, false)}"-->
                        <apex:outputPanel >
                            <div class="row">
                                <div class="col-md-6 col-xs-12">
                                    <a onclick="launchInsite();"  class="saveButton"> 
                                        <apex:actionSupport event="onclick"  rerender="insite10"/>
                                        {!$label.css_Lau_Ret_But}</a> 
                                </div>
                                <div class="col-md-6 col-xs-12" >
                                    <!-- <b style="color:red">
                                        <apex:actionStatus startText=" Processing..... Please wait until it finishes."  id="updating_insiteEsnpopup4_status1" /></b> -->
                                    <!-- Sai/Anirudh :10/24: Insite Second Pull Prod Issue -->
                                    <div id="fetchingedssols2" style="display:none;">
                                        <b style="color:red">
                                            <apex:outputText value="Processing..... Please wait until it finishes."/>
                                        </b>
                                    </div>                                    
                                    <apex:actionFunction action="{!pgFCRefresh}" name="methodOneInJavascript4" onComplete="return false;" reRender="InsiteNcPop,UnitLookupSearch,HHPPopup2,HHPPopup1,servModelPopup"/>
                                    <button id="insiteBtn4"  Class="saveButton" onclick="DisableButtonTest4(); return false;">
                                        {!$Label.css_Pull_in_Fault_Codes}
                                    </button>
                                    <!-- End: Prod Issue -->

                                </div>
                            </div>
                        </apex:outputPanel>
                        <!-- <apex:outputPanel rendered="{!IF((dSIDIndicator == 'G' || dSIDIndicator == 'N'), true, false)}">  -->
                        <apex:outputPanel rendered="{!IF(($Cache.Session.local.CSSPartition.DSIDIndicator == 'G' || $Cache.Session.local.CSSPartition.DSIDIndicator == 'N'), true, false)}">
                            <div class="col-md-6 col-xs-12">
                                <a class="cmi_lighttealbutton">  {!$label.css_Lau_Ret_But} </a>
                            </div>
                            <div class="col-md-6 col-xs-12" >

                                <apex:commandLink styleclass="cmi_lighttealbutton" value="{!$Label.css_Pull_in_Fault_Codes}" >
                                    <apex:actionSupport event="onclick" />
                                </apex:commandLink>
                            </div>
                        </apex:outputPanel>

                        <!----------defect fix 71457 end date :1/25/2017-------------------------------->
                    </div>
                </div>
            </apex:outputpanel>
            <div class="panel">
                <!--       <apex:inputHidden value="{!Ins_JobId}"/>  -->
                <apex:outputpanel id="insite10" rendered="{!IF(AND(NOT(ISBLANK(FCWrapper)),FCWrapper.size>0),true,false)}">
                    <!-- right side -->
                    <div class="col-md-12" style="margin:20px 0px 0px 10px">
                        <div class="form-horizontal" role="form"> 
                            <div class="form-group">
                                <div class="col-md-6 col-xs-12">

                                    <span style="font-size:18px;font-weight: bold">{!$Label.css_Fault_Codes}</span>
                                    <p><b>{!$Label.css_Pull_in_Fault_Codes}:</b><apex:outputText value="{!sftdDate}" />  </p>
                                </div>
                            </div>
                        </div>
                        <!-----Start code for Prioritized Fault Codes Desktop ----------------->           

                        <div class="panel-body"> 
                            <!--class = "mytable table table-striped "--> 
                            <apex:variable var="modCnt" value="{!0}" />
                            <apex:repeat value="{!FCWrapper}" var="wrap" id="theRepeathead">
                                <apex:outputPanel rendered="{!if(wrap.module != '' || wrap.module != null,if(DisplayPrioritized, if(modCnt==0, true, false), true),false)}">
                                    <div class="form-horizontal" role="form"> 
                                        <div class="form-group">
                                            <div class="col-md-12 col-xs-12">
                                                <div class="cmi_ecm-label">
                                                    <b>ECM ({!wrap.module}) {!wrap.primOrSecond} {!if(modCnt>1,modCnt,'')}</b>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <apex:outputPanel rendered="{!IF(wrap.displyFaultCode == false,true,false)}">
                                        <div class="form-horizontal" role="form"> 
                                            <div class="form-group">
                                              <div class="col-md-12 col-xs-12">                                 
                                                    <b>{!$Label.CSS_No_Fault_Codes_Insite}</b>
                                                </div>

                                            </div>
                                        </div>                                                    
                                    </apex:outputPanel>                                     
                                </apex:outputPanel>                                
                            <!--</apex:repeat>
                            <apex:repeat value="{!FCWrapper}" var="wrap" id="theRepeathead2">-->
                                <apex:outputPanel id="displayfcs" rendered="{!wrap.displyFaultCode}">
                                    <apex:outputpanel id="insite1" rendered="{!IF(wrap.faultCodes.size> 0, if(DisplayPrioritized, if(modCnt==0, true, false), true), false)}">                                    
                                        <div class="form-horizontal" role="form"> 
                                            <div class="form-group form-group1">
                                                <div class="col-md-6 col-xs-12">

                                                    <span class="cmi_fault-code"><b>{!$Label.css_Prioritized_Fault_Codes}</b></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-horizontal" role="form"> 
                                            <div class="form-group form-group1">
                                                <div class="col-sm-12">
                                                    <table class="mytable table table-striped table-bordered CMI-HomeTable FCTable">
                                                        <thead>
                                                            <tr>
                                                                <th class="tblhead" style="width:15%;text-align:center">
                                                                    <b>{!$Label.css_Diagnose}</b>
                                                                </th>
                                                                <th class="tblhead" style="width:21%">
                                                                    <div class="row">
                                                                        <div class="col-sm-offset-2 col-sm-4">
                                                                            <b>{!$Label.CSS_Status}</b>  
                                                                        </div>
                                                                        <div class="col-sm-offset-2 col-sm-4">
                                                                             <b>{!$Label.CSS_INS_FC_COUNT}</b>
                                                                        </div>
                                                                    </div>
                                                                 </th>
                                                              <th class="tblhead" style="width:85%">
                                                                    <div class="row">
                                                                        <div class="col-sm-4 fcmargin"><b>{!$Label.CSS_Solution_Position}</b></div>
                                                                        <div class="col-sm-2"><b>{!$Label.css_Solutions}</b></div>
                                                                        <div class="col-sm-offset-1 col-sm-4"><b>{!$Label.css_Repairs_Made}</b></div>
                                                                    </div>
                                                                </th>
                                                                <th class="tblhead" style="width:0%">
                                                                    <div style="margin-right:80px;">
                                                                    <b>{!$Label.CSS_SRTs}</b>
                                                                    </div>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody style="max-height:150px;">                                         
                                                            <apex:variable var="fcCnt" value="{!1}" />
                                                            <apex:repeat value="{!wrap.faultCodes}" var="fc" id="theRepeat" >
                                                                <tr>
                                                                    <td>                        
                                                                        <div class="cmi_td-diagnose"> 
                                                                            <b> {!fcCnt} </b> 
                                                                        </div>
                                                                        <div class="col-sm-6">
                                                                            <b>
                                                                                <!-- //added for defect 109207-->
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">

                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}&rank={!rankDetails[fc.Id]}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <!--END-->
                                                                                <br style="clear:both;" /> {!$Label.css_Related_Codes}:
                                                                            </b>
                                                                        </div>
                                                                        <div class="col-sm-offset-1 col-sm-7">
                                                                           <span><b> {!fc.RelatedFaultCode__c} </b> </span>  <br style="clear:both;"/>
                                                                            <apex:outputText rendered="{!IF((fc.PoleMessage__c == True && fc.isPole__c== True),True,False)}">
                                                                                <div class="css_alert_red "/>
                                                                                <span style="color:red">{!$Label.css_Not_all_solutions_were}<br/>{!$Label.css_completed}.<br/><i>{!$Label.css_This_is_required}.</i></span> 
                                                                            </apex:outputText>
                                                                        </div> 
                                                                    </td>
                                                                   <td style="padding-left:0px">
                                                                        <div class="row" style="margin-left:-84px">
                                                                            <div class="col-sm-4">
                                                                                <apex:outputPanel rendered="{!IF(fc.Status__c == 'A',true,false)}">
                                                                                    Active
                                                                                </apex:outputPanel> 
                                                                                <apex:outputPanel rendered="{!IF(fc.Status__c == 'I',true,false)}">
                                                                                    Inactive
                                                                                </apex:outputPanel>
                                                                            </div>
                                                                            <div class="col-sm-4" style="padding-left:14px;">
                                                                                <apex:outputPanel rendered="{!IF(fc.Count__c == null,true,false)}">
                                                                                    0
                                                                                </apex:outputPanel> 
                                                                                <apex:outputPanel rendered="{!IF(fc.Count__c!= null,true,false)}">
                                                                                    {!fc.Count__c}
                                                                                </apex:outputPanel> 
                                                                            </div>
                                                                        </div>
                                                                    </td>

                                                                    <!-----solutions & repairs code start Prioritized Fault Codes----------------->
                                                                    <td><div>
                                                                        <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                            <div style="color:#B5B3B3;text-align:center;margin-bottom:10pxmargin-right:85px;">
                                                                                <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                            </div>
                                                                        </apex:outputpanel>
                                                                        <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                            <div style="color:#B5B3B3;text-align:center;margin-bottom:10px;margin-right:85px">
                                                                                <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found} </span> <br/>
                                                                            </div>
                                                                        </apex:outputpanel> <br/>
                                                                        <div class="row" style="margin-left:-180px;margin-right:-72px;">
                                                                            <div class="col-sm-12">
                                                                                <!-- <apex:variable var="SolCnt" value="{!0}" />-->
                                                                                <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols"> 
                                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                        <div class="row"> 
                                                                                            <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                                <div class="col-sm-offset-2 col-sm-1">
                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Solution_Title__c != null ,true,false)}">
                                                                                                        <span><b>{!VSols.Rank__c}</b> 
                                                                                                            <br/> 
                                                                                                        </span>
                                                                                                    </apex:outputpanel>
                                                                                                </div>
                                                                                                <div class="col-sm-offset-2 col-sm-1">
                                                                                                    <i class="cmi-icon {!IF(VSols.Diagnostic_Response__c == 'Most likely the solution', 'icon-correct',
                                                                                                              IF(VSols.Diagnostic_Response__c == 'Not the solution', 'icon-wrong','icon-qtn'))}">
                                                                                                    </i>
                                                                                                </div>
                                                                                                <div class="col-sm-3">
                                                                                                    <b>{!VSols.Case_Name__c}</b> <br/>
                                                                                                    <div>{!VSols.Solution_Title__c}</div> 
                                                                                                </div>
                                                                                                <div class="col-sm-3">
                                                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                        <div class="row">
                                                                                                            <div class="col-sm-12">
                                                                                                                <apex:outputpanel > 
                                                                                                                    <div class="col-sm-offset-1 col-sm-2">
                                                                                                                        <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-solidCorrect',
                                                                                                                                  IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                                                                  IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-solidQtn',
                                                                                                                                  IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-solidWrong', NULL))))}">
                                                                                                                        </i>
                                                                                                                    </div>
                                                                                                                  <!--  <div class="col-sm-9">
                                                                                                                        <b>{!VSols.Repair_Response__c}</b>
                                                                                                                    </div>-->
                                                                                                                    <div class="col-sm-9">
                                                                                                                    <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                            <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                                                            </apex:outputPanel>
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-9">
                                                                                                                         <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                            <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                                                            </apex:outputPanel>
                                                                                                                    </div>

                                                                                                                    <div class="clearfix"></div>
                                                                                                                </apex:outputpanel>
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-offset-4 col-sm-8">
                                                                                                                        <!---    <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
<a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">Perform Repair </a>
</apex:outputpanel>  --->
                                                                                                                        <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">

                                                                                                                            <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Most likely the solution',true,false)}">  
                                                                                                                                <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_Perform_Repair} </a>

                                                                                                                            </apex:outputpanel>
                                                                                                                            <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Not the solution' || VSols.Diagnostic_Response__c == 'Could not perform the solution verification',true,false)}">  
                                                                                                                                <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_View_Repair} </a>
                                                                                                                            </apex:outputpanel>
                                                                                                                        </apex:outputpanel>    
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <div class="clearfix"></div>
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-offset-1 col-sm-2"></div>
                                                                                                                    <div class="col-sm-9" style="margin-left:60px;">
                                                                                                                        <apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                                                            <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                                                                {!VComps.Name}  {!VComps.Action__c}
                                                                                                                            </apex:repeat>
                                                                                                                        </apex:outputpanel>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="clearfix"></div>
                                                                                                        </div>   
                                                                                                    </apex:outputpanel>
                                                                                                </div>
                                                                                            </apex:outputpanel>
                                                                                        </div> 
                                                                                    </apex:outputpanel>
                                                                                    <!--  <apex:variable value="{!SolCnt+1}" var="SolCnt"/>-->
                                                                                </apex:repeat>
                                                                            </div> 
                                                                        </div>
                                                                        </div>
                                                                    </td>    

                                                                    <!-----solutions & repair code End Prioritized Fault Codes----------------->
                                                                    <td style="text-align:center">
                                                                        <div class="col-sm-offset-3 col-sm-9">
                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                                    <div>
                                                                                        <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                                        {!DSRT}
                                                                                    </div>
                                                                                </apex:repeat>
                                                                            </apex:outputpanel>
                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                                    <div>
                                                                                        <b>{!$Label.css_Repair}: </b><br/>
                                                                                        {!RSRT}
                                                                                    </div>
                                                                                </apex:repeat>
                                                                            </apex:outputpanel>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <!--  </tbody> -->
                                                                <apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                            </apex:repeat>

                                                        </tbody>
                                                    </table>  
                                                </div> 
                                                <!-----End code for Prioritized Fault Codes Desktop View-----------------> 
                                                <!-----Start code for Prioritized Fault Codes Mobile View-----------------> 
                                                <table class="CMI-HomeTableMobile">
                                                    <apex:repeat value="{!wrap.faultCodes}" var="fc" id="theRepeat1" >
                                                        <tr>
                                                            <th>{!$Label.css_Diagnose}</th>
                                                            <td>                        
                                                                <div class="cmi_td-diagnose"> 
                                                                    <b> {!fcCnt} </b> 
                                                                </div>
                                                                <div>
                                                                    <b>
                                                                        <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">

                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}&rank={!rankDetails[fc.Id]}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                        <br />
                                                                        {!$Label.css_Related_Codes}:</b>
                                                                    <b> {!fc.RelatedFaultCode__c} </b>  <br/>
                                                                    <apex:outputText rendered="{!IF((fc.PoleMessage__c == True && fc.isPole__c== True),True,False)}">
                                                                        <div class="css_alert_red "/>
                                                                        <span style="color:red">{!$Label.css_Not_all_solutions_were}<br/>{!$Label.css_completed}.<br/><i>{!$Label.css_This_is_required}.</i></span> 
                                                                    </apex:outputText>
                                                                </div> 
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>{!$Label.css_Solutions}</th>
                                                            <td>
                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                    <div>
                                                                        <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found} </span> <br/>
                                                                    </div>
                                                                    <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                        <div>                                                                
                                                                            <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                <span style="font-size: 12px;">
                                                                                    <i class="cmi-icon {!IF(VSols.Diagnostic_Response__c == 'Most likely the solution', 'icon-correct',
                                                                                              IF(VSols.Diagnostic_Response__c == 'Not the solution', 'icon-wrong','icon-qtn'))}"></i>
                                                                                    <b>{!VSols.Case_Name__c}</b></span> <br/>
                                                                                <div>{!VSols.Solution_Title__c}</div><br/>
                                                                            </apex:outputpanel>
                                                                        </div>
                                                                    </apex:repeat>
                                                                </apex:outputpanel>
                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                    <div>
                                                                        <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                    </div>
                                                                </apex:outputpanel>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>{!$Label.css_Repairs_Made}</th>
                                                            <td> 
                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                    <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                        <div>
                                                                            <span style="font-size: 12px;">
                                                                                <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-correct',
                                                                                          IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                          IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-qtn',
                                                                                          IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-wrong', NULL))))}"></i>

                                                                                </span>
                                                                               <!-- Response - {!VSols.Repair_Response__c}-->
                                                                           <!-- <div class="col-sm-9">-->
                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                    <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                </apex:outputPanel>
                                                                           <!-- </div>-->
                                                                          <!--  <div class="col-sm-9">-->
                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                    <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                </apex:outputPanel>
                                                                            <!--</div>-->
                                                                            <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null ,true,false)}">
                                                                                <a href="  '/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">{!$Label.css_Perform_Repair} </a> 
                                                                            </apex:outputpanel>

                                                                            <div>
                                                                                <apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                    <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                        {!VComps.Name}  {!VComps.Action__c}
                                                                                    </apex:repeat>
                                                                                </apex:outputpanel>
                                                                            </div>
                                                                        </div>
                                                                    </apex:repeat>
                                                                </apex:outputpanel>
                                                            </td>
                                                        </tr><tr>  <th>SRTs</th>      
                                                        <td>
                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                    <div>
                                                                        <span style="font-size: 12px;">
                                                                            <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                            {!DSRT}
                                                                        </span>
                                                                    </div>
                                                                </apex:repeat>
                                                            </apex:outputpanel>
                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                    <div>
                                                                        <span style="font-size: 12px;">
                                                                            <b>{!$Label.css_Repair}: </b><br/>
                                                                            {!RSRT}
                                                                        </span>
                                                                    </div>
                                                                </apex:repeat>
                                                            </apex:outputpanel>
                                                        </td>
                                                        </tr> 

                                                        <apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                    </apex:repeat>
                                                </table> 
                                            </div></div>
                                    </apex:outputpanel> 
                                    <br/>
                                    <!-----End code for Prioritized Fault Codes Mobile View-----------------> 
                                    <!-----Start code for Additional Fault Codes Desktop View-----------------> 
                                    <apex:outputpanel rendered="{!(!DisplayPrioritized)}">
                                        <apex:outputpanel id="insite11" rendered="{!IF(wrap.unPrioritizedFaultCodes.size> 0 , true, false)}">
                                            <div class="form-horizontal" role="form"> 
                                                <div class="form-group form-group1">
                                                    <div class="col-md-6 col-xs-12">

                                                        <span class="cmi_fault-code"><b>{!$Label.css_Additional_Fault_Codes}</b></span>
                                                        <a data-target="#notPtzFCPopup" data-toggle="modal" ><span class="cmi_intake_help" /></a> 
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="form-horizontal" role="form"> 
                                                <div class="form-group form-group1">
                                                    <div class="col-md-12 ">
                                                        <table class="mytable table table-striped table-bordered CMI-HomeTable FCTable">
                                                             <thead>
                                                            <tr>
                                                                <th class="tblhead" style="width:15%;text-align:center">
                                                                    <b>{!$Label.css_Diagnose}</b>
                                                                </th>
                                                                <th class="tblhead" style="width:21%">
                                                                    <div class="row">
                                                                        <div class="col-sm-offset-2 col-sm-4">
                                                                            <b>{!$Label.CSS_Status}</b>  
                                                                        </div>
                                                                        <div class="col-sm-offset-2 col-sm-4">
                                                                             <b>{!$Label.CSS_INS_FC_COUNT}</b>
                                                                        </div>
                                                                    </div>
                                                                 </th>
                                                              <th class="tblhead" style="width:85%">
                                                                    <div class="row">
                                                                        <div class="col-sm-4 fcmargin"><b>{!$Label.CSS_Solution_Position}</b></div>
                                                                        <div class="col-sm-2"><b>{!$Label.css_Solutions}</b></div>
                                                                        <div class="col-sm-offset-1 col-sm-4"><b>{!$Label.css_Repairs_Made}</b></div>
                                                                    </div>
                                                                </th>
                                                                <th class="tblhead" style="width:0%">
                                                                    <div style="margin-right:80px;">
                                                                    <b>{!$Label.CSS_SRTs}</b>
                                                                    </div>
                                                                </th>
                                                            </tr>
                                                        </thead>

                                                            <apex:variable var="fcCnt" value="{!1}" />
                                                            <tbody style="max-height:150px">
                                                                <apex:repeat value="{!wrap.unPrioritizedFaultCodes}" var="fc" id="theRepeat2" >

                                                                    <tr>
                                                                        <td>
                                                                            <div> 
                                                                               <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">

                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}&rank={!rankDetails[fc.Id]}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <br/>

                                                                            </div>
                                                                        </td>

                                                                        <td style="padding-left:0px">
                                                                            <div class="row" style="margin-left:-84px">
                                                                                <div class="col-sm-4">
                                                                                    <apex:outputPanel rendered="{!IF(fc.Status__c == 'A',true,false)}">
                                                                                        Active
                                                                                    </apex:outputPanel> 
                                                                                    <apex:outputPanel rendered="{!IF(fc.Status__c == 'I',true,false)}">
                                                                                        Inactive
                                                                                    </apex:outputPanel>
                                                                                </div>
                                                                                <div class="col-sm-4" style="padding-left:14px;">
                                                                                    <apex:outputPanel rendered="{!IF(fc.Count__c == null,true,false)}">
                                                                                        0
                                                                                    </apex:outputPanel> 
                                                                                    <apex:outputPanel rendered="{!IF(fc.Count__c!= null,true,false)}">
                                                                                        {!fc.Count__c}
                                                                                    </apex:outputPanel> 
                                                                                </div>
                                                                            </div>
                                                                        </td>


                                                                            <!-----solutions & repair code start----------------->
                                                                            <td><div>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <div style="color:#B5B3B3;text-align:center;margin-bottom:10px;margin-right:85px;">
                                                                                        <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                                    </div>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                    <div style="color:#B5B3B3;text-align:center;margin-bottom:10px;margin-right:85px;">
                                                                                        <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found} </span> <br/>
                                                                                    </div>
                                                                                </apex:outputpanel> <br/>
                                                                                <div class="row" style="margin-left:-180px;margin-right:-72px;">
                                                                                    <div class="col-sm-12">
                                                                                        <!-- <apex:variable var="SolCnt" value="{!0}" />-->
                                                                                        <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols"> 
                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                <div class="row"> 
                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                                        <div class="col-sm-offset-1 col-sm-1">
                                                                                                            <apex:outputpanel rendered="{!IF(VSols.Solution_Title__c != null ,true,false)}">
                                                                                                                <span><b>{!VSols.Rank__c}

                                                                                                                    </b>  <br/> </span>
                                                                                                            </apex:outputpanel>
                                                                                                        </div> 
                                                                                                        <div class="col-sm-offset-2 col-sm-1">
                                                                                                            <i class="cmi-icon {!IF(VSols.Diagnostic_Response__c == 'Most likely the solution', 'icon-correct',
                                                                                                                      IF(VSols.Diagnostic_Response__c == 'Not the solution', 'icon-wrong','icon-qtn'))}"></i>
                                                                                                        </div>
                                                                                                        <div class="col-sm-3">
                                                                                                            <b>{!VSols.Case_Name__c}</b> <br/>
                                                                                                            <div>{!VSols.Solution_Title__c}</div> 
                                                                                                        </div>
                                                                                                        <div class="col-sm-4">
                                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-12">
                                                                                                                        <apex:outputpanel > 
                                                                                                                            <div class="col-sm-offset-1 col-sm-2">
                                                                                                                                <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-solidCorrect',
                                                                                                                                          IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                                                                          IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-solidQtn',
                                                                                                                                          IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-solidWrong', NULL))))}">
                                                                                                                                </i>
                                                                                                                            </div>
                                                                                                                           <!-- Response - {!VSols.Repair_Response__c}-->
                                                                                                                           <!-- <div class="col-sm-9">-->
                                                                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                                    <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                                                                </apex:outputPanel>
                                                                                                                           <!-- </div>-->
                                                                                                                           <!-- <div class="col-sm-9">-->
                                                                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                                    <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                                                                </apex:outputPanel>
                                                                                                                           <!-- </div>-->
                                                                                                                            <div class="clearfix"></div>
                                                                                                                        </apex:outputpanel>
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-sm-offset-4 col-sm-8">
                                                                                                                                <!---    <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
<a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">Perform Repair </a>
</apex:outputpanel>  ----> 

                                                                                                                                <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">

                                                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Most likely the solution',true,false)}">  
                                                                                                                                        <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_Perform_Repair} </a> 
                                                                                                                                    </apex:outputpanel>
                                                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Not the solution' || VSols.Diagnostic_Response__c == 'Could not perform the solution verification',true,false)}">  
                                                                                                                                        <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_View_Repair} </a> 
                                                                                                                                    </apex:outputpanel>
                                                                                                                                </apex:outputpanel>    
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-sm-offset-1 col-sm-2"></div>
                                                                                                                            <div class="col-sm-9" style="margin-left:60px;">
                                                                                                                                <apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                                                                    <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                                                                        {!VComps.Name}  {!VComps.Action__c}
                                                                                                                                    </apex:repeat>
                                                                                                                                </apex:outputpanel>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div class="clearfix"></div>
                                                                                                                </div>   
                                                                                                            </apex:outputpanel>
                                                                                                        </div>
                                                                                                    </apex:outputpanel>
                                                                                                </div> 
                                                                                            </apex:outputpanel>
                                                                                            <!-- <apex:variable value="{!SolCnt+1}" var="SolCnt"/>-->
                                                                                        </apex:repeat>
                                                                                    </div> 
                                                                                </div>
                                                                                </div>
                                                                            </td>    

                                                                            <!-----solutions & repair code End-----------------> 
                                                                      <!--  </font>  -->
                                                                        <td style="text-align:center;">
                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                                    <div>
                                                                                        <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                                        {!DSRT}
                                                                                    </div>
                                                                                </apex:repeat>
                                                                            </apex:outputpanel>
                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                                    <div>
                                                                                        <b>{!$Label.css_Repair}: </b><br/>
                                                                                        {!RSRT}
                                                                                    </div>
                                                                                </apex:repeat>
                                                                            </apex:outputpanel>
                                                                        </td>
                                                                    </tr>
                                                                    <apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                                </apex:repeat> 
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <table class="CMI-HomeTableMobile">
                                                        <apex:repeat value="{!wrap.unPrioritizedFaultCodes}" var="fc" id="theRepeat22" >
                                                            <tr>
                                                                <th>{!$Label.css_Diagnose}</th>
                                                                <td>
                                                                    <div>
                                                                        <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">

                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}&rank={!rankDetails[fc.Id]}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                        <br/>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th>{!$Label.css_Solutions}</th>
                                                                <td>
                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                        <div>
                                                                            <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found}</span> <br/>
                                                                        </div>
                                                                        <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                            <div>                                                                
                                                                                <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                    <span style="font-size: 12px;"><i class="cmi-icon icon-correct"></i>
                                                                                        <b>{!VSols.Case_Name__c}</b></span> <br/>
                                                                                    <div>{!VSols.Solution_Title__c}</div><br/>
                                                                                </apex:outputpanel>
                                                                            </div>
                                                                        </apex:repeat>
                                                                    </apex:outputpanel>
                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                        <div>
                                                                            <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                        </div>
                                                                    </apex:outputpanel>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th>{!$Label.css_Repairs_Made}</th>
                                                                <td> 
                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                        <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                            <div>
                                                                                <span style="margin-bottom:10px;">
                                                                                    <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-solidCorrect',
                                                                                              IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                              IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-solidQtn',
                                                                                              IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-solidWrong', NULL))))}"></i>
                                                                                
                                                                                    <!--<b>{!VSols.Repair_Response__c}</b>-->
                                                                               <!-- <div class="col-sm-9">-->
                                                                                    <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                        <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                    </apex:outputPanel>
                                                                               <!-- </div>-->
                                                                                <!--<div class="col-sm-9">-->
                                                                                    <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                        <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                    </apex:outputPanel>
                                                                               <!-- </div>-->
                                                                                    </span> <br/>


                                                                                <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
                                                                                    <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">{!$Label.css_Perform_Repair} </a> 
                                                                                </apex:outputpanel>

                                                                                <div>
                                                                                    <apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                        <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                            {!VComps.Name}  {!VComps.Action__c}
                                                                                        </apex:repeat>
                                                                                    </apex:outputpanel>
                                                                                </div>
                                                                            </div>
                                                                        </apex:repeat>
                                                                    </apex:outputpanel>
                                                                </td>
                                                            </tr>
                                                            <tr> <th>SRTs</th>
                                                                <td>
                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                        <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                            <div>
                                                                                <span style="font-size: 12px;">
                                                                                    <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                                    {!DSRT}
                                                                                </span>
                                                                            </div>
                                                                        </apex:repeat>
                                                                    </apex:outputpanel>
                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                        <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                            <div>
                                                                                <span style="font-size: 12px;">
                                                                                    <b>{!$Label.css_Repair}: </b><br/>
                                                                                    {!RSRT}
                                                                                </span>
                                                                            </div>
                                                                        </apex:repeat>
                                                                    </apex:outputpanel>
                                                                </td></tr>

                                                            <apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                        </apex:repeat>
                                                    </table> 
                                                </div>
                                            </div>
                                        </apex:outputpanel>
                                    </apex:outputpanel>
                                    <!-----End code for Additional Fault Codes Desktop View-----------------> 
                                    <br/>

                                    <apex:variable value="{!modCnt+1}" var="modCnt"/>

                                </apex:outputPanel> 
                            </apex:repeat>              
                        </div>  
                    </div>
                    <div class="row">
                        <apex:outputpanel rendered="{!(!DisplayPrioritized)}">
                            <!-----Added for Defect 71457Start---->

                            <apex:outputPanel rendered="{!IF(($Cache.Session.local.CSSPartition.DSIDIndicator == 'O'|| $Cache.Session.local.CSSPartition.DSIDIndicator == 'Blank'), true, false)}">
                                <div class="col-md-6 col-xs-12">
                                    <a onclick="launchInsite();"  class="saveButton">  {!$Label.css_Launch_or_Return_to_INSITE}  </a>
                                </div>
                                <!-- Sai/Anirudh : Below code for Prod Issue - Insite Second Pull -->
                                <div class="col-md-6 col-xs-12" >
                                   <div id="fetchingedssols" style="display:none;">
                                       <b style="color:red">
                                           <apex:outputText value="Processing..... Please wait until it finishes."/>
                                       </b>
                                    </div>
                                    <apex:actionFunction name="fetchEDSSolutions" action="{!pgFCRefresh}"/>
                                    <apex:commandLink styleclass="saveButton" value="{!$Label.css_Pull_in_Fault_Codes}" onComplete="return false;" rerender="InsiteNcPop,UnitLookupSearch,HHPPopup2,HHPPopup1,servModelPopup" onClick="disablesecondpullbutton(this);"/>
                                </div>
                                <!-- End : Prod Issue - Insite Second Pull -->
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(($Cache.Session.local.CSSPartition.DSIDIndicator == 'G' || $Cache.Session.local.CSSPartition.DSIDIndicator == 'N'), true, false)}">
                                <div class="col-md-6 col-xs-12">
                                    <a class="cmi_lighttealbutton">  {!$Label.css_Launch_or_Return_to_INSITE}  </a>
                                </div>
                                <div class="col-md-6 col-xs-12" >
                                    <apex:commandLink styleclass="cmi_lighttealbutton" value="{!$Label.css_Pull_in_Fault_Codes}" >
                                        <apex:actionSupport event="onclick" />
                                    </apex:commandLink>
                                </div>
                            </apex:outputPanel>
                            <!-----Added for Defect 71457 End---->
                        </apex:outputpanel> 
                    </div>
                </apex:outputpanel>                
                <br/>
                <!---------------------start code for Story  49780 --------------------------->        
                <apex:outputPanel rendered="{!(!DisplayPrioritized)}">
                    <apex:outputPanel rendered="{!IF(AND(NOT(ISBLANK(AllOtherFCWrapper)),AllOtherFCWrapper.size>0),true,false)}">
                        <div class="panel" style="margin-top: 24px;padding: 0;">
                            <b>{!$Label.css_Previously_pulled_Fault_codes}</b>         
                            <div class="panel-group CMI-generic-accordion" id="accordion7">  
                                <apex:variable var="count" value="{!0}" />
                                <apex:repeat value="{!AllOtherFCWrapper}" var="parentWrap">
                                    <apex:variable value="{!count+1}" var="count"/>
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h4 class="panel-title"  data-toggle="collapse" data-parent="#accordion7" data-target="#collapse2{!count}" aria-expanded="false" aria-controls="collapse2{!count}">
                                                <a class="accordion-toggle">
                                                    <div class="accordion-title">
                                                        <span class="glyphicon glyphicon-plus"></span>
                                                        <!--Defect - 106409-->
                                                        <b><apex:outputText value="{!parentWrap.UpdatedTimeStampvalue}" /></b> 
                                                    </div> 
                                                </a>
                                            </h4>
                                        </div>

                                        <!--   </div>
<div class="panel panel-default">
<div class="panel-heading">
<h4 class="panel-title">
<a class="collapsed" data-toggle="collapse" data-parent="#accordion7" data-target="#collapse2{!count}" aria-expanded="false" aria-controls="collapse2{!count}">
<span class="glyphicon glyphicon-plus"></span>
<i class="fa fa-caret-down fa-lg   pull-left"></i>
<b><apex:outputText value="{!parentWrap.UpdatedTimeStamp}" /></b>
</a>
</h4>
</div>
</div>  -->

                                        <div id="collapse2{!count}" class="panel-collapse collapse">
                                            <br/>
                                            <apex:outputpanel id="insite14" rendered="{!IF(AND(NOT(ISBLANK(parentWrap.Wrwrap)),parentWrap.Wrwrap.size>0),true,false)}">
                                                <div class="panel-body">
                                                    <apex:variable var="modCnt" value="{!0}" />
                                                    <apex:repeat value="{!parentWrap.Wrwrap}" var="wrap" id="theRepeathead2" >

                                                        <apex:outputPanel rendered="{!if(wrap.module == '' || wrap.module == null,false,true)}">
                                                            <div class="form-horizontal" role="form"> 
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-xs-12">

                                                                        <div class="cmi_ecm-label">
                                                                            <b>ECM ({!wrap.module}) {!wrap.primOrSecond} {!if(modCnt>1,modCnt,'')}</b>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <apex:outputPanel rendered="{!IF(wrap.displyFaultCode == false,true,false)}">
                                                                <div class="form-horizontal" role="form"> 
                                                                    <div class="form-group">
                                                                        <div class="col-md-12 col-xs-12">                                 
                                                                            <b>{!$Label.CSS_No_Fault_Codes_Insite}</b>
                                                                        </div>

                                                                    </div>
                                                                </div>                                                    
                                                            </apex:outputPanel>                                                      
                                                        </apex:outputPanel>
                                                   <!-- </apex:repeat>
                                                    <apex:repeat value="{!parentWrap.Wrwrap}" var="wrap" id="theRepeathead21" >-->
                                                        <apex:outputpanel id="insite1" rendered="{!IF(wrap.faultCodes.size> 0, true, false)}">                                    
                                                            <div class="form-horizontal" role="form"> 
                                                                <div class="form-group form-group1">
                                                                    <div class="col-md-12 col-xs-12">

                                                                        <span class="cmi_fault-code"><b>{!$Label.css_Prioritized_Fault_Codes}</b></span>

                                                                    </div>

                                                                </div>   
                                                            </div>
                                                            <!--  <div class="table-responsive" style="max-height:350px;"> -->
                                                            <table class="mytable table table-striped table-bordered CMI-HomeTable FCTable">
                                                                <thead>
                                                            <tr>
                                                                <th class="tblhead" style="width:15%;text-align:center">
                                                                    <b>{!$Label.css_Diagnose}</b>
                                                                </th>
                                                                <th class="tblhead" style="width:21%">
                                                                    <div class="row">
                                                                        <div class="col-sm-offset-2 col-sm-4">
                                                                            <b>{!$Label.CSS_Status}</b>  
                                                                        </div>
                                                                        <div class="col-sm-offset-2 col-sm-4">
                                                                             <b>{!$Label.CSS_INS_FC_COUNT}</b>
                                                                        </div>
                                                                    </div>
                                                                 </th>
                                                              <th class="tblhead" style="width:85%">
                                                                    <div class="row">
                                                                        <div class="col-sm-4 fcmargin"><b>{!$Label.CSS_Solution_Position}</b></div>
                                                                        <div class="col-sm-2"><b>{!$Label.css_Solutions}</b></div>
                                                                        <div class="col-sm-offset-1 col-sm-4"><b>{!$Label.css_Repairs_Made}</b></div>
                                                                    </div>
                                                                </th>
                                                                <th class="tblhead" style="width:0%">
                                                                    <div style="margin-right:80px;">
                                                                    <b>{!$Label.CSS_SRTs}</b>
                                                                    </div>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                                <tbody style="max-height:150px">
                                                                    <apex:variable var="fcCnt" value="{!1}" />
                                                                    <apex:repeat value="{!wrap.faultCodes}" var="fc" id="theRepeat3" >
                                                                        <tr>
                                                                            <td>                        
                                                                                <div class="cmi_td-diagnose"> 
                                                                                    <b> {!fcCnt} </b> 
                                                                                </div>                                                               
                                                                                <div class="col-sm-6"> 
                                                                                   <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">

                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}&rank={!rankDetails[fc.Id]}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                    <br style="clear:both;" />
                                                                                    <b>{!$Label.css_Related_Codes}:</b> 
                                                                                </div>
                                                                                <div class="col-sm-offset-1 col-sm-7">
                                                                                    <b> {!fc.RelatedFaultCode__c} </b>  <br/>
                                                                                    <apex:outputText rendered="{!poleWarningMsg}">
                                                                                        <div class="css_alert_red ">
                                                                                            <span style="color:red">{!$Label.css_Not_all_solutions_were}<br/>{!$Label.css_completed}.<br/><i>{!$Label.css_This_is_required}.</i></span>
                                                                                        </div>
                                                                                    </apex:outputText>
                                                                                </div>
                                                                            </td>
                                                                            <td style="padding-left:0px">
                                                                                <div class="row" style="margin-left:-84px">
                                                                                    <div class="col-sm-4">
                                                                                        <apex:outputPanel rendered="{!IF(fc.Status__c == 'A',true,false)}">
                                                                                            Active
                                                                                        </apex:outputPanel> 
                                                                                        <apex:outputPanel rendered="{!IF(fc.Status__c == 'I',true,false)}">
                                                                                            Inactive
                                                                                        </apex:outputPanel>
                                                                                    </div>
                                                                                    <div class="col-sm-4" style="padding-left:14px;">
                                                                                        <apex:outputPanel rendered="{!IF(fc.Count__c == null,true,false)}">
                                                                                            0
                                                                                        </apex:outputPanel> 
                                                                                        <apex:outputPanel rendered="{!IF(fc.Count__c!= null,true,false)}">
                                                                                            {!fc.Count__c}
                                                                                        </apex:outputPanel> 
                                                                                    </div>
                                                                                </div>
                                                                            </td>

                                                                            <!--          <td>
<apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
<div>
<span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found}</span> <br/>
</div>
<apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
<div>                                                                
<apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
<span style="font-size: 12px;"><i class="cmi-icon icon-correct"></i>
<b>{!VSols.Case_Name__c}</b></span> <br/>
<div>{!VSols.Solution_Title__c}</div><br/>
</apex:outputpanel>
</div>
</apex:repeat>
</apex:outputpanel>
<apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
<div>
<span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
</div>
</apex:outputpanel>
</td>
<td> 
<apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
<apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
<div>
<span style="margin-bottom:10px;">

<i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-correct',
IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-qtn',
IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-wrong', NULL))))}"></i>

<b>{!VSols.Repair_Response__c}</b></span> <br/>

<apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
<a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">Perform Repair </a> 
</apex:outputpanel>

<div>
<apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
<apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
{!VComps.Name}  {!VComps.Action__c}
</apex:repeat>
</apex:outputpanel>
</div>
</div>
</apex:repeat>
</apex:outputpanel>
</td>  ----->

                                                                            <!-----solutions & repair code start----------------->
                                                                            <td><div>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <div style="color:#B5B3B3;text-align:center;margin-bottom:10px;margin-right:30px">
                                                                                        <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                                    </div>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                    <div style="color:#B5B3B3;text-align:center;margin-bottom:10px;margin-right:30px">
                                                                                        <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found} </span> <br/>
                                                                                    </div>
                                                                                </apex:outputpanel> <br/>
                                                                                <div class="row" style="margin-left:-180px;margin-right:-72px;">
                                                                                    <div class="col-sm-12">
                                                                                        <!--  <apex:variable var="SolCnt" value="{!0}" /> -->
                                                                                        <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols"> 
                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                <div class="row"> 
                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                                        <div class="col-sm-offset-1 col-sm-1">
                                                                                                            <apex:outputpanel rendered="{!IF(VSols.Solution_Title__c != null ,true,false)}">
                                                                                                                <span><b>{!VSols.Rank__c}
                                                                                                                    </b>  <br/> </span>
                                                                                                            </apex:outputpanel>
                                                                                                        </div> 
                                                                                                        <div class="col-sm-offset-2 col-sm-1">
                                                                                                            <i class="cmi-icon {!IF(VSols.Diagnostic_Response__c == 'Most likely the solution', 'icon-correct',
                                                                                                                      IF(VSols.Diagnostic_Response__c == 'Not the solution', 'icon-wrong','icon-qtn'))}"></i>
                                                                                                        </div>
                                                                                                        <div class="col-sm-3">
                                                                                                            <b>{!VSols.Case_Name__c}</b> <br/>
                                                                                                            <div>{!VSols.Solution_Title__c}</div> 
                                                                                                        </div>
                                                                                                        <div class="col-sm-4">
                                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-12">
                                                                                                                        <apex:outputpanel > 
                                                                                                                            <div class="col-sm-offset-1 col-sm-2">
                                                                                                                                <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-solidCorrect',
                                                                                                                                          IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                                                                          IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-solidQtn',
                                                                                                                                          IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-solidWrong', NULL))))}">
                                                                                                                                </i>
                                                                                                                            </div>
                                                                                                                           <!-- <div class="col-sm-9">
                                                                                                                                <b>{!VSols.Repair_Response__c}</b>
                                                                                                                            </div>-->
                                                                                                                            <div class="col-sm-9">
                                                                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                                    <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                                                                </apex:outputPanel>
                                                                                                                            </div>
                                                                                                                            <div class="col-sm-9">
                                                                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                                    <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                                                                </apex:outputPanel>
                                                                                                                            </div>

                                                                                                                            <div class="clearfix"></div>
                                                                                                                        </apex:outputpanel>
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-sm-offset-4 col-sm-8">
                                                                                                                                <!---   <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
<a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">Perform Repair </a>
</apex:outputpanel>  ---> 
                                                                                                                                <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">

                                                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Most likely the solution',true,false)}">  
                                                                                                                                        <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_Perform_Repair} </a> 
                                                                                                                                    </apex:outputpanel>
                                                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Not the solution' || VSols.Diagnostic_Response__c == 'Could not perform the solution verification',true,false)}">  
                                                                                                                                        <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_View_Repair} </a> 
                                                                                                                                    </apex:outputpanel>
                                                                                                                                </apex:outputpanel>    
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-sm-offset-1 col-sm-2"></div>
                                                                                                                            <div class="col-sm-9" style="margin-left:60px;"><apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                                                                <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                                                                    {!VComps.Name}  {!VComps.Action__c}
                                                                                                                                </apex:repeat>
                                                                                                                                </apex:outputpanel>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div class="clearfix"></div>
                                                                                                                </div>   
                                                                                                            </apex:outputpanel>
                                                                                                        </div>
                                                                                                    </apex:outputpanel>
                                                                                                </div> 
                                                                                            </apex:outputpanel>
                                                                                            <!--   <apex:variable value="{!SolCnt+1}" var="SolCnt"/> -->
                                                                                        </apex:repeat>
                                                                                    </div> 
                                                                                </div>
                                                                                </div>
                                                                            </td>    

                                                                            <!-----solutions & repair code End-----------------> 
                                                                            <td style="text-align:center;">
                                                                                <div class="col-sm-offset-3 col-sm-9">
                                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                        <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                                            <div>
                                                                                                <span style="font-size: 12px;">
                                                                                                    <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                                                    {!DSRT}
                                                                                                </span>
                                                                                            </div>
                                                                                        </apex:repeat>
                                                                                    </apex:outputpanel>
                                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                        <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                                            <div>
                                                                                                <span style="font-size: 12px;">
                                                                                                    <b>{!$Label.css_Repair}: </b><br/>
                                                                                                    {!RSRT}
                                                                                                </span>
                                                                                            </div>
                                                                                        </apex:repeat>
                                                                                    </apex:outputpanel>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                        <apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                                    </apex:repeat> 
                                                                </tbody>
                                                            </table>
                                                            <table class="CMI-HomeTableMobile">
                                                                <apex:repeat value="{!wrap.faultCodes}" var="fc" id="theRepeat1" >
                                                                    <tr>
                                                                        <th>{!$Label.css_Diagnose}</th>
                                                                        <td>                        
                                                                            <div class="cmi_td-diagnose"> 
                                                                                <b> {!fcCnt} </b> 
                                                                            </div>
                                                                            <div>
                                                                                <b>
                                                                                    <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">

                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}&rank={!rankDetails[fc.Id]}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                    <br />
                                                                                    {!$Label.css_Related_Codes}:</b>
                                                                                <b> {!fc.RelatedFaultCode__c} </b>  <br/>
                                                                                <apex:outputText rendered="{!IF((fc.PoleMessage__c == True && fc.isPole__c== True),True,False)}">
                                                                                    <div class="css_alert_red "/>
                                                                                    <span style="color:red">{!$Label.css_Not_all_solutions_were}<br/>{!$Label.css_completed}.<br/><i>{!$Label.css_This_is_required}.</i></span> 
                                                                                </apex:outputText>
                                                                            </div> 
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th>{!$Label.css_Solutions}</th>
                                                                        <td>
                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                <div>
                                                                                    <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found} </span> <br/>
                                                                                </div>
                                                                                <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                                    <div>                                                                
                                                                                        <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                            <span style="font-size: 12px;">
                                                                                                <!-- <<i class="cmi-icon icon-correct"></i> -->
                                                                                                <i class="cmi-icon {!IF(VSols.Diagnostic_Response__c == 'Most likely the solution', 'icon-correct',
                                                                                                          IF(VSols.Diagnostic_Response__c == 'Not the solution', 'icon-wrong','icon-qtn'))}"></i>
                                                                                                <b>{!VSols.Case_Name__c}</b></span> <br/>
                                                                                            <div>{!VSols.Solution_Title__c}</div><br/>
                                                                                        </apex:outputpanel>
                                                                                    </div>
                                                                                </apex:repeat>
                                                                            </apex:outputpanel>
                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                <div>
                                                                                    <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                                </div>
                                                                            </apex:outputpanel>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th>{!$Label.css_Repairs_Made}</th>
                                                                        <td> 
                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                                    <div>
                                                                                        <span style="font-size: 12px;">
                                                                                            <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-solidCorrect',
                                                                                                      IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                                      IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-solidQtn',
                                                                                                      IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-solidWrong', NULL))))}"></i>
                                                                                        
                                                                                           <!-- <b>{!VSols.Repair_Response__c}</b>-->
                                                                                        <!--<div class="col-sm-9">-->
                                                                                            <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                            </apex:outputPanel>
                                                                                       <!-- </div>-->
                                                                                       <!-- <div class="col-sm-9">-->
                                                                                            <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                            </apex:outputPanel>
                                                                                       <!-- </div>-->
                                                                                            </span> <br/>


                                                                                        <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null ,true,false)}">
                                                                                            <a href="  '/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">{!$Label.css_Perform_Repair} </a> 
                                                                                        </apex:outputpanel>
                                                                                        <div>
                                                                                            <apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                                <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                                    {!VComps.Name}  {!VComps.Action__c}
                                                                                                </apex:repeat>
                                                                                            </apex:outputpanel>
                                                                                        </div>
                                                                                    </div>
                                                                                </apex:repeat>
                                                                            </apex:outputpanel>
                                                                        </td>
                                                                    </tr><tr>  <th>SRTs</th>      
                                                                    <td>
                                                                        <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                            <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                                <div>
                                                                                    <span style="font-size: 12px;">
                                                                                        <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                                        {!DSRT}
                                                                                    </span>
                                                                                </div>
                                                                            </apex:repeat>
                                                                        </apex:outputpanel>
                                                                        <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                            <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                                <div>
                                                                                    <span style="font-size: 12px;">
                                                                                        <b>{!$Label.css_Repair}: </b><br/>
                                                                                        {!RSRT}
                                                                                    </span>
                                                                                </div>
                                                                            </apex:repeat>
                                                                        </apex:outputpanel>
                                                                    </td>
                                                                    </tr> 

                                                                    <apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                                </apex:repeat>
                                                            </table>
                                                        </apex:outputpanel>
                                                        <br/>
                                                        <apex:outputPanel rendered="{!wrap.displyFaultCode}">
                                                            <apex:outputpanel id="insite11" rendered="{!IF(wrap.unPrioritizedFaultCodes.size> 0 , true, false)}">
                                                                <div class="form-horizontal" role="form"> 
                                                                    <div class="form-group form-group1">
                                                                        <div class="col-md-6 col-xs-12">

                                                                            <span class="cmi_fault-code"><b>{!$Label.css_Additional_Fault_Codes}</b></span>
                                                                            <a data-target="#notPtzFCPopup" data-toggle="modal" ><span class="cmi_intake_help" /></a>
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                                <!-- <table id="unPrfaultcode" class="table table-striped" > -->
                                                                <div class="form-horizontal" role="form"> 
                                                                    <div class="form-group form-group1">
                                                                        <div class="col-md-12 col-xs-12">
                                                                            <!--  <div class="table-responsive" style="max-height:350px;"> -->
                                                                            <table class="mytable table table-striped table-bordered CMI-HomeTable FCTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th class="tblhead" style="width:15%;text-align:center">
                                                                                            <b>{!$Label.css_Diagnose}</b>
                                                                                        </th>
                                                                                        <th class="tblhead" style="width:21%">
                                                                                            <div class="row">
                                                                                                <div class="col-sm-offset-2 col-sm-4">
                                                                                                    <b>{!$Label.CSS_Status}</b>  
                                                                                                </div>
                                                                                                <div class="col-sm-offset-2 col-sm-4">
                                                                                                    <b>{!$Label.CSS_INS_FC_COUNT}</b>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th class="tblhead" style="width:85%">
                                                                                            <div class="row">
                                                                                                <div class="col-sm-4 fcmargin"><b>{!$Label.CSS_Solution_Position}</b></div>
                                                                                                <div class="col-sm-2"><b>{!$Label.css_Solutions}</b></div>
                                                                                                <div class="col-sm-offset-1 col-sm-4"><b>{!$Label.css_Repairs_Made}</b></div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th class="tblhead" style="width:0%">
                                                                                            <div style="margin-right:80px;">
                                                                                                <b>{!$Label.CSS_SRTs}</b>
                                                                                            </div>
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody style="max-height:150px">
                                                                                    <apex:variable var="fcCnt" value="{!1}" />
                                                                                    <apex:repeat value="{!wrap.unPrioritizedFaultCodes}" var="fc" id="theRepeat4" >
                                                                                        <tr>
                                                                                            <td>
                                                                                                <div class="col-sm-6"> 
                                                                                                    <!-- <span><b> {!fcCnt} </b></span><br/> -->
                                                                                                    <span>                                                            
                                                                                                        <b><a>{!fc.FaultCode__c}</a>  </b> 
                                                                                                    </span>
                                                                                                    </div><br/>
                                                                                                <div class="col-sm-offset-1 col-sm-7">
                                                                                                    <span>
                                                                                                        <b> {!$Label.css_Related_Codes}:</b> 
                                                                                                        {!fc.RelatedFaultCode__c}
                                                                                                    </span>
                                                                                                </div>
                                                                                            </td>

                                                                                            <td style="padding-left:0px">
                                                                                                <div class="row" style="margin-left:-84px">
                                                                                                    <div class="col-sm-4">
                                                                                                        <apex:outputPanel rendered="{!IF(fc.Status__c == 'A',true,false)}">
                                                                                                            Active
                                                                                                        </apex:outputPanel> 
                                                                                                        <apex:outputPanel rendered="{!IF(fc.Status__c == 'I',true,false)}">
                                                                                                            Inactive
                                                                                                        </apex:outputPanel>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4" style="padding-left:14px;">
                                                                                                        <apex:outputPanel rendered="{!IF(fc.Count__c == null,true,false)}">
                                                                                                            0
                                                                                                        </apex:outputPanel> 
                                                                                                        <apex:outputPanel rendered="{!IF(fc.Count__c!= null,true,false)}">
                                                                                                            {!fc.Count__c}
                                                                                                        </apex:outputPanel> 
                                                                                                    </div>
                                                                                                </div>
                                                                                            </td>

                                                                                            <!---                   <td>
<apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
<div>
<span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found}</span> <br/>
</div>
<apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
<div>                                                                
<apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
<span style="font-size: 12px;"><i class="cmi-icon icon-correct"></i>
<b>{!VSols.Case_Name__c}</b></span> <br/>
<div>{!VSols.Solution_Title__c}</div><br/>
</apex:outputpanel>
</div>
</apex:repeat>
</apex:outputpanel>
<apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
<div>
<span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
</div>
</apex:outputpanel>
</td>                                             
<td> 
<apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
<apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
<div>
<span style="margin-bottom:10px;">
<i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-correct',
IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-qtn',
IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-wrong', NULL))))}"></i>

<b>{!VSols.Repair_Response__c}</b></span> <br/>

<apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
<a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">Perform Repair </a> 
</apex:outputpanel>

<div>
<apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
<apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
{!VComps.Name}  {!VComps.Action__c}
</apex:repeat>
</apex:outputpanel>
</div>
</div>
</apex:repeat>
</apex:outputpanel>
</td> --->
                                                                                            <!-----solutions & repair code start----------------->
                                                                                            <td><div>
                                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                                    <div style="color:#B5B3B3;text-align:center;margin-bottom:10px;">
                                                                                                        <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                                                    </div>
                                                                                                </apex:outputpanel>
                                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                    <div style="color:#B5B3B3;text-align:center;margin-bottom:10px;">
                                                                                                        <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found} </span> <br/>
                                                                                                    </div>
                                                                                                </apex:outputpanel> <br/>
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-12">
                                                                                                        <!--   <apex:variable var="SolCnt" value="{!0}" /> -->
                                                                                                        <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols"> 
                                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                                <div class="row"> 
                                                                                                                    <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                                                        <div class="col-sm-offset-1 col-sm-1">
                                                                                                                            <apex:outputpanel rendered="{!IF(VSols.Solution_Title__c != null ,true,false)}">
                                                                                                                                <span><b>{!VSols.Rank__c}

                                                                                                                                    </b>  <br/> </span>
                                                                                                                            </apex:outputpanel>
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-offset-1 col-sm-1">
                                                                                                                            <i class="cmi-icon {!IF(VSols.Diagnostic_Response__c == 'Most likely the solution', 'icon-correct',
                                                                                                                                      IF(VSols.Diagnostic_Response__c == 'Not the solution', 'icon-wrong','icon-qtn'))}"></i>
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-3">
                                                                                                                            <b>{!VSols.Case_Name__c}</b> <br/>
                                                                                                                            <div>{!VSols.Solution_Title__c}</div> 
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5">
                                                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                                                <div class="row">
                                                                                                                                    <div class="col-sm-12">
                                                                                                                                        <apex:outputpanel > 
                                                                                                                                            <div class="col-sm-offset-1 col-sm-2">
                                                                                                                                                <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-solidCorrect',
                                                                                                            IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                                            IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-solidQtn',
                                                                                                            IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-solidWrong', NULL))))}">
                                                                                                                                                </i>
                                                                                                                                            </div>
                                                                                                                                           <!-- <div class="col-sm-9">
                                                                                                                                                <b>{!VSols.Repair_Response__c}</b>
                                                                                                                                            </div>-->
                                                                                                                                            <div class="col-sm-9">
                                                                                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                                                    <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                                                                                </apex:outputPanel>
                                                                                                                                            </div>
                                                                                                                                            <div class="col-sm-9">
                                                                                                                                                <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                                                    <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                                                                                </apex:outputPanel>
                                                                                                                                            </div>

                                                                                                                                            <div class="clearfix"></div>
                                                                                                                                        </apex:outputpanel>
                                                                                                                                        <div class="row">
                                                                                                                                            <div class="col-sm-offset-3 col-sm-9">
                                                                                                                                                <!--    <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
<a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">Perform Repair </a>
</apex:outputpanel>  --->
                                                                                                                                                <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Most likely the solution',true,false)}">  
                                                                                                                                                    <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_Perform_Repair} </a> 
                                                                                                                                                </apex:outputpanel>
                                                                                                                                                <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == 'Not the solution' || VSols.Diagnostic_Response__c == 'Could not perform the solution verification',true,false)}">  
                                                                                                                                                    <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank={!VSols.Rank__c-1}">{!$Label.css_View_Repair} </a> 
                                                                                                                                                </apex:outputpanel>
                                                                                                                                            </div>
                                                                                                                                        </div>
                                                                                                                                        <div class="row">
                                                                                                                                            <div class="col-sm-offset-1 col-sm-2"></div>
                                                                                                                                            <div class="col-sm-9" style="margin-left:60px;">
                                                                                                                                                <apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                                                                                    <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                                          {!VComps.Name}  {!VComps.Action__c}
                                                                                                                                                    </apex:repeat>
                                                                                                                                                </apex:outputpanel>
                                                                                                                                            </div>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                    <div class="clearfix"></div>
                                                                                                                                </div>   
                                                                                                                            </apex:outputpanel>
                                                                                                                        </div>
                                                                                                                    </apex:outputpanel>
                                                                                                                </div> 
                                                                                                            </apex:outputpanel>
                                                                                                            <!--    <apex:variable value="{!SolCnt+1}" var="SolCnt"/>  -->
                                                                                                        </apex:repeat>
                                                                                                    </div> 
                                                                                                </div>
                                                                                                </div>
                                                                                            </td>    

                                                                                            <!-----solutions & repair code End----------------->   
                                                                                            <td>
                                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                    <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                                                        <div>
                                                                                                            <span style="font-size: 12px;">
                                                                                                                <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                                                                {!DSRT}
                                                                                                            </span>
                                                                                                        </div>
                                                                                                    </apex:repeat>
                                                                                                </apex:outputpanel>
                                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                    <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                                                        <div>
                                                                                                            <span style="font-size: 12px;">
                                                                                                                <b>{!$Label.css_Repair}: </b><br/>
                                                                                                                {!RSRT}
                                                                                                            </span>
                                                                                                        </div>
                                                                                                    </apex:repeat>
                                                                                                </apex:outputpanel>
                                                                                            </td>
                                                                                        </tr><apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                                                    </apex:repeat> 
                                                                                </tbody>
                                                                            </table>
                                                                            <table class="CMI-HomeTableMobile">
                                                                                <apex:repeat value="{!wrap.unPrioritizedFaultCodes}" var="fc" id="theRepeat22" >
                                                                                    <tr>
                                                                                        <th>{!$Label.css_Diagnose}</th>
                                                                                        <td>
                                                                                            <div>
                                                                                              <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">

                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}&rank={!rankDetails[fc.Id]}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                    <a href="{!FCOverviewPage}&fcid={!fc.Id}">{!fc.FaultCode__c}</a>
                                                                                </apex:outputpanel>
                                                                                                <br/>
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <th>{!$Label.css_Solutions}</th>
                                                                                        <td>
                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                <div>
                                                                                                    <span style="font-size: 12px;"> {!fc.Number_of_Solutions__c} {!$Label.css_Solutions_Found}</span> <br/>
                                                                                                </div>
                                                                                                <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                                                    <div>                                                                
                                                                                                        <apex:outputpanel rendered="{!IF(VSols.Diagnostic_Response__c == '' ,false,true)}">
                                                                                                            <span style="font-size: 12px;"><i class="cmi-icon icon-correct"></i>
                                                                                                                <b>{!VSols.Case_Name__c}</b></span> <br/>
                                                                                                            <div>{!VSols.Solution_Title__c}</div><br/>
                                                                                                        </apex:outputpanel>
                                                                                                    </div>
                                                                                                </apex:repeat>
                                                                                            </apex:outputpanel>
                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,true,false)}">
                                                                                                <div>
                                                                                                    <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                                                </div>
                                                                                            </apex:outputpanel>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <th>{!$Label.css_Repairs_Made}</th>
                                                                                        <td> 
                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                <apex:repeat value="{!VerSolDetails[fc.Id]}" var="VSols" >
                                                                                                    <div>
                                                                                                        <span style="margin-bottom:10px;">
                                                                                                            <i class="{!IF(VSols.Repair_Response__c == 'Repair Successful.', 'cmi-icon icon-solidCorrect',
                                                                                                                      IF(VSols.Repair_Response__c == 'Repair Successful with additional parts/procedures.', 'cmi-icon icon-correctplus',
                                                                                                                      IF(VSols.Repair_Response__c == 'Repair not performed.', 'cmi-icon icon-solidQtn',
                                                                                                                      IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', 'cmi-icon icon-solidWrong', NULL))))}"></i>

                                                                                                           <!-- <b>{!VSols.Repair_Response__c}</b>-->
                                                                                                       <!-- <div class="col-sm-9">-->
                                                                                                            <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c != 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                <b>{!VSols.Repair_Response__c}</b> <br/>
                                                                                                            </apex:outputPanel>
                                                                                                       <!-- </div>-->
                                                                                                       <!-- <div class="col-sm-9">-->
                                                                                                            <apex:outputPanel rendered="{!IF(VSols.Repair_Response__c == 'Repair performed but didnot resolve the root cause.', true,false)}">
                                                                                                                <b>{!$Label.CSS_Repair_performed_but_didnot_resolve_the_root_cause}</b> <br/>
                                                                                                            </apex:outputPanel>
                                                                                                       <!-- </div>-->
                                                                                                            </span> <br/>


                                                                                                        <apex:outputpanel rendered="{!IF(VSols.Repair_Response__c == '' && VSols.Diagnostic_Response__c  != null,true,false)}">
                                                                                                            <a href="/apex/CSS_JobRepairEDSV1?id={!jobOrdId}&fcid={!fc.Id}&rank=0">{!$Label.css_Perform_Repair} </a> 
                                                                                                        </apex:outputpanel>

                                                                                                        <div>
                                                                                                            <apex:outputpanel rendered="{!IF(VSols.Id== null || VSols.Id == '' ,false,true)}">
                                                                                                                <apex:repeat value="{!RepairDetails[VSols.Id]}" var="VComps" >
                                                                                                                    {!VComps.Name}  {!VComps.Action__c}
                                                                                                                </apex:repeat>
                                                                                                            </apex:outputpanel>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </apex:repeat>
                                                                                            </apex:outputpanel>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr> <th>SRTs</th>
                                                                                        <td>
                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                <apex:repeat value="{!DiagSRTDetails[fc.Id]}" var="DSRT" >
                                                                                                    <div>
                                                                                                        <span style="font-size: 12px;">
                                                                                                            <b>{!$Label.css_Diagnosis}: </b><br/>
                                                                                                            {!DSRT}
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </apex:repeat>
                                                                                            </apex:outputpanel>
                                                                                            <apex:outputpanel rendered="{!IF(fc.Number_of_Solutions__c == null || fc.Number_of_Solutions__c == '' ,false,true)}">
                                                                                                <apex:repeat value="{!RepSRTDetails[fc.Id]}" var="RSRT" >
                                                                                                    <div>
                                                                                                        <span style="font-size: 12px;">
                                                                                                            <b>{!$Label.css_Repair}: </b><br/>
                                                                                                            {!RSRT}
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </apex:repeat>
                                                                                            </apex:outputpanel>
                                                                                        </td></tr>

                                                                                    <apex:variable value="{!fcCnt+1}" var="fcCnt"/>
                                                                                </apex:repeat>
                                                                            </table> 
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </apex:outputpanel>
                                                            <br/>
                                                        </apex:outputPanel>
                                                        <apex:variable value="{!modCnt+1}" var="modCnt"/>
                                                    </apex:repeat>                        

                                                </div>

                                            </apex:outputpanel>
                                        </div></div>
                                </apex:repeat>                    
                            </div>
                        </div>
                    </apex:outputPanel>  
                </apex:outputPanel>
            </div>
        </fieldset>
    </apex:outputPanel>   

    <!-- anvesh testing start   -->
    <!-- <div class="form-horizontal" role="form"> 
<div class="form-group">
<div class="col-md-12 col-xs-12">

<div class="cmi_ecm-label">
<b>ECM (01) Secondary</b>
</div>
</div>

</div>
</div>


<div class="form-horizontal" role="form"> 
<div class="form-group form-group1">
<div class="col-md-12 col-xs-12">

<span class="cmi_fault-code">Prioritized Fault Codes</span>
</div>

</div>
</div>

<div class="form-horizontal" role="form"> 
<div class="form-group form-group1">
<div class="col-md-12 col-xs-12">

<table class="mytable table table-striped table-bordered CMI-HomeTable" style="width:100%">
<thead>
<tr>
<th class="tblhead"><b>Diagnose
</b>
</th>
<th class="tblhead"><b>Solutions

</b>
</th>
<th class="tblhead"><b>Repairs Made

</b>
</th>
</tr>

</thead>

<tbody>
<tr>
<td>                        
<div class="cmi_td-diagnose"> 1 </div>                                                                        
<div> 
<span><b><a href="#">0000</a></b></span> <br/>
<span><b> Related Codes: </b>1111,2222,4444 </span> 
</div>
</td>
<td><b>2</b> solutions found</td>
<td></td>
</tr>

<tr class="CMI-final-table">
<td> <div class="cmi_td-diagnose"> 1 </div>                                                                        
<div> 
<span><b><a href="#">0000</a></b></span> <br/>
<span><b> Related Codes: </b>1111,2222,4444 </span> 
</div></td>
<td><b>2</b> solutions found</td>
<td></td>
</tr> 
</tbody> 
</table>
</div></div></div> -->
    <!--   anvesh testing end-->


   
    <apex:outputPanel id="InsiteLockPopUp" >
        <div class="modal fade" id="ESNLockPopUP" role="dialog">
            <apex:outputPanel id="popInsiteESNLock" styleClass="ESNPopup">
                <div class="modal-header">
                    <apex:commandButton title="Close the popup" action="{!closeESNLockPopUp}" html-data-dismiss="modal" styleClass="cross_butten" ></apex:commandButton>  
                    <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_Troubleshooting} - {!$Label.css_Cummins_Service_System} </h4>
                </div>
                <div class="clearfix"></div>

                <div class="col-sm-12 col-xs-12">
                    <font size="4px" weight="bold"></font>  
                    <ul>
                        <li>Troubleshooting has already begun with a previous ESN {!rJobOrd.ESN__c} . Fault Code Information from a different ESN could impact service event guidance.The new ESN {!rJobOrd.Insite_ESN2__c} will not be used.</li>
                    </ul>
                </div>
                <div class="clearfix"></div>
                <hr/>
                <div class="col-sm-7 col-xs-8 cmi-tar" style="text-align: right;">   
                    <apex:commandButton value="OK" onclick="closeESNLockpop(); return false;" styleClass="saveButton" html-data-dismiss="modal" />
                    <apex:actionFunction name="closeESNLockpop" action="{!closeESNLockPopUp}" oncomplete="return false;" />
                </div>
                <br/>

            </apex:outputPanel> 
        </div>
    </apex:outputPanel>
    <!-- ESN Lock Pop End-->
    <!-- new npopup -->

    <!-- Modal content-->        
    <apex:outputPanel id="InsiteEsnPop">
        <div class="modal fade" id="myModal" role="dialog"> 
            <apex:outputPanel id="popInsiteESN" styleClass="popupAttachBg" layout="block">  
                <apex:outputPanel styleClass="srtPopupAttach">
                    <div class="modal-header">
                        <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                        <!-- <apex:commandButton title="Close the popup" action="{!closeINPopup}" styleClass="cross_butten" rerender="InsiteEsnPop,insiteBtn3,insiteBtn1"></apex:commandButton>  -->
                        <apex:actionFunction action="{!closeINPopup}" name="CloseInsitePopup" rerender="InsiteEsnPop"/> 
                        <button id="CloseInsitePop" Class="cross_butten" data-dismiss="modal"/>  
                        <h4 class="modal-title" style="color: #FFFFFF;">
                            {!$Label.css_Triage} &amp; {!$Label.css_Diagnosis} - {!$Label.css_Cummins_Service_System} 
                        </h4>
                    </div>
                    <div class="clearfix"></div>

                    <div class="col-sm-12 col-xs-12">

                        <font size="4px" weight="bold">
                            {!$Label.css_esn_from_INSITE}.<br/>
                            {!$Label.css_Which_ESN_do_you_want_tokeep}?
                        </font>  
                        <!--   <apex:outputLabel value="JOB NOTES " /> -->
                    </div>
                    <div class="clearfix"></div>
                    <br/>
                    <div class="col-sm-12 col-xs-12">
                        <b style="color:red">
                            <apex:actionStatus startText=" Processing..... Please wait until it finishes."  id="updating_insiteEsnpopup1_status" />
                        </b>

                        <apex:actionFunction action="{!pgChInsiteESN}" name="methodOneInJavascript" status="updating_insiteEsnpopup1_status"  onComplete="return false;" reRender="InsiteEsnPop,HHPPopup2,HHPPopup1,UnitLookupSearch,servModelPopup" />
                        <button id="insiteBtn3" style="padding:0px! important;width:100%;text-align-last:left;"  Class="saveButton" data-dismiss="modal" onClick="DisableButtonTest();  return false;">
                            <!--   <apex:actionSupport action="{!pgChInsiteESN}" event="onClick"  /> -->
                            <div style="font-weight:bold;">
                                {!rJobOrd.ESN_Insite__c}  
                            </div>
                            <div style="font-weight:bold;">
                                {!$Label.css_Use_Insite_Engine_Serial_Number}
                            </div>
                            <span>{!$Label.css_Replace_the_current_ESN}.</span>
                        </button>  

                        <!-- <apex:actionFunction name="callBMSCust" action="{!pgChInsiteESN}" reRender="InsiteEsnPop,UnitLookupSearch" status="callBMSCustStatus">
</apex:actionFunction>
<apex:actionStatus startText="requesting..." id="callBMSCustStatus">
<apex:facet name="start">Requesting... <img src="/img/loading.gif" /></apex:facet>
<apex:facet name="stop"><apex:commandLink action="{!pgChInsiteESN}" styleClass="saveButton" rerender="InsiteEsnPop,UnitLookupSearch" onclick="callBMSCust">
<b> {!rJobOrd.ESN_Insite__c} <br/> {!$Label.css_Use_Insite_Engine_Serial_Number} </b> <br/>
{!$Label.css_Replace_the_current_ESN}.
</apex:commandLink></apex:facet>                                                                                
</apex:actionStatus>

-->
                    </div>
                    <div class="clearfix"></div>

                    <div class="col-sm-12 col-xs-12" style="margin-top:10px;">
                        <apex:actionFunction action="{!pgChJoESN}" name="methodOneInJavascript1" status="updating_insiteEsnpopup1_status"  rerender="InsiteEsnPop,HHPPopup2,HHPPopup1,UnitLookupSearch,servModelPopup"/>
                        <button id="insiteBtn1" style="padding:0px! important;width:100%;text-align-last:left;"  Class="saveButton" data-dismiss="modal" onclick="DisableButtonTest1(); return false;">
                            <div style="font-weight:bold">{!IF (rJobOrd.ESN__c==null, 'NULL',rJobOrd.ESN__c) } </div>

                            <div style="font-weight:bold;">{!$Label.css_Use_CSS_Engine_Serial_Number}</div>
                            <div>
                                {!$Label.css_Keep_the_current_ESN_value_in_the_CSS_job}.
                            </div>
                        </button> 
                    </div>
                    <div class="clearfix"></div>
                    <hr/>
                    <div class="col-sm-7 col-xs-8 cmi-tar" style="text-align: right;">    
                        <!-- <apex:commandButton value="{!$Label.css_cancel_btn}" action="{!closeINPopup}" styleClass="cancelButton" rerender="InsiteEsnPop" />-->
                        <button class="cancelButton" id="cancelButton1" data-dismiss="modal">{!$Label.css_cancel_btn}</button>  
                    </div>
                    <br/>
                </apex:outputPanel>
            </apex:outputPanel>
        </div>
        <!--Popup for HHP Engine when clicked on insite ESN from MisMatch PopUp. This mandates the user to Use CSS ESN only if he doesnt have access for Insite ESN -->                                 
        <apex:outputPanel id="HHPPopup2">
            <apex:outputPanel id="HHPOutputPnl2" styleClass="popupAttachBg" layout="block" rendered="{!displayHHPPopup2}"> 
                <apex:outputPanel styleClass="srtPopupAttach">
                    <div class="modal-header">  
                        <apex:commandButton title="Close the popup" action="{!pgChJoESN}" styleClass="cross_butten" rerender="HHPPopup2"/>
                        <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_cummins_service_system} </h4>
                    </div>
                    <div class="clearfix"></div> 
                    <fieldset style="border: 1px solid grey; height:100%;" id="HHPCer">  
                        <div class="col-md-12 col-xs-12">
                            <apex:outputLabel value="{!$Label.HHP_message_onInsite_ESN_toUse_OriginalESN}" escape="false" />

                        </div>
                    </fieldset>
                    <div class="clearfix"></div>
                    <hr/>
                    <div class="col-sm-5 col-xs-4 cmi-tar"> 
                        <apex:commandButton value="OK" action="{!pgChJoESN}" styleClass="saveButton" rerender="HHPPopup2"/>
                    </div>
                </apex:outputPanel>
            </apex:outputPanel> 
        </apex:outputPanel>
        <!-- END Popup for HHP Engine when clicked on insite ESN from MisMatch PopUp. This mandates the user to Use CSS ESN only if he doesnt have access for Insite ESN -->                                 
        <!--popup if no Service Model Name is returned for a particular ESN -->
        <apex:outputPanel id="servModelPopup">
            <apex:outputPanel id="servModelInnerOutputPnl" styleClass="popupAttachBg" layout="block" rendered="{!displaySrvModPopup}">  
                <apex:outputPanel styleClass="srtPopupAttach">
                    <div class="modal-header">  
                        <apex:commandButton title="Close the popup" action="{!closeSrvModPopup}" styleClass="cross_butten" rerender="servModelPopup"/>
                        <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_cummins_service_system} </h4>
                    </div>
                    <div class="clearfix"></div> 
                    <div class="modal-body">
                        <fieldset class="HHP_fieldSet">
                            <div class="col-sm-2 col-xs-12">
                                <div class="css_alert_red" style="zoom:1.95"/> 
                            </div>
                            <div class="col-md-10 col-xs-12">
                                <apex:outputLabel value="{!$Label.CSS_PSN_serach_value}" escape="false" style="font-weight: normal;"></apex:outputLabel>
                            </div>
                        </fieldset>        </div>
                    <div class="clearfix"></div>
                    <hr/>
                    <div class="modal-footer">
                        <div class="col-sm-7 col-xs-4 cmi-tar"> 
                            <apex:commandButton value="OK" action="{!closeSrvModPopup}" styleClass="saveButton" rerender="servModelPopup"/>
                        </div>
                    </div>
                </apex:outputPanel>
            </apex:outputPanel> 
        </apex:outputPanel>


    </apex:outputPanel>

    <!-- end of new popup -->

    <!----- Unit Lookup Pop Up on click of Insite ESN------->
    <!-- BMS Unit Lookup Pop Up -->
    <apex:outputPanel id="UnitLookupSearch">
        <apex:outputPanel id="BMSUnitSearchInnerPnl2" styleClass="popupAttachBg"  layout="block" rendered="{!UnitLookUpPopup}" >
            <apex:outputPanel styleClass="srtPopupAttach">
                <div class="cmi_cu-popupwidth">
                    <div class="modal-content">
                        <!-- Modal Header -->
                        <div class="modal-header cmi_modal-header">
                            <apex:commandButton title="Close the popup" html-data-dismiss="modal" action="{!closeBMSUnitDetails}" styleClass="cross_butten"/>
                            <p style="margin-top:8px color:white">
                                <font color="white">
                                    <b> {!$Label.css_Unit_Lookup_Selection}</b>
                                </font>
                            </p>
                        </div>

                        <!-- Modal Body -->

                        <div class="modal-body"> 

                            <div class="row" style="max-height:400px;overflow:auto;">
                                <div class="col-sm-12">
                                    <table class="table cmi_customerpopup" id="contentsContainer">                                                                           

                                        <thead>
                                            <tr>
                                                <th>Sel</th>
                                                <th>UnitNumber </th>
                                            </tr>
                                        </thead>
                                        <tbody style="display:table-row-group;">
                                            <apex:repeat value="{!UnitOutboundDetails.DataArea}" var="unit">
                                                <tr>                                                                                 
                                                    <td>
                                                        <!--
<apex:commandLink action="{!selectedCustDetails}" value="Select" status="getCustDetls"> 
<apex:param name="CustomerCode" value="{!cust.CustomerCode}" assignTo="{!selectedCustCode}" />
</apex:commandLink> -->

                                                        <!--<apex:actionsupport action="{!selectedBMSCustCode}" event="onclick" rerender=""> -->

                                                        <input type="radio" id="{!unit.UnitNumber}" name="myChk"  onclick="callUnitNumber('{!unit.UnitNumber}');"/>                                                                                           

                                                        <!--   </apex:actionsupport> -->

                                                    </td>
                                                    <td>{!unit.UnitNumber}</td>

                                                </tr>        
                                            </apex:repeat> 
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <!--        </form> -->
                            <apex:actionFunction name="callUnitNumber" action="{!selectedBMSUnitNumber}" reRender="none" status="callBMSUnitStatus">
                                <apex:param name="BMSUnitNumber" id="BMSUnitNumber" value="" assignTo="{!selectedUnitNumber}">
                                </apex:param>
                            </apex:actionFunction>
                            <!-- <div align="center">
<apex:commandButton value="Select" styleclass="CMI-primary-button" action="{!selectedUnitDetails}" /><reRender="BMSCustomerSearch,bmsCustScreen"/>      
</div> -->
                            <div align="center">
                                <apex:actionStatus startText="requesting..." id="callBMSUnitStatus">
                                    <apex:facet name="start">Requesting... <img src="/img/loading.gif" /></apex:facet>
                                    <apex:facet name="stop"><apex:commandButton value="Select" styleclass="CMI-primary-button" action="{!selectedUnitDetails}" reRender="pgUIpnl,UnitLookupSearch" /></apex:facet>                                                                                
                                </apex:actionStatus>                                                                            

                            </div>
                            <table class="CMI-HomeTableMobile">
                                <tr>
                                    <th>sel</th>
                                    <td><input type="checkbox"/></td>
                                </tr>
                                <tr>
                                    <th>Unit Number</th>
                                    <td><input type="text"/></td>
                                </tr>

                            </table>        
                        </div>
                        <div class="clearfix"></div>

                        <!-- Modal Footer -->
                        <!--
<div class="modal-footer cmi_modal-header"> 
<form class="form-horizontal" role="form">
<div class="form-group">
<div class="col-sm-2 col-xs-4">
<apex:commandButton action="{!closeBMSCustDetails}" value="select" styleClass="btn-intake btn-intake-footer" style="margin-top: 3px;margin-bottom: -11px;" reRender="BMSCustomerSearch,bmsCustScreen">
</apex:commandButton>
</div>    
</div>
</form>
</div>
-->
                    </div>
                </div>
                <!--</div>-->
            </apex:outputPanel>
        </apex:outputPanel>
    </apex:outputPanel>
    <!-- BMS Unit Lookup Pop up End -->
    <!----- END Unit Lookup Pop Up on click of Insite ESN------->

    <apex:outputPanel id="InsiteNcPop">
        <apex:outputPanel id="popInsiteNc" styleClass="ESNPopup"   rendered="{!displayINncPop}">
            <div class="modal-header">
                <apex:commandButton title="Close the popup" action="{!closeINncPopup}" html-data-dismiss="modal" styleClass="cross_butten" ></apex:commandButton>  
                <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_Troubleshooting} - {!$Label.css_Cummins_Service_System} </h4>
            </div>
            <div class="clearfix"></div>

            <div class="col-sm-12 col-xs-12">
                <font size="4px" weight="bold"> {!$Label.css_In_order_to_pull_in_prioritized_fault_codes_you_must_connect_to_the_INSITE_a}.</font>  
                <ul>
                    <li>{!$Label.css_Connect_to_the_Engine}</li>
                    <li>{!$Label.css_Click_the_Launch_or_Return_to_INSITE_button}</li>
                    <li>{!$Label.css_When_you_return_to_CSS_click_the_Pull_in_Fault_Codes_button}</li>
                </ul>
            </div>
            <div class="clearfix"></div>
            <hr/>
            <div class="col-sm-7 col-xs-8 cmi-tar" style="text-align: right;">    
                <apex:commandButton value="OK" action="{!closeINncPopup}" styleClass="saveButton" html-data-dismiss="modal" />
            </div>
            <br/>

        </apex:outputPanel> 
    </apex:outputPanel>


    <apex:outputPanel id="GitsPop">
        <apex:outputPanel id="popGitsPop" styleClass="ESNPopup"   rendered="{!IF( displayGitsPop == true && mCode == 1, true, false)}">
            <div class="modal-header">
                <apex:commandButton title="Close the popup" action="{!closeGitsPopup}" html-data-dismiss="modal" styleClass="cross_butten" ></apex:commandButton>  
                <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_Troubleshooting} - {!$Label.css_Cummins_Service_System} </h4>
            </div>
            <div class="clearfix"></div>

            <div class="col-sm-12 col-xs-12">                    
                <ul>
                    <li>{!$Label.css_Cannot_support_in_CSS}</li>                            
                </ul>
            </div>
            <div class="clearfix"></div>
            <hr/>
            <div class="col-sm-7 col-xs-8 cmi-tar" style="text-align: right;">    
                <apex:commandButton value="OK" action="{!closeGitsPopup}" styleClass="saveButton" html-data-dismiss="modal" />
            </div>
            <br/>

        </apex:outputPanel>         
    </apex:outputPanel>

    <apex:outputPanel id="Gits38Pop">
        <apex:outputPanel id="popGits38Pop" styleClass="ESNPopup"   rendered="{!IF( displayGitsPop == true && mCode == 2, true, false)}">
            <div class="modal-header">
                <apex:commandButton title="Close the popup" action="{!closeGitsPopup}" html-data-dismiss="modal" styleClass="cross_butten" ></apex:commandButton>  
                <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_Troubleshooting} - {!$Label.css_Cummins_Service_System} </h4>
            </div>
            <div class="clearfix"></div>

            <div class="col-sm-12 col-xs-12">                    
                <ul>
                    <li>{!$Label.css_Full_product_support}.</li>                            
                </ul>
            </div>
            <div class="clearfix"></div>
            <hr/>
            <div class="col-sm-7 col-xs-8 cmi-tar" style="text-align: right;">    
                <apex:commandButton value="OK" action="{!closeGitsPopup}" styleClass="saveButton" html-data-dismiss="modal" />
            </div>
            <br/>

        </apex:outputPanel>         
    </apex:outputPanel>
    <!---Story 67558 Start Pop Up---->
    <apex:outputPanel id="takeC1"> 
        <div class="container">  
            <div class="modal fade" id="takeC" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content"> 
                        <div class="modal-header">  
                            <Button title="Close the popup" class="cross_butten" data-dismiss="modal" styleclass="btn-intake btn-intake-footer m-btn-width" />                            
                        </div>
                        <div class="modal-body">
                            <div class="form-horizontal" role="form">                                
                                <div class="col-sm-11 col-xs-12" >                                
                                    <tr><td>  <br/><h3>
                                        <span style="text-decoration:underline;">{!$Label.CSS_Notice}</span>
                                        </h3> </td> </tr><br/>
                                    <tr><td>  <br/>{!$Label.CSS_TakeCtrl_1}</td> </tr><br/>
                                    <tr><td>  <br/>{!$Label.CSS_TakeCtrl_2}.</td> </tr><br/>                                    
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-sm-11 col-xs-12" >
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <hr/>                            
                            <div align="center" draggable="false" >
                                <apex:commandButton value="{!$Label.CSS_Take_Control_Btn}" action="{!takeControl}" styleClass="saveButton"/>
                                <button type="button" style="saveButton" class="cancelButton" data-dismiss="modal">{!$Label.css_Cancel}</button>
                            </div> <br/>
                            <div class="clearfix"></div>
                            <div class="clearfix"></div>
                        </div></div></div></div></div>

    </apex:outputPanel> 
    <!---Story 67558 End Pop Up----> 
    <!--popup for HHP Engine on NULL ESN from Intake. This closes the job if user does not have access-->                                 
    <apex:outputPanel id="HHPPopup1">
        <apex:outputPanel id="HHPInnerOutputPnl1" styleClass="popupAttachBg" layout="block" rendered="{!displayHHPPopup1}"> 
            <apex:outputPanel styleClass="srtPopupAttach">
                <div class="modal-header">  
                    <apex:commandButton title="Close the popup" action="{!pgSaveFinish}" styleClass="cross_butten" rerender="HHPPopup1"/>
                    <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_cummins_service_system} </h4>
                </div>
                <div class="clearfix"></div> 
                <fieldset style="border: 1px solid grey; height:100%;" id="HHPCer">  
                    <div class="col-md-12 col-xs-12">

                        <apex:outputLabel value="{!$Label.CSS_HHP_message_onInsite_ESN_whenPreviousESNisNull_toCloseTheJob}" escape="false"/>

                    </div>
                </fieldset>
                <div class="clearfix"></div>
                <hr/>
                <div class="col-sm-5 col-xs-4 cmi-tar"> 
                    <apex:commandButton value="OK" action="{!pgSaveFinish}" styleClass="saveButton" rerender="HHPPopup1"/>
                </div>
            </apex:outputPanel>
        </apex:outputPanel> 
    </apex:outputPanel>
    <!---Story 81890 Start Pop Up---->
    <apex:outputPanel id="notPtzFCPopup">
        <div class="container">  
            <div class="modal fade" id="notPtzFCPopup"  role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content"> 
                        <div class="modal-header">  
                            <Button title="Close the popup" class="cross_butten" data-dismiss="modal" />
                            <h4 class="modal-title" style="color: #FFFFFF;"> {!$Label.css_cummins_service_system}  </h4>
                        </div>
                        <div class="modal-body">
                            <form class="form-horizontal" role="form">   
                                <div class="form-group">
                                    <div class="col-sm-12 col-xs-12">
                                        <div class="intake_help1 intake_help-popup"></div>
                                        <div class="col-sm-11 col-xs-12" style=" text-align: justify;">

                                            <apex:outputLabel value="{!$Label.css_Not_Prioritized_Fault_Codes_popup}" escape="false" style="font-weight: normal;"></apex:outputLabel>

                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="clearfix"></div>
                            <hr/>

                            <div class="col-sm-12" align="center" draggable="false" >
                                <button type="button"  class="cancelButton" data-dismiss="modal">ok</button>

                            </div> <br/>
                            <div class="clearfix"></div>
                            <div class="clearfix"></div>
                        </div></div></div></div></div>
    </apex:outputPanel>
    <!---Story 81890 End Pop Up----> 

</apex:component>