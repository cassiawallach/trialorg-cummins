<apex:component id="failureov" layout="none" access="global" controller="CG_CL_ClaimsFailuresOverviewComp" allowDML="true" >
    <!--    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap-combined.min.css"/>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css"/>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
<script src="https://code.jquery.com/ui/1.9.0/jquery-ui.js"></script> 
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>  -->
    <!--<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />--->

    <style>
        /*input{
        border:2px solid #FF0000;
        }*/

        #chkCoverageBtnEnabled {
            display:none;
        }

        #chkCoverageBtnDisabled{
            display :inline;
        }

    </style>

    <style>
        .cmi_asterisk1{
            color: #D02323 ;
        }
        .showRedBorder{
            border: 2px solid red !important;
        } 

        .ui-autocomplete-input { 
            border: none; 
            font-size: 14px;
            width: 172px;
            height: 24px;
            margin-bottom: 5px;
            padding-top: 2px;
            border: 1px solid #DDD;
            border-left:2px solid #999;
            padding-top: 0px !important;
            z-index: 1511;
            position: relative;
        }
        .ui-menu .ui-menu-item a {
            font-size: 12px;
        }
        .ui-autocomplete {
            max-height: 200px;
            overflow-y: auto;
            overflow-x: hidden;
            position: fixed;
            top: 100%;
            left: 0;
            z-index: 1051 !important;
            float: left;
            display: none;
            min-width: 160px;
            width: 160px;

        }
        .ui-menu-item > a.ui-corner-all {
            display: block;
            padding: 3px 15px;
            clear: both;
            font-weight: normal;
            line-height: 18px;
            color: #555555;
            white-space: nowrap;
            text-decoration: none;
        }
        .ui-state-hover, .ui-state-active {
            color: #ffffff;
            text-decoration: none;
            background-color: #0088cc;
            border-radius: 0px;
            -webkit-border-radius: 0px;
            -moz-border-radius: 0px;
            background-image: none;
        }
        .cmi_claimsfail-table td{
            text-align: center;
        }
        /*.ui-autocomplete {
        max-height: 200px;
        overflow-y: auto;

        overflow-x: hidden;

        padding-right: 20px;
        z-index: 1006;
        } */

    </style>

<script language="javascript">
        $(function() {
            $( "#datepicker" ).datepicker();
        });
    </script>
    <script>
        function failurePopupJS(failurePopup,e){
            e.disabled = true;
            // alert('Hello');
            //alert('failurePopup>>>:'+failurePopup);            
            if(failurePopup == 'true'){
                // alert('Inside IF');
                $('#showFailurePopuponsave1').modal(
                    {backdrop: 'static',
                     keyboard: false,
                     show:true
                    });
            }
            else{
                // alert('Inside Else');
            }
        }   
         function valFailurePoint(e){
             if((e.which > 47 && e.which <=57) || (e.which > 95 && e.which <=105) || (e.which >=33 && e.which <=40) || e.which == 8 || e.which == 9 || e.which==144 || e.which==12 || e.which==45 || e.which==46)
            {

            } 
            else {
                return false;
            }
        }

        function DisableWASaveButton(claimblescompId){
            claimblescompId.disabled=true;
            document.getElementById('fname').classList.add("showRedBorder");
        }
        function showDeleteConfirmPopup(){
            $('#showFailurePopuponsave').modal(
                {backdrop: 'static',
                 keyboard: false,
                 show:true
                });           
        }
        function showDeleteConfirmPopupNonMPSN(){
            //alert('Hello');
            $('#DeletePopupNew').modal(
                {backdrop: 'static',
                 keyboard: false,
                 show:true
                });           
        }

        function showEditPopup(){
            $('#modalAccCodelkupPopUp').modal(
                {backdrop: 'static',
                 keyboard: false,
                 show:true
                });
            //rerenderModalPopup();
        }
        

        function CompareDates(value1){

            CompareDatesfun1(value1);
        }

    </script>

    <apex:outputPanel id="javascript">

        <script type="text/javascript" >

            function enableChkCoverageBtn(){
                document.getElementById('chkCoverageBtnEnabled').style.display = 'inline';
                document.getElementById('chkCoverageBtnDisabled').style.display = 'none';



            }

            //function to get the syscode and compcode based on failure Code Selected
            function getValues(val){
                document.getElementById("{!$Component.sysCode}").value = '';
                document.getElementById("{!$Component.compCode}").value = '';
                var lowercase = val.toLowerCase();
                if(val!=null && val!='' && (lowercase != 'unlisted')){

                    document.getElementById("{!$Component.sysCode}").disabled = true;
                    document.getElementById("{!$Component.compCode}").disabled = true;


                    getCodes(val); //Kalpana

                }

                if(val!=null && val!='' && (lowercase == 'unlisted')){

                    document.getElementById("{!$Component.compCode}").disabled = true;



                    getCodes(val);


                }

            }

            //SN - Function to enable Component Field once Syscode is selected
            function enableComponentField(){
                document.getElementById("{!$Component.compCode}").disabled = false;
                loadJavscriptAgain();


            }

            //function to set the system code and compcode field non-editable
            function afterCompleteFunction(){
                // alert('Onblur');
                var fname= document.getElementById("{!$Component.Fname}").value;
                //alert(fname);
                var lowercase = fname.toLowerCase();
                //if(fname!=null && fname!='' && lowercase != 'unlisted'){
                if(fname!=null && fname!='' && lowercase != 'unlisted'){

                    document.getElementById("{!$Component.sysCode}").disabled = true;
                    document.getElementById("{!$Component.compCode}").disabled = true;
                    /* document.getElementById("{!$Component.enableBtn}").disabled = false;
                document.getElementById("{!$Component.disableBtn}").disabled = true;*/
                    enableChkCoverageBtn();
                }
                if(fname!=null && fname!='' && lowercase == 'unlisted'){
                    //alert("fname" + ' ' + fname);
                    var sysname = document.getElementById("{!$Component.sysCode}").value;
                    if(sysname==null || sysname==''){
                        document.getElementById("{!$Component.compCode}").value='';

                        document.getElementById("{!$Component.compCode}").disabled = true;
                    }
                    //document.getElementById("{!$Component.enableBtn}").disabled = false;
                    /* document.getElementById("{!$Component.disableBtn}").disabled = true;*/
                    enableChkCoverageBtn();
                }
                if(fname==null || fname==''){
                    // alert("fnamenull" + ' ' + fname);
                    document.getElementById("{!$Component.sysCode}").value = '';
                    document.getElementById("{!$Component.compCode}").value = '';
                    document.getElementById("{!$Component.sysCode}").disabled = false;
                    document.getElementById("{!$Component.compCode}").disabled = false; 
                    document.getElementById('chkCoverageBtnEnabled').style.display = 'none';
                    document.getElementById('chkCoverageBtnDisabled').style.display = 'inline';
                    //  chkCoverage();

                }
                getFailures();
                loadJavscriptAgain();

            }


            //function to check the failure name value and based on that set the inputfield disabled
            function checkFName(val){

                var lowercase = val.toLowerCase();
                if(lowercase == 'unlisted'){
                    //alert('inside if');
                    document.getElementById("{!$Component.sysCode}").value = '';
                    document.getElementById("{!$Component.compCode}").value = '';
                    //document.getElementById("{!$Component.sysCode}").disabled = false;
                    document.getElementById("{!$Component.compCode}").disabled = true;

                }
                loadJavscriptAgain();

            }



            //function to load the javascript after rerender for Jquery Autocomplete functionality
            function loadJavscriptAgain(){

                //getFailures();
                var apexFNList = [];
                <apex:repeat value="{!Failurenames}" var="name">
                    apexFNList.push('{!name}');
            </apex:repeat> 


            $( ".apexFNautocomplete" ).autocomplete({
                source: apexFNList,
                select: function( event, ui ) {

                    getValues(ui.item.value);

                }

            });

                var apexSCList = [];
                <apex:repeat value="{!SystemCodes}" var="name">
                    apexSCList.push('{!name}');
            </apex:repeat>        


            $( ".apexSCautocomplete" ).autocomplete({
                source: apexSCList,

                select: function( event, ui ) {

                    enableComponentField();

                }

            });

                var apexCCList = [];
                <apex:repeat value="{!ComponentCodes}" var="name">
                    apexCCList.push('{!name}');
            </apex:repeat>        

            $( ".apexCCautocomplete" ).autocomplete({
                source: apexCCList
            });
                var apexFCList = [];
                <apex:repeat value="{!FaultCodes}" var="fname">                   
                    apexFCList.push('{!fname}');
            </apex:repeat>  
            $( ".FaultCode" ).autocomplete({
                source: apexFCList
            });

                var apexFMList = [];
                <apex:repeat value="{!FailModes}" var="FMList">
                    apexFMList.push('{!FMList}');
            </apex:repeat>  

            $( ".xyz" ).autocomplete({
                source: apexFMList
            });



            }





            //function to load on Pageload
            $(document).ready(function(){ 
                getFailures();
                loadJavscriptAgain();  


            });



        </script>

    </apex:outputPanel>    
    <!--window.onload = hideChkCoverageBtnOnLoad;-->
    <script>


        var apexFNList = [];
        <apex:repeat value="{!Failurenames}" var="FNList">
            apexFNList.push('{!FNList}');
        </apex:repeat>        

        $(function(){
            $( ".typoSearch" ).autocomplete({
                source: apexFNList
            });
        });


    </script>


    <script>
        function assignWSDtoActual(e){
            document.getElementById("{!$Component.Wartydt}").value=e.value;       
            CompareDates(e.value);
        }
    </script>
    <script>
        function showPopup(e){
            // alert('hello '+e.value);
        }
        function showText(){
            var text = '{!$Label.CG_Failures_are_available_only_for_Before_In_Service_engines_in_Multi_PSN_Claims}';
            //alert(text);
            document.getElementById("DT").innerHTML=text;

        }

        function showMessage(){
            var msg = '{!$Label.CG_Only_Failures_or_one_Campaign_ATC_is_allowed_on_Multi_PSN_claim}';
            //alert(msg);
            document.getElementById("ST").innerHTML=msg;
        }



    </script>
    <apex:actionFunction name="getCodes"  action="{!changeFailures}" rerender="failureClaims,javascript,Calib" onComplete="afterCompleteFunction();" > 
        <apex:param name="failureName" value="" assignTo="{!selectedFName}" />
    </apex:actionFunction>
    <apex:actionFunction name="getFailures"  action="{!SRTFailurenames}" rerender="javascript" onComplete="loadJavscriptAgain();"> </apex:actionFunction>
    <apex:actionFunction name="enableCheckCoverage" reRender="checkCoverageButton"/>
    <!--  <apex:actionFunction name="chkCoverage"  action="{!EnableCoverageBtn}" rerender="CoverageBtn" > </apex:actionFunction> -->

    <apex:outputPanel rendered="{!IF(addFailureLink,true,false)}">
        <div id="DT" style="color:red">


            <apex:outputText id="displayText" style="color:red" />
        </div>
    </apex:outputPanel>
    <apex:outputPanel rendered="{!IF(addCampLink,true,false)}">
        <div id="ST" style="color:red">
            <apex:outputText id="displayMessage" style="color:red" />
        </div>
    </apex:outputPanel><br/>
    <div class="col-md-3 col-xs-12"></div> 
    <fieldset class="cmi_field_set" style="width:100%">
        <div class="panel-body">  
            <div class="col-md-15 col-xs-15">
                <div class="container-fluid">
                    <div class="form-horizontal" role="form" id="noPopupone"> 
                        <div class="form-group">
                            <h4><b>{!$Label.CG_FailuresOverview}</b></h4>
                        </div>
                    </div>

                    <div style="float:right" id="hideLinkId3">
                        <apex:outputPanel rendered="{!IF((claimsRec.CSS_Job__c==null),true,false)}"  id="hidepnl">
                            <!-- {!addFailureLink} -- {!addCampLink} -->
                            <apex:outputPanel rendered="{!IF(addFailureLink,true,false)}">
                                <i class="cmi_add-icon"></i>
                                <!--<apex:commandLink value="{!$Label.css_Add}" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal"  onComplete="return false;" ></apex:commandLink>-->
                                <apex:commandLink style="font-weight:bold;text-decoration:underline;" value="{!$Label.css_Add}" onclick="showText();" rerender="hidepnl" >
                                    <!--<apex:actionSupport event="onclick" action="{!noAddlinkPopup}" rerender="noPopupone,addPopup" />-->
                                </apex:commandLink>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(addCampLink,true,false)}">
                                <i class="cmi_add-icon"></i>
                                <!--<apex:commandLink value="{!$Label.css_Add}" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal"  onComplete="return false;" ></apex:commandLink>-->
                                <apex:commandLink style="font-weight:bold;text-decoration:underline;" value="{!$Label.css_Add}" onclick="showMessage();" rerender="hidepnl" >
                                    <!--<apex:actionSupport event="onclick" action="{!noAddlinkPopup}" rerender="noPopupone,addPopup" />-->
                                </apex:commandLink>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(addFailureLink || addCampLink,false,true)}">
                                <i class="cmi_add-icon"></i>
                                <!--<apex:commandLink value="{!$Label.css_Add}" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal"  onComplete="return false;" ></apex:commandLink>-->
                                <apex:commandLink style="font-weight:bold;text-decoration:underline;" value="{!$Label.css_Add}" action="{!onAddClick}" rerender="FaultCode,checkCoveragePanel,AcountCode,PayCode,warrantycompfailurepanel" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal" html-data-backdrop="static" html-data-keyboard="false"  onComplete="return false;">
                                </apex:commandLink>
                            </apex:outputPanel>
                        </apex:outputPanel>

                        <!-- Dealer Automated Claim-->

                        <apex:outputPanel rendered="{!IF((claimsRec.CSS_Job__c!=null) && ($Setup.css_header_nav__c.RSWButtonEnable__c == true),true,false)}"  id="hidepnlauto">
                            <apex:outputPanel rendered="{!IF(addFailureLink,true,false)}">
                                <i class="cmi_add-icon"></i>
                                <!--<apex:commandLink value="{!$Label.css_Add}" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal"  onComplete="return false;" ></apex:commandLink>-->
                                <apex:commandLink style="font-weight:bold;text-decoration:underline;" value="{!$Label.css_Add}" onclick="showText();" rerender="hidepnl" >
                                    <!--<apex:actionSupport event="onclick" action="{!noAddlinkPopup}" rerender="noPopupone,addPopup" />-->
                                </apex:commandLink>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(addCampLink,true,false)}">
                                <i class="cmi_add-icon"></i>
                                <!--<apex:commandLink value="{!$Label.css_Add}" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal"  onComplete="return false;" ></apex:commandLink>-->
                                <apex:commandLink style="font-weight:bold;text-decoration:underline;" value="{!$Label.css_Add}" onclick="showMessage();" rerender="hidepnl" >
                                    <!--<apex:actionSupport event="onclick" action="{!noAddlinkPopup}" rerender="noPopupone,addPopup" />-->
                                </apex:commandLink>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(addFailureLink || addCampLink,false,true)}">
                                <i class="cmi_add-icon"></i>
                                <!--<apex:commandLink value="{!$Label.css_Add}" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal"  onComplete="return false;" ></apex:commandLink>-->
                                <apex:commandLink style="font-weight:bold;text-decoration:underline;" value="{!$Label.css_Add}" action="{!onAddClick}" rerender="FaultCode,checkCoveragePanel,AcountCode,PayCode,warrantycompfailurepanel" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal" html-data-backdrop="static" html-data-keyboard="false"  onComplete="return false;" >
                                </apex:commandLink>
                            </apex:outputPanel>
                        </apex:outputPanel>

                        <!-- End ---->

                        
                        <!-- Account Code/Check Coverage Popup start -->
                        <!--action="{!SRTFailurenames}" rerender="FailuresOverviewAdd"/>-->
                        <!-- <apex:actionFunction name="rerenderModalPopup" rerender="FailuresOverviewAdd"/>-->
                        <div class="modal fade" id="modalAccCodelkupPopUp" role="dialog" html-data-backdrop="static" html-data-keyboard="false">
                            <div class="modal-dialog" style="margin-top:20px !important;width:750px;"> 
                                <div class="modal-content"> 
                                    <!-- Modal Header -->
                                    <div class="modal-header">
                                        <h4 class="modal-title" style="color: #FFFFFF;"> {!$Label.CSS_Add_Failure_Popup} </h4>
                                    </div>

                                    <!-- Modal Body -->
                                    <apex:outputPanel id="FailuresOverviewAdd">
                                        <div class="modal-body" id="modalPopupBody">
                                            <div style="text-align:left;">
                                                <!--<h4><b>{!$Label.CSS_Failure_Missing_Info}</b></h4>  -->                                   
                                                <apex:outputText id="ErrMsg" rendered="{!IF((blankField==true),true,false)}">
                                                    <h4 style="color: red ; display: block;"><b>{!$Label.CSS_Claims_Enter_Value}</b></h4>
                                                </apex:outputText>
                                            </div> 
                                            <!-- <h4 style="padding-left:20px"><b>{!compName}</b></h4>-->
                                            <apex:outputpanel id="FailureName">
                                                <div class="col-sm-6 col-xs-6">


                                                    <div class="col-sm-5 col-xs-6 cmi-tar" >
                                                        <b>{!$Label.CG_FailureName}</b><span class="cmi_asterisk1">*</span>

                                                    </div>
                                                    <div class="col-sm-6 col-xs-6 ">
                                                        <apex:inputText value="{!selectedFName}"  styleclass="{!IF((blankField==true && (selectedFname=='' || selectedFname==null)),'apexFNautocomplete showRedBorder','apexFNautocomplete')}" id="Fname" onblur="afterCompleteFunction(),enableCheckCoverage()" html-placeholder="Search" style="text-align:left;" />
                                                        <!--<apex:inputText value="{!selectedFName}"  styleclass="apexFNautocomplete showRedBorder" id="Fname1" onkeyup="afterCompleteFunction(),enableCheckCoverage()" html-placeholder="Search" style="text-align:left;" rendered="{!IF((blankField==true && (selectedFname=='' || selectedFname==null)),true,false)}">
<!-- <apex:actionSupport event = "onchange" reRender = "CoverageBtn"></apex:actionSupport>
</apex:inputText>-->
                                                        <!--<apex:actionFunction name="enableChkCoverageButton"  rerender="CoverageBtn" > </apex:actionFunction>-->
                                                    </div>

                                                </div>
                                            </apex:outputpanel>
                                            <apex:outputPanel id="failureClaims" >
                                                <div class="clearfix"></div>
                                                <div class="col-sm-6 col-xs-6">

                                                    <div class="col-sm-5 col-xs-6 cmi-tar">
                                                        <b>{!$Label.CG_Systemcode}</b><span class="cmi_asterisk1">*</span>
                                                    </div>

                                                    <div class="col-sm-6 col-xs-6">
                                                        <apex:inputtext value="{!selectedSysCode}"  styleclass="{!IF((blankField==true && (selectedSysCode=='' || selectedSysCode==null)),'apexSCautocomplete showRedBorder','apexSCautocomplete')}" id="sysCode"   onchange="enableChkCoverageButton();" onblur="afterCompleteFunction();" html-placeholder="Search" style="text-align:left;"/>

                                                    </div> 
                                                </div>
                                                <div class="col-sm-6 col-xs-6 ">

                                                    <div class="col-sm-5 col-xs-6 cmi-tar">
                                                        <b>{!$Label.CG_Componentcode}</b><span class="cmi_asterisk1">*</span>
                                                    </div>

                                                    <div class="col-sm-6 col-xs-6" style="margin-left:0px;">
                                                        <apex:inputtext value="{!selectedCompCode}" styleclass="{!IF((blankField==true && (selectedCompCode=='' || selectedCompCode==null)),'apexCCautocomplete showRedBorder','apexCCautocomplete')}"  id="compCode"  onchange="enableChkCoverageButton();" html-placeholder="Search" style="text-align:left;" />

                                                    </div> 
                                                </div>
                                            </apex:outputPanel>

                                            <div class="clearfix"></div> 
                                            <div class="col-sm-6 col-xs-6">


                                                <div class="col-sm-5 col-xs-6 cmi-tar">
                                                    <b>{!$Label.CG_Failmode}</b><span class="cmi_asterisk1">*</span>
                                                </div>

                                                <div class="col-sm-6 col-xs-8">
                                                    <!-- <apex:selectList size="1" html-placeholder="Search" style="width:150px;"/>-->
                                                    <apex:inputText value="{!selectedFailMode}" style="width: 172px;" styleclass="{!IF((blankField==true && (selectedFailMode=='' || selectedFailMode==null)),'xyz showRedBorder','xyz')}"   html-placeholder="Search"/> <!-- style="text-align:left;"-->
                                                    <!--<apex:inputText /> -->
                                                </div> 
                                            </div>

                                            <div class="clearfix"></div> 
                                            <!--<apex:Outputpanel id="FaultCode"> -->
                                            <div class="col-sm-6 col-xs-6">
                                                <div class="col-sm-5 col-xs-6 cmi-tar">

                                                    <b>{!$Label.CSS_Fault_Code}</b><!--<div class="cmi_asterisk1">*</div>-->
                                                </div>

                                                <div class="col-sm-6 col-xs-8" >

                                                    <!-- <apex:outputText id="FC" rendered="{!IF((FCErrorval!=true),true,false)}">
<apex:inputText value="{!selectedFaultCode}" html-placeholder="Search" onchange="RenderSavePnl();" style="width: 172px;"/> 
</apex:outputText>
<apex:outputText id="FC1" rendered="{!IF(((FCErrorval==true) && (selectedFaultCode=='' || selectedFaultCode==null)),true,false)}">
<!--<apex:inputText value="{!selectedFaultCode}" styleClass="{!IF(FCErrorval == true,'showRedBorder','')}" style="width: 172px;" onchange="RenderSavePnl();"/> -->
                                                    <!-- <apex:inputText value="{!selectedFaultCode}" styleClass="showRedBorder" style="width: 172px;" onchange="RenderSavePnl();"/> 
<!-- <apex:outputText value="{!$Label.CSS_Claims_Enter_Value}" style="text-align:center; color: red ; display: block;"/>--> <!-- Commented as per story 142849-->
                                                    <!-- </apex:outputText>-->
                                                    <apex:inputText value="{!selectedFaultCode}" styleClass="{!IF((FCErrorval==true && (selectedFaultCode=='' || selectedFaultCode==null)),'FaultCode showRedBorder','FaultCode')}" 
                                                                    html-placeholder="Search" style="width: 530px;" onchange="RenderSavePnl();"/> 

                                                </div> 
                                            </div>

                                            <!---Calibration & Revision Fields on Failure pop up- Start-->
                                            <apex:outputPanel id="Calib">
                                                <apex:outputpanel rendered="{!IF(Bool,true,false)}">
                                                    <div class="clearfix"></div>

                                                    <div class="col-sm-6 col-xs-6"> 
                                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                                            <apex:outputLabel value="{!$objectType.CSS_PSN__c.Fields.Calibration_Before__c.Label}" />
                                                        </div>
                                                        <div class="col-sm-6 col-xs-6">
                                                            <apex:inputText value="{!psnRec.Calibration_Before__c}"/>
                                                        </div>
                                                    </div> 
                                                    <div class="col-sm-6 col-xs-6 ">
                                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                                            <apex:outputLabel value="{!$objectType.CSS_PSN__c.Fields.Revision_Before__c.Label}" />
                                                        </div>
                                                        <div class="col-sm-6 col-xs-6">
                                                            <apex:inputText value="{!psnRec.Revision_Before__c}"/>
                                                        </div>
                                                    </div>

                                                    <div class="clearfix"></div>

                                                    <div class="col-sm-6 col-xs-6"> 
                                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                                            <apex:outputLabel value="{!$objectType.CSS_PSN__c.Fields.Calibration_After__c.Label}" />
                                                        </div>
                                                        <div class="col-sm-6 col-xs-6">
                                                            <apex:inputText value="{!psnRec.Calibration_After__c}"/>
                                                        </div>
                                                    </div>  
                                                    <div class="col-sm-6 col-xs-6 ">

                                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                                            <apex:outputLabel value="{!$objectType.CSS_PSN__c.Fields.Revision_After__c.Label}" />
                                                        </div>
                                                        <div class="col-sm-6 col-xs-6">
                                                            <apex:inputText value="{!psnRec.Revision_After__c}"/>
                                                        </div>
                                                    </div>
                                                </apex:outputpanel>
                                            </apex:outputPanel>
                                            <!--Calibration & Revision Fields on Failure pop up-End-->

                                            <!--</apex:Outputpanel>-->
                                            <!--KALPANA-->

                                            <!--   <apex:actionFunction name="enableChkCoverageButton"  rerender="CoverageBtn" > </apex:actionFunction> -->
                                            <apex:actionFunction name="RenderSavePnl"  rerender="SavePnl" > </apex:actionFunction>
                                            <div class="clearfix"></div> 
                                            <div style="text-align:center;">
                                                <apex:outputPanel id="CoverageBtn">
                                                    <!--  <apex:outputpanel >-->
                                                    <!--<apex:outputpanel rendered="{!IF(selectedFName != null || (selectedSysCode != null && selectedCompCode != null), true, false)}">-->
                                                    <!--<apex:outputpanel rendered="{!IF(selectedFName != null || (selectedSysCode != null && selectedCompCode != null), true, false)}">-->
                                                    <!--<apex:outputpanel rendered="{!IF((selectedFName != null && selectedFName !='') || ((selectedSysCode != null && selectedSysCode != '') && (selectedCompCode != null && selectedCompCode != '')), true, false)}">-->
                                                    <span id="chkCoverageBtnEnabled">
                                                        <apex:commandButton value="{!$Label.css_Check_Coverage}"  styleClass="saveButton" action="{!checkCoverage}" status="callCheckCoverage" rerender="checkCoveragePanel,AcountCode,PayCode,warrantycompfailurepanel,AccCodeAuthorize,opPartsWarranty" style="margin-top:20px"> <!--oncomplete="chkCoverage();"-->
                                                        </apex:commandButton>
                                                    </span>
                                                    <!--</apex:outputpanel>-->
                                                    <br/>
                                                    <apex:actionStatus startText="requesting..." id="callCheckCoverage">
                                                        <apex:facet name="start">Fetching Coverage Details...</apex:facet>
                                                        <apex:facet name="stop"></apex:facet>
                                                    </apex:actionStatus>
                                                    <!--</apex:outputpanel>-->
                                                    <!--<apex:outputpanel rendered="{!IF(selectedFName == null && (selectedSysCode == null && selectedCompCode == null), true,false)}">-->
                                                    <!--  <apex:outputpanel rendered="{!IF((selectedFName == null || selectedFName == '') || ((selectedSysCode == null || selectedSysCode == '') && (selectedCompCode == null || selectedCompCode == '')), true,false)}"> -->

                                                    <span id ="chkCoverageBtnDisabled">
                                                        <apex:commandButton value="{!$Label.css_Check_Coverage}" styleclass="cmi_lighttealbutton" style="border:0px;font-size:14px;padding:5px 20px;line-height:0px;height:30px;"/>
                                                    </span>
                                                    <!--   </apex:outputpanel> -->


                                                </apex:outputPanel>

                                                <!--  </apex:outputpanel>-->
                                            </div>
                                            <!--added for the story 154935-->
                                            <apex:outputPanel rendered="{!IF(accCodeSelected=='EMISSION WARRANTY 70' && (psnRec.License_Plate_State__c == 'Select One' || psnRec.License_Plate_State__c == '' || psnRec.License_Plate_State__c == null),true,false)}">  <br/>
                                                <span style="color:red">For Emissions Warranty,'License Plate State' is a mandatory field on Warranty Overview</span>
                                            </apex:outputPanel>
                                            <div style="text-align:center;">
                                                <apex:outputPanel id="checkCoveragePanel">
                                                    <apex:outputText rendered="{!IF((coverageFound=='true'),true,false)}"> <br/>
                                                        <div>                                               
                                                            <i class="cmi-icons icon-solidCorrect" ></i> 
                                                            <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.css_Coverage_Found}"/></b>
                                                        </div>
                                                    </apex:outputText>
                                                    <apex:outputText rendered="{!IF((errornotcovfound==true && (accCodeSelected != '' || accCodeSelected!=null)),true,false)}"> <br/>
                                                        <div>                                               
                                                            
                                                            <b><apex:outputText style="color:Red;font-size:100%;align:center" value="Coverage Not Found"/></b>
                                                        </div>
                                                    </apex:outputText>
                                                    <apex:outputText rendered="{!IF((coverageFound=='false' && (accCodeSelected == '' || accCodeSelected==null)),true,false)}"> <br/>
                                                        <div>
                                                            <i class="cmi-icons icon-solidWrong" ></i>                                                                                        
                                                            <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.CSS_Select_Account_Code}"/></b>
                                                        </div>    
                                                    </apex:outputText>
                                                </apex:outputPanel>
                                                <apex:OutputPanel id="CombExists">
                                                    <apex:outputText rendered="{!IF((solCompExistsFlag=='true'),true,false)}"> <br/>
                                                        <div class="col-sm-12 cmi-tar" style="text-align:center;">
                                                            <!--<i class="cmi-icons icon-solidWrong" ></i>  -->                                                                                      
                                                            <b><apex:outputText style="color: red ; display: block;" value="{!$Label.CSS_FailCode_AccCode}"/></b>
                                                        </div>    
                                                    </apex:outputText>
                                                </apex:OutputPanel>
                                                <apex:outputPanel id="warrantycompfailurepanel">
                                                    <apex:outputText rendered="{!warrantyCompFailure}"> <br/>
                                                        <b><apex:outputText style="color:red;align:center" value="{!$Label.CSS_WarrantyWebserviceFailureMessage}"/></b>
                                                    </apex:outputText>
                                                </apex:outputPanel>
                                                <!--Commented as per story The Office 164459-->
                                                <!--<apex:outputPanel id="accodeerrmsg">
                                                    <apex:outputText rendered="{!IF((OneaccCodeBool=='false'),true,false)}"> <br/>
                                                        <b><apex:outputText style="color:red;align:center" value="{!$Label.CG_Only_one_Account_Code_allowed_on_Multi_PSN_claim}"/></b>
                                                    </apex:outputText>
                                                </apex:outputPanel><br/>-->
                                                <apex:outputPanel id="acErrorMsg">
                                                    <apex:outputText rendered="{!IF((isMultiPSNErrorExist==true),true,false)}"> <br/>
                                                        <b><apex:outputText style="color:red;align:center" value="{!$Label.CG_Multi_PSN_claim_is_only_allowed_on_New_Engine_Warranty_67}"/></b>
                                                    </apex:outputText>
                                                </apex:outputPanel><br/><br/>
                                            </div>

                                            <apex:outputPanel id="AcountCode">

                                                <div class="col-sm-6 col-xs-6">
                                                    <div class="col-sm-5 col-xs-6 cmi-tar">
                                                        <b>{!$Label.CSS_Account_Code}</b><span class="cmi_asterisk1">*</span>
                                                    </div>

                                                    <div class="col-sm-6 col-xs-6">
                                                        <!--apex:outputText rendered="{!IF((coverageFound=='true'),true,false)}">
<apex:outputText value="{!accCodeReturned}" style="width:150px;"></apex:outputText>
</apex:outputText-->
                                                        <apex:outputPanel id="accCodeReadOnly" rendered="{!IF((showDisabledAC == true), true,false)}">
                                                            <select value="{!accCodeSelected}" disabled="true" size="1" style="width:172px;" Class="{!IF((blankField==true && (accCodeSelected=='' || accCodeSelected==null || accCodeSelected=='Select One')),'showRedBorder','')}">
                                                                <option value="Select One" >Select One</option>
                                                            </select>
                                                        </apex:outputPanel>
                                                        <apex:outputPanel id="accCodeEditable" rendered="{!IF((showDisabledAC == false), true,false)}">
                                                            <apex:selectList value="{!accCodeSelected}" onChange="onaccCodeChanged(this.value);" size="1" style="width:172px;" styleClass="{!IF((blankField==true && (accCodeSelected=='' || accCodeSelected==null || accCodeSelected=='Select One')),'showRedBorder','')}">
                                                                <apex:selectOptions value="{!accCodes}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputPanel>
                                                        <apex:actionFunction name="onaccCodeChanged" action="{!getPayCodesonAccCodeChange}" rerender="accCodeEditable,PayCode,AccCodeAuthorize,CombExists,FaultCode,checkCoveragePanel,opPartsWarranty,FailuresOverviewAdd">
                                                            <apex:param name="onaccCodeChangedAssign" value="" assignTo="{!accCodeSelected}"/>

                                                            <!--<apex:param name="onaccCodeChangedAssign1" value="" assignTo="{!coverageType}"/>-->
                                                        </apex:actionFunction>

                                                        <!--<apex:inputText /> -->
                                                    </div> 
                                                </div>
                                            </apex:outputPanel>
                                            <apex:outputText rendered="{!If($Setup.css_header_nav__c.RSWButtonEnable__c == true || CONTAINS($UserRole.Name,'Factory'),false,true)}">
                                                <div class="col-sm-6 col-xs-6">
                                                    <div class="col-sm-5 col-xs-6 cmi-tar">
                                                        <b>{!$Label.CG_Claimtype}</b><span class="cmi_asterisk1">*</span>

                                                    </div>

                                                    <div class="col-sm-6 col-xs-6" style="margin-left:0px;">
                                                        <!-- <Select size="1" style="width:172px;" disabled="true">-->
                                                        <!--    <selectOption value="Select One" />-->
                                                        <!-- <apex:outputPanel id="claimTypeReadOnly" rendered="{!IF((showDisabledAC == true), true,false)}">
<select value="{!claimTypeSelected}" disabled="true" size="1" style="width:172px;">
<option value="Select One" >Select One</option>
</select>
</apex:outputPanel>
DisabledAC:{!showDisabledAC}
<apex:outputPanel rendered="{!IF((showDisabledAC == false), true,false)}">-->
                                                        
                                                        <apex:selectList value="{!claimTypeSelected}" size="1" style="width:172px;" styleClass="{!IF((blankField==true && (claimTypeSelected=='' || claimTypeSelected==null)),'showRedBorder','')}">
                                                            <apex:selectOptions value="{!claimTypes}"></apex:selectOptions>
                                                        </apex:selectList>
                                                        <!--</apex:outputPanel>-->
                                                    </div> 
                                                    <div class="clearfix"></div> 
                                                </div>
                                            </apex:outputText>

                                            <div class="clearfix"></div>  <br/>
                                            <apex:outputText rendered="{!If($Setup.css_header_nav__c.RSWButtonEnable__c == true,false,true)}" id="PayCode"> 
                                                <!--    apex:OutputText rendered="{!IF(((accCodeSelected != null && accCodeSelected != '' && accCodeSelected != 'Select One') && coverageType != 'POL'), true,false)}" -->
                                                <apex:OutputText rendered="{!IF((coverageType != 'POL' && coverageType != 'OTH'), true,false)}"> 


                                                    <div class="col-sm-6 col-xs-6" style="margin-bottom:15px;">
                                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                                            <b>{!$Label.CSS_Pay_Code}</b><span class="cmi_asterisk1">*</span>
                                                        </div>

                                                        <div class="col-sm-6 col-xs-6" >
                                                            <!--apex:outputText rendered="{!IF((coverageFound=='true'),true,false)}">
<apex:outputText value="{!payCodeSelected}" style="width:150px;"></apex:outputText>
</apex:outputText--><!--PayCode:{!payCodeSelected} -->
                                                            <apex:selectList value="{!payCodeSelected}" size="1" style="width:172px;" styleClass="{!IF((blankField==true && (payCodeSelected=='' || payCodeSelected==null)),'showRedBorder','')}">
                                                                <apex:selectOptions value="{!lstPCvalues}"></apex:selectOptions></apex:selectList>
                                                        </div> 
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </apex:OutputText> 
                                            </apex:outputText>
                                            <!-------------------Radio buttons for Account code----------------->

                                            <!-- Added by Abhishek -->
                                            <!--qwerty dealer:-- {!$Setup.css_header_nav__c.RSWButtonEnable__c}
qwerty accCodeSelected:--  {!accCodeSelected}-->



                                            <apex:outputpanel id="opPartsWarranty" >
                                                <apex:outputpanel rendered="{!IF((accCodeSelected != null && accCodeSelected != '' && (CONTAINS(accCodeSelected,'62') || CONTAINS(accCodeSelected,'35') || CONTAINS(accCodeSelected,'97') || CONTAINS(accCodeSelected,'41'))) || (accCodeWS != null && accCodeWS != '' && (CONTAINS(accCodeWS,'62') || CONTAINS(accCodeWS,'35') || CONTAINS(accCodeWS,'97') || CONTAINS(accCodeWS,'41'))), true, false)}">
                                                    <div class="col-sm-offset-1 col-sm-11">
                                                        <!-- added by venkat for the story #154948-->
                                                            <!-- Commented because of radio button removed based on account codes selection Defect No: 173587 -->
                                                           
                                                        <!--<div class="col-sm-offset-2 col-sm-10">
                                                            
                                                            <apex:outputpanel rendered="{!IF(accCodeSelected != null && accCodeSelected != '' && ((CONTAINS(accCodeSelected,'35') && $Setup.css_header_nav__c.RSWButtonEnable__c == true)  || (CONTAINS(accCodeSelected,'41')) && $Setup.css_header_nav__c.RSWButtonEnable__c == true ) || (accCodeWS != null && accCodeWS != '' &&  (CONTAINS(accCodeWS,'35')&& $Setup.css_header_nav__c.RSWButtonEnable__c == true) || (CONTAINS(accCodeWS,'41') && $Setup.css_header_nav__c.RSWButtonEnable__c == true )), true, false)}">
                                                                <apex:outputpanel rendered="{!IF((partsWarranty=='New Parts Warranty'),true,false)}">
                                                                    <input  type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');"/>
                                                                    {!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
                                                                    <input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');" /> 
                                                                    {!$label.css_Recon_Parts_Warranty}
                                                                </apex:outputpanel>
                                                                <apex:outputpanel rendered="{!IF((partsWarranty=='Recon Parts Warranty'),true,false)}">
                                                                    <input type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');" />
                                                                    {!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
                                                                    <input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');" checked="checked"/> 
                                                                    {!$label.css_Recon_Parts_Warranty}
                                                                </apex:outputpanel>
                                                                <apex:outputpanel rendered="{!IF((partsWarranty==''),true,false)}">
                                                                    <apex:outputpanel rendered="{!IF(CONTAINS(accCodeSelected,'62') || CONTAINS(accCodeSelected,'35') ,true,false)}">
                                                                        <input type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');" checked="checked"/>
                                                                        {!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
                                                                        <input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');"/> 
                                                                        {!$label.css_Recon_Parts_Warranty}
                                                                    </apex:outputpanel>
                                                                    <apex:outputpanel rendered="{!IF(CONTAINS(accCodeSelected,'97') || CONTAINS(accCodeSelected,'41') ,true,false)}">
                                                                        <input type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');" />
                                                                        {!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
                                                                        <input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');" checked="checked"/> 
                                                                        {!$label.css_Recon_Parts_Warranty}
                                                                    </apex:outputpanel>
                                                                </apex:outputpanel>
                                                            </apex:outputpanel>
                                                        </div> 
                                                        <apex:actionFunction name="callPartsWarranty" reRender="none">
                                                            <apex:param name="partsWarr" value="partsWarr" assignTo="{!partsWarranty}"></apex:param>
                                                        </apex:actionFunction> -->
                                                        <apex:outputPanel id="customerPossessionError">
                                                            <apex:outputPanel rendered="{!IF(radioSelect=true,true,false)}">
                                                                <span style="color:red">{!$Label.CSS_Please_confirm_if_customer_took_possession_of_the_part}</span>
                                                            </apex:outputPanel>
                                                            <!--  </apex:outputPanel>-->
                                                            <div class="clearfix"></div> <br/>
                                                            <div class="col-sm-8">
                                                                <apex:outputLabel value="{!$Label.css_Did_customer}" /><span class="cmi_asterisk1">*</span>   
                                                            </div>
                                                            <div class="col-sm-4" style="margin-left:-50px;margin-top:-12px;">
                                                                <!-- 154947-->

                                                                <!--  <apex:outputPanel id="rad">
<apex:outputpanel rendered="{!IF((custSelect=='Yes'),true,false)}">
<input id="yesid" type="radio" value="Possession Yes" name="custPossesion" onclick="callCustPossession('Yes');" checked="checked"/>
{!$label.css_Yes} &nbsp; &nbsp;
<input id="noid" type="radio" value="Possession No" name="custPossesion" onclick="callCustPossession('No');" />
{!$label.css_No}
</apex:outputpanel>
<apex:outputpanel rendered="{!IF((custSelect=='No'),true,false)}">
<input  type="radio" value="Possession Yes" name="custPossesion" onclick="callCustPossession('Yes');" />
{!$label.css_Yes} &nbsp; &nbsp;
<input type="radio" value="Possession No" name="custPossesion" onclick="callCustPossession('No');" checked="checked"/> 
{!$label.css_No}
</apex:outputpanel>
<apex:outputpanel rendered="{!IF((custSelect==''),true,false)}">
<input type="radio" value="Possession Yes" name="custPossesion" onclick="callCustPossession('Yes');"/>
{!$label.css_Yes} &nbsp; &nbsp;
<input type="radio" value="Possession No" name="custPossesion" onclick="callCustPossession('No');"/> 
{!$label.css_No}
</apex:outputpanel>
</apex:outputPanel>-->
                                                                <apex:outputPanel id="rad">
                                                                    <apex:selectRadio value="{!Possession}">
                                                                        <apex:selectOptions value="{!items}"/>
                                                                    </apex:selectRadio><p/>
                                                                </apex:outputPanel>


                                                            </div>
                                                        </apex:outputPanel>
                                                        <apex:actionFunction name="callCustPossession"  reRender="none">
                                                            <apex:param name="custPossession" value="custPossession" assignTo="{!custSelect}"></apex:param>
                                                        </apex:actionFunction>
                                                        <!----input field for warranty start date--------->
                                                         <br/>
                                                         <div class="clearfix"></div>
                                                        <div class="col-sm-5 cmi-tar">
                                                            <apex:outputLabel value="{!$Label.CSS_PartWarrantyStartDate}"/><span class="cmi_asterisk1">*</span>
                                                        </div> 
                                                        <div class="col-sm-7 col-xs-12" style="margin-bottom:4px;">
                                                            
                                                            
                                                            <apex:inputField id="Wartydt" value="{!compont.Part_Warranty_Start_Date__c}" onchange="CompareDates(this.value);" styleclass="{!IF((blankField==true && compont.Part_Warranty_Start_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false"/>
                                                            <div class="input-group date" style="display:inherit;" id="pwDate" data-provide="datepicker" data-date-format="{!datebyLocaleValue}">
                                                                <!--<apex:inputField value="{!compont.Part_Warranty_Start_Date__c}" onchange="enableCheckCoverage();" styleclass="{!IF((blankField==true && compont.Part_Warranty_Start_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false"/>-->
                                                                <!--  <apex:inputField value="{!compont.Part_Warranty_Start_Date__c}" id="warrantyDate" onchange="enableCheckCoverage(),onchangePartWarranty(this.value,'{!psnRec.Failure_Date__c}','{!compont.Failure_Date__c}');" styleclass="{!IF((blankField==true && compont.Part_Warranty_Start_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false"/>-->
                                                                <!--<apex:inputField id="Wartydt" value="{!compont.Part_Warranty_Start_Date__c}" onchange="CompareDates(this.value);" styleclass="{!IF((blankField==true && compont.Part_Warranty_Start_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false"/>-->
                                                                <span class="input-group-addon" style="display: inline; border: 0px; background:none;">
                                                                    <apex:input value="{!warrStDtHidden}" onchange="assignWSDtoActual(this);"   style="display:none" />
                                                                    <span class="cmi_calendar-icon" style="left: 140px; top: -20px;"></span>
                                                                   <!-- <span class="cmi_calendar-icon" style="margin:0px -7px;"></span>-->
                                                                    <!--</apex:input>-->
                                                                </span>
                                                                <!--</apex:inputField>-->
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-7 col-xs-12" style="margin-left:180px">
                                                            <apex:outputPanel id="checkPartsWarrDt">
                                                                <apex:outputPanel rendered="{!checkPartsWarrStartDt}">
                                                                    <b> <span style="color:red">{!$Label.Parts_Warranty_Start_Date_less_than_Current_Date}</span> </b>
                                                                </apex:outputPanel>
                                                            </apex:outputPanel>
                                                        </div>
                                                          <apex:actionFunction name="CompareDatesfun1" action="{!CompareDates}" reRender="checkPartsWarrDt,checkCoverageButton,opPartsWarranty">
                                                            <apex:param name="WarrantyDate" value="" assignTo="{!warrantyDate}"></apex:param>
                                                        </apex:actionFunction>
                                                        <div class="clearfix"></div>
                                                      



                                                        <div class="clearfix"></div>
                                                        <div class="col-sm-5 cmi-tar" style="word-wrap: break-word;">
                                                            <apex:outputLabel value="{!$Label.CSS_Failure_date}"/><span class="cmi_asterisk1">*</span>
                                                        </div>
                                                        <apex:outputpanel rendered="{!IF(compont.Failure_Date__c==null,true,false)}">
                                                            <div class="col-sm-7 col-xs-12" style="margin-bottom:4px;">
                                                                <div class="input-group date" style="display:inherit;" id="failureDate" data-provide="datepicker" data-date-format="{!datebyLocaleValue}">
                                                                    <apex:inputField value="{!psnRec.Failure_Date__c}" onchange="enableCheckCoverage();" styleclass="{!IF((blankField==true && psnRec.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;
                                                                    <span class="input-group-addon" style="display: inline; border: 0px; background:none;">
                                                                        <span class="cmi_calendar-icon" style="margin:0px -7px"></span>
                                                                    </span>                                                    
                                                                </div> 
                                                            </div>
                                                        </apex:outputpanel>
                                                        <apex:outputpanel rendered="{!IF(compont.Failure_Date__c!=null,true,false)}">
                                                            <div class="col-sm-7 col-xs-12" style="margin-bottom:4px;">
                                                                <div class="input-group date" style="display:inherit;" id="failureDate" data-provide="datepicker" data-date-format="{!datebyLocaleValue}">
                                                                    <apex:inputField value="{!compont.Failure_Date__c}" onchange="enableCheckCoverage();" styleclass="{!IF((blankField==true && compont.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;
                                                                    <span class="input-group-addon" style="display: inline; border: 0px; background:none;">
                                                                        <span class="cmi_calendar-icon" style="margin:0px -7px"></span>
                                                                    </span>                                                    
                                                                </div> 
                                                            </div>
                                                        </apex:outputpanel>
                                                        <div class="clearfix"></div>
                                                        <div class="col-sm-5 cmi-tar">
                                                            <apex:outputLabel value="{!$Label.CSS_Failure_Pointc}"/><span class="cmi_asterisk1">*</span>                                                                                 
                                                        </div>
                                                        <div class="col-sm-7 col-xs-12">
                                                            <apex:inputField value="{!compont.Failure_Point__c}" html-maxlength="8" onkeydown="return valFailurePoint(event);" onkeyup="enableCheckCoverage();" styleclass="{!IF((blankField==true && (compont.Failure_Point__c==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}"/>      
                                                             
                                                        </div>  

                                                        <!-- Added Condition to display error message based on coverage type(CAP) -- GAP 148103 Rajasekhar H -->
                                                        <apex:outputPanel rendered="{!errormsgfailpoint}">
                                                            <apex:outputText style="color: red ; display: block;" value="{!$Label.CSS_Failure_Begin_Point}"></apex:outputText>
                                                        </apex:outputPanel>
                                                        <!-- END -->

                                                        <div class="clearfix"></div>
                                                        <div class="col-sm-5 cmi-tar" style="margin-top:10px;">
                                                            <apex:outputLabel value="Failure Measure"/><span class="cmi_asterisk1">*</span>
                                                        </div>
                                                        <div class="col-sm-7 col-xs-12" style="margin-top:10px;">
                                                            <apex:outputpanel rendered="{!IF((failureMeasure=='Miles'),true,false)}">
                                                                <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" checked="checked"/>
                                                                {!$Label.CSS_Miles} &nbsp; &nbsp;
                                                                <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" /> 
                                                                {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                                                <input type="radio" value="{!$Label.css_hours}" name="failMeasure" onclick="callFailureMeasure('Hours');" /> 
                                                                {!$Label.css_hours}
                                                            </apex:outputpanel>
                                                            <apex:outputpanel rendered="{!IF((failureMeasure=='Kilometers'),true,false)}">
                                                                <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" />
                                                                {!$Label.CSS_Miles} &nbsp; &nbsp;
                                                                <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" checked="checked"/> 
                                                                {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                                                <input type="radio" value="{!$Label.css_hours} " name="failMeasure" onclick="callFailureMeasure('Hours');" /> 
                                                                {!$Label.css_hours}
                                                            </apex:outputpanel>
                                                            <apex:outputpanel rendered="{!IF((failureMeasure=='Hours'),true,false)}">
                                                                <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" />
                                                                {!$Label.CSS_Miles} &nbsp; &nbsp;
                                                                <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" /> 
                                                                {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                                                <input type="radio" value="{!$Label.css_hours}" name="failMeasure" onclick="callFailureMeasure('Hours');" checked="checked"/> 
                                                                {!$Label.css_hours}
                                                            </apex:outputpanel>
                                                            <!--FM : {!failureMeasure}-->
                                                            <apex:outputpanel rendered="{!IF((failureMeasure==''),true,false)}">
                                                                <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" checked="checked"/>
                                                                {!$Label.CSS_Miles} &nbsp; &nbsp;
                                                                <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" /> 
                                                                {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                                                <input type="radio" value="{!$Label.css_hours}" name="failMeasure" onclick="callFailureMeasure('Hours');" /> 
                                                                {!$Label.css_hours}
                                                            </apex:outputpanel>
                                                        </div>

                                                        <apex:actionFunction name="callFailureMeasure" reRender="none">
                                                            <apex:param name="failPointMeasure" value="failPointMeasure" assignTo="{!failureMeasure}"></apex:param>
                                                        </apex:actionFunction>

                                                        <apex:actionFunction name="enableCheckCoverage" reRender="checkCoverageButton"/>
                                                        <apex:actionFunction name="callFailureMeasure" reRender="none">
                                                            <apex:param name="failPointMeasure" value="failPointMeasure" assignTo="{!failureMeasure}"></apex:param>
                                                        </apex:actionFunction>

                                                        <apex:actionFunction name="CompareDatesfun" action="{!CompareDates}" reRender="checkPartsWarrDt,FDD,FD,FailDate,FailDate1,opPartsWarranty">
                                                            <apex:param name="FailureDate" value="" assignTo="{!failureDate}"></apex:param>
                                                            <apex:param name="WarrantyDate" value="" assignTo="{!warrantyDate}"></apex:param>
                                                        </apex:actionFunction>


                                                        <apex:actionFunction name="onchangePartWarranty" action="{!CompareDates}" reRender="opPartsWarranty,checkPartsWarrDt">
                                                            <apex:param name="WarrantyDate" value="" assignTo="{!warrantyDate}"></apex:param>
                                                            <apex:param name="FailureDate" value="" assignTo="{!failureDate}"></apex:param>
                                                            <apex:param name="FailureDate1" value="" assignTo="{!failureDate1}"></apex:param>
                                                        </apex:actionFunction>

                                                        <div class="clearfix"></div> 
                                                        <div style="text-align:center;">
                                                            <apex:outputpanel id="checkCoverageButton">

                                                                <apex:outputpanel rendered="{!IF(compont.Failure_Point__c!=null && selectedFName!=null && (compont.Failure_Date__c != null || psnRec.Failure_Date__c != null) && compont.Part_Warranty_Start_Date__c != null,true,false)}">
                                                                    <apex:commandLink value="{!$Label.CSS_Check_Parts_Coverage}" styleClass="saveButton" action="{!checkPartCoverage}" status="callCheckCoverage1" rerender="checkCoveragePanel,warrantycompfailurepanel,checkCoveragePanel1" style="margin:20px"></apex:commandLink><!--warrantycompfailurepanel-->
                                                                    <br/>
                                                                    <apex:actionStatus startText="requesting..." id="callCheckCoverage1">
                                                                        <apex:facet name="start">Fetching Coverage Details...</apex:facet>
                                                                        <apex:facet name="stop"></apex:facet>
                                                                    </apex:actionStatus>
                                                                </apex:outputpanel>
                                                                <apex:outputpanel rendered="{!IF(compont.Failure_Point__c==null || selectedFName==null || (compont.Failure_Date__c == null && psnRec.Failure_Date__c == null) || compont.Part_Warranty_Start_Date__c == null,true,false)}">
                                                                    <apex:commandLink value="{!$Label.CSS_Check_Parts_Coverage}" styleclass="cmi_lighttealbutton" style="margin:20px"/>
                                                                </apex:outputpanel>

                                                            </apex:outputpanel> 
                                                        </div> 
                                                        <!-- <div class="input-group date" style="display:inherit;" id="failureDate" data-provide="datepicker" data-date-format="{!datebyLocaleValue}">
<apex:inputField value="{!compont.Part_Warranty_Start_Date__c}" onchange="enableCheckCoverage();" styleclass="form-control cmi-cal css_ipfiel_size " showDatePicker="false"/>
<span class="input-group-addon" style="display: inline; border: 0px; background:none;">
<span class="cmi_calendar-icon" style="margin:0px 0px"></span> 
</span>
</div>-->

                                                    </div>


                                                </apex:outputpanel>

                                                <!---Added by Abhishek Check coverage-->
                                                <div style="text-align:center;">
                                                    <apex:outputPanel id="checkCoveragePanel1">
                                                        <apex:outputPanel rendered="{!IF((partCoverageFound!='' && partCoverageFound=='true'),true,false)}">
                                                            <div style="margin-left:70px">                                               
                                                                <i class="cmi-icons icon-solidCorrect" ></i> 
                                                                <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.css_Coverage_Found}"/></b>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <apex:outputPanel rendered="{!IF((partCoverageFound!='' && partCoverageFound=='false'),true,false)}">
                                                            <div style="margin-left:70px">
                                                                <i class="cmi-icons icon-solidWrong" ></i>                                                                                        
                                                                <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.css_No_Coverage_Found}"/></b>
                                                            </div>    
                                                        </apex:outputPanel>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel id="warrantycompfailurepanel1">
                                                        <apex:outputPanel rendered="{!warrantyCompFailure}">
                                                            <b><apex:outputText style="color:red;align:center" value="{!$Label.CSS_WarrantyWebserviceFailureMessage}"/></b>
                                                        </apex:outputPanel>
                                                    </apex:outputPanel> 
                                                </div>
                                                <!--End by Abhishek check coverage-->
                                            </apex:outputpanel>
                                            <!-- End by Abhishek -->
                                            <!---End------------------------------------>

                                            <apex:outputpanel id="AccCodeAuthorize">
                                                <!--Added coverageType=='OTH' in below if condition for getting AuthorizationNumber and ApprovalCode as per Simpsons story #128755, By RAJESH 30th May 2018-->       
                                                <apex:outputpanel rendered="{!IF((coverageType=='POL' || coverageType=='OTH'),true,false)}">
                                                    <hr size="10px" color="gray"/>
                                                    <div style="text-align:center;">
                                                        <h4><b>{!$Label.CSS_AuthNeedForAccCode}</b></h4>                                     
                                                    </div>
                                                    <div class="clearfix"></div> <br/>
                                                    <!--<div class="col-sm-6 col-xs-6">-->
                                                    <div class="col-sm-6 col-xs-6">


                                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                                            <b>{!$ObjectType.CSS_Solution_Component__c.fields.Authorization_Number__c.Label}</b><!--span class="cmi_asterisk1">*</span-->
                                                        </div>


                                                        <div class="col-sm-6 col-xs-6">
                                                            <apex:inputText value="{!AuthorizationNumber}" maxlength="30" style="width:172px;padding:0px" />   

                                                        </div> 
                                                    </div>
                                                    <div class="col-sm-6 col-xs-6">
                                                        <!--<div class="clearfix"></div>  <br/> -->
                                                        <div class="col-sm-4 col-xs-6 cmi-tar">
                                                            <b>{!$ObjectType.CSS_Solution_Component__c.fields.Approval_Code__c.Label}</b><span class="cmi_asterisk1">*</span>
                                                        </div>
                                                        <!--Added code for displaying the error message as per simpsons document #145403 by -RAJESH 29th May 2018 -->
                                                        <div class="col-sm-6 col-xs-6" >
                                                            <!--<apex:inputText value="{!ApprovalCode}" maxlength="30" style="width:172px;padding:0px" styleclass="{!IF((blankField==true && (ApprovalCode=='' || ApprovalCode==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" onchange="onChangeofappCode(this.value);"/>-->
                                                            <apex:outputPanel id="ErrMsg1">
                                                                
                                                                <apex:inputText value="{!ApprovalCode}" maxlength="30" style="width:172px;padding:0px" styleclass="{!IF((blankField==true && (ApprovalCode=='' || ApprovalCode==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" onchange="onChangeofappCode(this.value);" />  
                                                                <apex:outputPanel rendered="{!invalidAppCode}"> 
                                                                    <h6 style="color: red ; display: block;"><b>{!$Label.css_Approval_Code_is_invalid}</b></h6>
                                                                </apex:outputPanel>
                                                            </apex:outputPanel>                                                            
                                                        </div> 
                                                        <!--End -->
                                                    </div>
                                                    <div class="clearfix"></div> <br/>
                                                    <apex:outputText rendered="{!If($Setup.css_header_nav__c.RSWButtonEnable__c == true,false,true)}">
                                                        <div class="col-sm-6 col-xs-6">
                                                           

                                                            <div class="col-sm-5 col-xs-6 cmi-tar" >
                                                                <b>{!$ObjectType.CSS_Solution_Component__c.fields.Pay_Code__c.Label}</b><span class="cmi_asterisk1">*</span>

                                                            </div>
                                                            <div class="col-sm-6 col-xs-6" >

                                                                <apex:selectList value="{!payCodeSelected}" size="1" style="width:160px;padding:0px" styleclass="{!IF((blankField==true && (payCodeSelected=='' || payCodeSelected==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}">
                                                                    <apex:selectOptions value="{!lstPCvalues}"></apex:selectOptions></apex:selectList>
                                                            </div> 

                                                        </div> 
                                                    </apex:outputText>

                                                    <div class="clearfix"></div><br/>
                                                </apex:outputpanel>
                                            </apex:outputpanel>
                                            <!-- Added "onChangeofappCode" code for getting updated value from Approval code as per Simpsons  document $128755 by -RAJESH 29th MAy 2018-->
                                            <apex:actionFunction name="onChangeofappCode" action="{!onChangeofAppCode}" rerender="ErrMsg1">
                                            </apex:actionFunction>
                                            <!--End -->        
                                        </div>
                                        <!-- Modal Footer -->
                                        <apex:Outputpanel id="SavePnl">
                                            <div class="modal-footer" style="border-top:0px;">
                                                <div class="col-sm-offset-1 col-sm-5"> 
                                                    <apex:commandButton value="{!$Label.css_save_btn}"  styleClass="saveButton" rerender="ErrMsg,FC1,CombExists,FailuresOverviewAdd,ErrMsg1,customerPossessionError,accodeerrmsg" status="saveAccountCode" action="{!popUpSave}" onComplete="afterCompleteFunction();" onClick="failurePopupJS('{!showFailurePopup}',this);" > <!-- onClick="onChangeofappCode(this.value);" onComplete="afterCompleteFunction() return false;"-->
                                                    </apex:commandButton>

                                                    <br/>
                                                    <apex:actionStatus startText="requesting..." id="saveAccountCode">
                                                        <apex:facet name="start">Saving...</apex:facet>
                                                        <apex:facet name="stop"></apex:facet>
                                                    </apex:actionStatus>
                                                </div>
                                                <div class="col-sm-offset-1 col-sm-2">
                                                    <!--<apex:commandLink value="{!$Label.css_Cancel}" styleClass="cancelButton" html-data-dismiss="modal"> -->
                                                    <apex:commandButton value="{!$Label.css_Cancel}" styleClass="cancelButton" action="{!cancelPopup}" rerender="FailuresOverviewAdd" oncomplete="loadJavscriptAgain();" html-data-dismiss="modal" > 

                                                    </apex:commandButton>
                                                    <!-- </apex:commandLink> -->
                                                </div>
                                            </div>
                                        </apex:Outputpanel>
                                    </apex:outputPanel>
                                </div>
                            </div>  
                        </div>
                    </div>
                    <apex:outputpanel id="failOverviewData"> 
                        <div class="">

                            <div class="form-horizontal" role="form"> 
                                <div class="form-group form-group1">
                                    <div class="col-md-15">
                                        <table class="mytable table table-striped table-bordered cmi_claimsfail-table" style="width:100%; " >
                                            <thead>
                                                <tr>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CSS_Select}</b></th>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CG_Failcode_Symp}</b></th>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CG_FailureName}</b></th>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CG_Systemcode}</b></th>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CG_Componentcode}</b></th>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CG_Failmode}</b></th>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CSS_Account_Code}</b></th>
                                                    <apex:outputText rendered="{!If($Setup.css_header_nav__c.RSWButtonEnable__c == true,false,true)}">
                                                        <th class="tblhead" style="text-align:center;"><b>{!$Label.CSS_PayCode}</b></th>

                                                        <th class="tblhead" style="text-align:center;">
                                                            <!-- <b>{!$Label.CG_Claimtype}</b> -->
                                                            <b><span style="color: red">*</span>&nbsp;{!$Label.CG_Claimtype}</b>
                                                        </th>
                                                    </apex:outputText>
                                                    <th class="tblhead" style="text-align:center;"><b>{!$Label.CSS_Delete_Edit}</b></th>
                                                </tr>
                                            </thead>
                                            <tbody>

                                                <apex:repeat value="{!listfailClaimspWrapper}" var="failRec" id="claimsFailure">
                                                    <tr>
                                                        <td>
                                                            <apex:outputPanel rendered="{!IF((claimsRec.CSS_Job__c!=null),true,false)}">
                                                                <apex:inputCheckbox value="{!failRec.selectedComponent}" id="checkbox"/>
                                                            </apex:outputPanel>
                                                            <apex:outputPanel rendered="{!IF((claimsRec.CSS_Job__c==null),true,false)}">
                                                                <apex:inputCheckbox value="{!failRec.selectedComponent}" disabled="true" id="checkboxRO"/>
                                                            </apex:outputPanel>
                                                        </td>
                                                        <td>
                                                            <b><apex:outputText value="{!failRec.faultSympCode}" style="color:#008080"/></b><br/>
                                                            <apex:outputPanel rendered="{!IF(failRec.relsympStringList != null,true,false)}"><b>{!$Label.CSS_Related}</b><br/></apex:outputPanel>
                                                            <apex:outputText value="{!failRec.relsympStringList}" />
                                                        </td>
                                                        <td>
                                                            <apex:outputText value="{!failRec.failureName}" />   
                                                        </td>
                                                        <!--Added below condition for getting code with Des as per defect #158390 and #158388,-By RAJESH on 13th Aug 2018-->            
                                                        <td>
                                                            <apex:outputPanel rendered="{!IF(failRec.systemCodeDes==null,true,false)}">
                                                                <apex:outputText value="{!failRec.systemCode}" /> 
                                                            </apex:outputPanel>
                                                            <apex:outputPanel rendered="{!IF(failRec.systemCodeDes!=null,true,false)}">
                                                                <apex:outputText value="{!failRec.systemCodeDes}" /> 
                                                            </apex:outputPanel>
                                                        </td>                                                        
                                                        <td>
                                                            <apex:outputPanel rendered="{!IF(failRec.compCodeDes==null,true,false)}">
                                                                <apex:outputText value="{!failRec.compCode}" />
                                                            </apex:outputPanel>
                                                            <apex:outputPanel rendered="{!IF(failRec.compCodeDes!=null,true,false)}">
                                                                <apex:outputText value="{!failRec.compCodeDes}" /> 
                                                            </apex:outputPanel>                                                            
                                                        </td>
                                                        <td>
                                                            <apex:outputPanel rendered="{!IF(failRec.FailModeDes==null,true,false)}">                                                                
                                                                <apex:outputText value="{!failRec.FailMode}" /> 
                                                            </apex:outputPanel>
                                                            <apex:outputPanel rendered="{!IF(failRec.FailModeDes!=null,true,false)}">
                                                                <apex:outputText value="{!failRec.FailModeDes}" /> 
                                                            </apex:outputPanel>
                                                        </td>
                                                        <!--End-->                
                                                        <td>
                                                            <apex:outputText value="{!failRec.accountCode}" />
                                                        </td>
                                                        <apex:outputText rendered="{!If($Setup.css_header_nav__c.RSWButtonEnable__c == true,false,true)}">
                                                            <td>

                                                                <apex:outputPanel rendered="{!IF(failRec.accountCode !=null,true,false)}">
                                                                    <apex:outputPanel rendered="{!IF(claimsRec.Information_Only_Claim__c == true,true,false)}">
                                                                        <select>
                                                                            <option value="Paycode" size="1" width="20">A</option>
                                                                        </select> 
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel rendered="{!IF(claimsRec.Information_Only_Claim__c == true,false,true)}">
                                                                        <apex:selectList value="{!failRec.payCode}" size="1">
                                                                            <apex:selectOptions value="{!failRec.PayCodes}"/>
                                                                        </apex:selectList>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>
                                                            </td>

                                                            <td>
                                                                <!-- <apex:outputPanel rendered="{!if(failRec.faultSympCode!=null && failRec.claimType!=null && 
failRec.claimType !='Select One' && failRec.claimType !='', true,false)}">
<apex:outputText value="{!failRec.claimType}" />
</apex:outputPanel>
<apex:outputPanel rendered="{!if(failRec.faultSympCode!=null && (failRec.claimType=='Select One'
|| failRec.claimType==''|| failRec.claimType==null), true,false)}">
<apex:selectList size="1" style="width:120px;" value="{!failRec.claimType}" styleClass="{!if(noclvalueborder=true && (failRec.claimType=='Select One'|| 
failRec.claimType==' '|| failRec.claimType==null) ,'showRedBorder','')}"> 
<apex:selectOptions value="{!claimTypes}"></apex:selectOptions>
</apex:selectList>    
</apex:outputPanel>
<apex:outputPanel rendered="{!if(failRec.faultSympCode==null ,true,false)}">
<apex:outputText value="{!failRec.claimType}" />    
</apex:outputPanel>-->

                                                                <apex:outputPanel rendered="{!if(failRec.claimType!=null && failRec.claimType!=null && 
                                                                                            failRec.claimType !='Select One' && failRec.claimType !='', true,false)}">
                                                                    <apex:outputText value="{!failRec.claimType}" />
                                                                </apex:outputPanel>
                                                                <!--I just updated condition below like " failRec.claimType!=null " to " failRec.claimType==null " as per defect #153695 ,-By RAJESH 17th July 2018-->                           
                                                                <apex:outputPanel rendered="{!if(failRec.claimType==null && (failRec.claimType=='Select One'
                                                                                            || failRec.claimType==''|| failRec.claimType==null), true,false)}">
                                                                    <apex:selectList size="1" style="width:120px;" value="{!failRec.claimType}" styleClass="{!if(noclvalueborder=true && (failRec.claimType=='Select One'|| 
                                                                                                                                                            failRec.claimType==' '|| failRec.claimType==null) ,'showRedBorder','')}"> 
                                                                        <apex:selectOptions value="{!claimTypes}"></apex:selectOptions>
                                                                    </apex:selectList>    
                                                                </apex:outputPanel>
                                                                <apex:outputPanel rendered="{!if(failRec.claimType==null ,true,false)}">
                                                                    <apex:outputText value="{!failRec.claimType}" />    
                                                                </apex:outputPanel>

                                                                <!--apex:outputPanel rendered="{!if(failRec.JobId==null ,true,false)}">
<apex:selectList size="1" value="{!failRec.claimType}" styleClass="{!if((noclvalueborder=true && failRec.claimType=='Select One'|| 
failRec.claimType==' '|| failRec.claimType==null) ,'showRedBorder','')}">
<apex:selectOptions value="{!claimTypes}"></apex:selectOptions>
</apex:selectList>    
</apex:outputPanel--> 

                                                            </td>
                                                        </apex:outputText>

<!-- Delete/Edit start -->
                                                        <td>
                                                            <apex:outputPanel rendered="{!IF((failRec.JobId == null || failRec.JobId == '') ,true,false)}">
                                                                
                                                                <apex:outputPanel rendered="{!IF((failRec.faultSympCode==null && isMultiPSNEnabled==true),true,false)}">
                                                                    <div class="col-sm-3" > 
                                                                        <div data-target="#DeletePopNew" data-toggle="modal" class="pull-right" style="margin-right: -62px; font-weight:bold ;">

                                                                            <i class="cmi_delete-icon"></i>

                                                                            <apex:commandlink value="{!$Label.CSS_Delete}"  onClick="showDeleteConfirmPopup();" rerender="PopupNew"  style="font-weight:bold;text-decoration:underline;">
                                                                                <apex:param name="solIdParam1" value="{!failRec.CompIds}" assignTo="{!deleteCompId}"/> 
                                                                            </apex:commandlink>


                                                                        </div>    
                                                                    </div>
                                                                </apex:outputPanel>
                                                                <!--Non Multi Psn -->
                                                                <apex:outputPanel rendered="{!IF((failRec.faultSympCode==null && isMultiPSNEnabled==false),true,false)}">
                                                                    <div class="col-sm-3" > 
                                                                        <div data-target="#DeletePopNew" data-toggle="modal" class="pull-right" style="margin-right: -62px; font-weight:bold ;">

                                                                            <i class="cmi_delete-icon"></i>

                                                                            <apex:commandlink value="{!$Label.CSS_Delete}"  onClick="showDeleteConfirmPopupNonMPSN();" rerender="PopupNew"  style="font-weight:bold;text-decoration:underline;">
                                                                                <apex:param name="solIdParam1" value="{!failRec.CompIds}" assignTo="{!deleteCompId}"/> 
                                                                            </apex:commandlink>


                                                                        </div>    
                                                                    </div>
                                                                </apex:outputPanel>
                                                                <!--End-->


                                                                <div class="col-sm-8 col-xs-12 cmi-tar" style="display:table;margin-right:20px;">
                                                                    <!-- <apex:outputPanel rendered="{!IF((claimsRec.CSS_Job__c==null),true,false)}">-->
                                                                    <apex:outputPanel rendered="{!IF((failRec.faultSympCode==null),true,false)}">
                                                                        <div data-target="pPopUp" data-toggle="modal"  class="pull-up" style="margin-top: 10px; font-weight:bold ;">
                                                                            <i class="pencil-tealIcon"></i>
                                                                            <!--<apex:actionRegion >-->

                                                                            <apex:commandLink value="{!$Label.css_Edit}"  action="{!loadPopup}" rerender="FailuresOverviewAdd,javascript,Calib" style="font-weight:bold;  text-decoration:underline;" onComplete="loadJavscriptAgain();afterCompleteFunction();showEditPopup();"> 
                                                                                <apex:param name="solIdParam" value="{!failRec.CompIds}" assignTo="{!selectedCompId}"/> 
                                                                                <!--<apex:param name="solIdParam1" value="{!failRec.CompIds}" assignTo="{!deleteCompId}"/>-->
                                                                            </apex:commandLink>

                                                                            <!--<apex:actionRegion>-->
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </apex:outputPanel>
                                                            <!--Dealer User -->

                                                            <apex:outputPanel rendered="{!IF(claimsRec.CSS_Job__c != null && $Setup.css_header_nav__c.RSWButtonEnable__c == true,true,false)}">
                                                                <!-- <apex:outputPanel rendered="{!IF((claimsRec.JobId != null) && ($Setup.css_header_nav__c.RSWButtonEnable__c == true),true,false)}">-->
                                                                <!-- ClaimsRec - {!compont.CSS_Claims__c}-->

                                                                <apex:outputPanel rendered="{!IF((failRec.faultSympCode != null),true,false)}">
                                                                    <div class="col-sm-3" > 
                                                                        <!--<div class="col-sm-3" style="display:table;margin-right:20px;"> -->
                                                                        <!--    <div class="col-sm-8 col-xs-12 cmi-tar"> -->
                                                                        <!--<div data-target="#DeletePopNew" data-toggle="modal" class="pull-right" style="margin-right: -40px; font-weight:bold ;display:flex;"> -->

                                                                        <div data-target="#DeletePopNew" data-toggle="modal" class="pull-right" style="margin-right: -62px; font-weight:bold ;">

                                                                            <i class="cmi_delete-icon"></i>

                                                                            <apex:commandlink value="{!$Label.CSS_Delete}"  onComplete="showDeleteConfirmPopupNonMPSN();" rerender="PopupNew"  style="font-weight:bold;text-decoration:underline;">
                                                                                <apex:param name="solIdParam1" value="{!failRec.CompIds}" assignTo="{!deleteCompId}"/> 
                                                                            </apex:commandlink>


                                                                        </div>   
                                                                    </div>
                                                                </apex:outputPanel>

                                                                <div class="col-sm-8 col-xs-12 cmi-tar" style="display:table;margin-right:20px;">
                                                                    <!-- <apex:outputPanel rendered="{!IF((claimsRec.CSS_Job__c==null),true,false)}">-->
                                                                    <apex:outputPanel rendered="{!IF((failRec.faultSympCode != null),true,false)}">
                                                                        <div data-target="pPopUp" data-toggle="modal"  class="pull-up" style="margin-top: 10px; font-weight:bold ;">
                                                                            <i class="pencil-tealIcon"></i>
                                                                            <!--<apex:actionRegion >-->

                                                                            <apex:commandLink value="{!$Label.css_Edit}"  action="{!loadPopup}" rerender="FailuresOverviewAdd,javascript,Calib" style="font-weight:bold;  text-decoration:underline;" onComplete="loadJavscriptAgain();afterCompleteFunction();showEditPopup();"> 
                                                                                <apex:param name="solIdParam3" value="{!failRec.CompIds}" assignTo="{!selectedCompId}"/>


                                                                            </apex:commandLink>

                                                                            <!-- </apex:actionRegion>-->
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </apex:outputPanel>

                                                            <!--End----->
                                                            <apex:outputPanel rendered="{!IF(claimsRec.Dealer_Service_Job__c  != null && $Setup.css_header_nav__c.RSWButtonEnable__c == true,true,false)}">

                                                                <apex:outputPanel rendered="{!IF((failRec.faultSympCode != null),true,false)}">
                                                                    <div class="col-sm-3" > 


                                                                        <div data-target="#DeletePopNew" data-toggle="modal" class="pull-right" style="margin-right: -62px; font-weight:bold ;">

                                                                            <i class="cmi_delete-icon"></i>

                                                                            <apex:commandlink value="{!$Label.CSS_Delete}"  onComplete="showDeleteConfirmPopup();" rerender="PopupNew"  style="font-weight:bold;text-decoration:underline;">
                                                                                <apex:param name="solIdParam1" value="{!failRec.CompIds}" assignTo="{!deleteCompId}"/> 
                                                                            </apex:commandlink>

                                                                        </div> 
                                                                    </div>
                                                                </apex:outputPanel>

                                                                <div class="col-sm-8 col-xs-12 cmi-tar" style="display:table;margin-right:20px;">

                                                                    <apex:outputPanel rendered="{!IF((failRec.faultSympCode != null),true,false)}">
                                                                        <div data-target="pPopUp" data-toggle="modal"  class="pull-up" style="margin-top: 10px; font-weight:bold ;">
                                                                            <i class="pencil-tealIcon"></i>
                                                                            <!--<apex:actionRegion >-->

                                                                            <apex:commandLink value="{!$Label.css_Edit}"  action="{!loadPopup}" rerender="FailuresOverviewAdd,javascript,Calib" style="font-weight:bold;  text-decoration:underline;" onComplete="loadJavscriptAgain();afterCompleteFunction();showEditPopup();"> 
                                                                                <apex:param name="solIdParam" value="{!failRec.CompIds}" assignTo="{!selectedCompId}"/> 

                                                                            </apex:commandLink>

                                                                            <!--</apex:actionRegion>-->
                                                                        </div>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </apex:outputPanel>

                                                            <!--End----->
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </apex:outputpanel>
                    <!--Start Model Popup code For Deletion the Failures -->
                    <apex:outputPanel id="DeletePopupNonMPSN">
                        <div class="modal fade" id="DeletePopupNew"  role="dialog" data-backdrop="static" html-keyboard="false"> 
                            <div class="vertical-alignment-helper">
                                <div class="modal-dialog vertical-align-center"> 
                                    <div class="modal-content">      
                                        <div class="modal-header"> 

                                            <h4 class="modal-title" style="color: #FFFFFF;"> {!$Label.CSS_Delete} {!$Label.CSS_Failure} - {!$Label.css_cummins_service_system}</h4>
                                        </div> 
                                        <div class="modal-body">
                                            <form class="form-horizontal" role="form">
                                                <div class="form-group">  
                                                    <div class="clearfix"></div>
                                                    <div class="col-sm-12 col-xs-12">
                                                        <font size="3px" weight="bold">{!$Label.css_Please_confirm_delete_claim}</font> 
                                                    </div>
                                                </div></form>

                                            <hr/>
                                            <div class="col-sm-5 col-xs-4 cmi-tar"> 

                                                <apex:commandButton value="{!$Label.CSS_Delete}" action="{!deleteSolRecordWOPSN}" styleClass="saveButton" reRender="DeletePopupNonMPSN"/>

                                            </div>
                                            <div class="col-sm-5 col-xs-4 cmi-tar">
                                                <apex:actionRegion >
                                                    <apex:commandButton value="{!$Label.css_Cancel}" action="{!closeDeletePopup}" html-data-dismiss="modal" styleClass="cancelButton" reRender="DeletePopupNonMPSN" ></apex:commandButton>
                                                </apex:actionRegion>

                                            </div>  <hr style="border:0;"/>
                                        </div>   
                                    </div>
                                </div>     
                            </div>    
                        </div>

                    </apex:outputPanel>

                    <apex:outputPanel id="DeletePopup1"> 
                        <div class="modal fade" id ="showFailurePopuponsave1" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">      
                                    <div class="modal-header">
                                        <h4 class="modal-title" style="color: #FFFFFF;"> Failures and Campaigns - {!$Label.css_cummins_service_system}</h4>
                                    </div> 
                                    <div class="modal-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">  
                                                <div class="clearfix"></div>
                                                <div class="col-sm-12 col-xs-12">
                                                    <b> <font size="3px" weight="bold">Deletion of Failure / Campaign / ATC or Change of Account Code will 
                                                        result in deletion of data on Multi – PSN Details chevron. Do you wish to continue?</font> </b>
                                                </div>
                                            </div></form>

                                        
                                        <div class="col-sm-5 col-xs-4 cmi-tar"> 
                                            <apex:commandButton value="{!$Label.css_Yes}" action="{!deletePSNRecord}" styleClass="saveButton" reRender="DeletePopup1,FailuresOverviewAdd"/>
                                        </div>
                                        <center>
                                        <div >
                                            <apex:actionRegion >
                                                <apex:commandButton value="{!$Label.CSS_No}" action="{!closeDeletePopup}" html-data-dismiss="modal" styleClass="cancelButton" reRender="DeletePopup1,FailuresOverviewAdd" ></apex:commandButton>
                                            </apex:actionRegion>

                                        </div>  </center>
                                    </div>   
                                </div>
                            </div>
                        </div>     
                    </apex:outputPanel>
                    <!--RAJESH Start-->
                    <apex:outputPanel id="DeletePopup"> 
                        <div class="modal fade" id ="showFailurePopuponsave" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">      
                                    <div class="modal-header">
                                        <h4 class="modal-title" style="color: #FFFFFF;"> Failures and Campaigns - {!$Label.css_cummins_service_system}</h4>
                                    </div> 
                                    <div class="modal-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">  
                                                <div class="clearfix"></div>
                                                <div class="col-sm-12 col-xs-12">
                                                    <b> <font size="3px" weight="bold">Deletion of Failure / Campaign / ATC or Change of Account Code will 
                                                        result in deletion of data on Multi – PSN Details chevron. Do you wish to continue?</font> </b>
                                                </div>
                                            </div></form>

                                     
                                        <div class="col-sm-5 col-xs-4 cmi-tar">
                                            <apex:commandButton value="{!$Label.css_Yes}" action="{!deleteSolRecord}" styleClass="saveButton" reRender="DeletePopup"/>
                                        </div>
                                        <div class="col-sm-4 col-xs-4 cmi-tar">
                                            <apex:actionRegion >
                                                <apex:commandButton value="{!$Label.CSS_No}" action="{!closeDeletePopup}" html-data-dismiss="modal" styleClass="cancelButton" reRender="DeletePopup" ></apex:commandButton>
                                            </apex:actionRegion>
                                        </div> 
                                        <hr style="border:0;"/>
                                    </div>   
                                </div>
                            </div>
                        </div>     
                    </apex:outputPanel>
                    <!-- RAJESH End-->
                    <apex:outputPanel id="bottomButtons">
                        <div class="row" align="center">
                            <div class="col-sm-offset-3 col-sm-3 col-xs-12" style="margin-bottom: 10px;">
                                <apex:commandButton value="{!$Label.css_save_btn}" action="{!saveClaimFailOvervwData}" styleClass="saveButton" status="statusIdfo" reRender="failOverviewData,bottomButtons" />
                                <apex:actionStatus startText="requesting..." id="statusIdfo">
                                    <apex:facet name="start">Saving... <img src="/img/loading.gif" /></apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </div>
                            <div class="col-sm-3 col-xs-12" style="margin-bottom: 10px;">
                                <apex:commandButton value="{!$Label.css_Reset}" action="{!resetAllData}" styleClass="cancelButton" reRender="failOverviewData,bottomButtons" status="resetIdfo" />
                                <apex:actionStatus startText="requesting..." id="resetIdfo">
                                    <apex:facet name="start">Reseting... <img src="/img/loading.gif" /></apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </div>
                        </div>
                    </apex:outputPanel>
                </div>
            </div>
        </div>
    </fieldset>
    <script>
        // setParams("{!selectedFName}", "{!selectedSysCode}","{!selectedCompCode}");
    </script>
</apex:component>