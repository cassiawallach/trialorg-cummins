<template>
    <div class="slds-form-element" onmouseleave={onmouseoutHandler}>
        <div class="slds-form-element__control">
            <div class="slds-combobox_container slds-size_small w-auto">
                <div class={ldsDiv} aria-expanded="false" aria-haspopup="listbox" role="combobox">
                    <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
                        <button class="btn btn-secondary dropdown-toggle btn-clr" type="button" id="dropdownMenuButtons"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" onclick={ldsClickHandler}>

                            <img src={selectedflagIcon} width="20" height="20"><span
                                class={languageSelector}>{label.dbu_changeLocation_Title}</span>
                            <a data-scroll href="#full">
                                <div class="fillArrow"></div>
                            </a>
                        </button>
                    </div>
                    <div id="listbox-id-1" class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid dropDownCont"
                        role="listbox">
                        <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                            <li role="presentation" class="slds-listbox__item classUS selected">
                                <i class="icon-tick"></i>
                                <span class="slds-media__body" onclick={handleClickChangeLoaction} data-id="US">
                                    <img src={usflagIcon} data-id="USFlag" style="max-width:10%">&nbsp;&nbsp;{label.dbu_changeLocation_UnitedStates}
                                </span>

                            </li>
                            <li role="presentation" class="slds-listbox__item classCA-Eng">
                                <i class="icon-tick"></i>
                                <span class="slds-media__body" onclick={handleClickChangeLoaction} data-id="CA">
                                    <img src={caflagIcon} data-id="CAFlag" style="max-width:10%">&nbsp;&nbsp;{label.dbu_changeLocation_CanadaEng}
                                </span>

                            </li>
                            <li role="presentation" class="slds-listbox__item classCA-FR">
                                <i class="icon-tick"></i>
                                <span class="slds-media__body" onclick={handleClickChangeLoaction} data-id="CAF">
                                    <img src={caflagIcon} data-id="CAFFlag" style="max-width:10%">&nbsp;&nbsp;{label.dbu_changeLocation_CanadaFrench}
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div>
                    <template if:true={showStoreChangedPopup}>
                        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                            aria-describedby="modal-content-id-1"
                            class="slds-modal slds-fade-in-open alertPopUp ">
                            <div class="slds-modal__container">
                               
                                    <template if:true={showUSSelectedPopup}>
                                        <!-- <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"><h5>You are currently in the Canada store. Would you like to be redirected to the United States store?</h5></div> -->
                                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"><h5>{label.dbu_changeLocation_redirectToUS_msg}</h5></div>
                                        <footer class="slds-modal__footer text-center">
                                            <button class="slds-button slds-button_outline-brand" onclick={nothanksActionShowCanadaStore}>{label.dbu_changeLocation_noThanks}</button>
                                            <button class="slds-button slds-button_brand" onclick={goToUSHomePage}>{label.dbu_changeLocation_yesPlease}</button>
                                        </footer>
                                    </template>
                                    <template if:true={showCASelectedPopup}>
                                        <!-- <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2"><h5>You are currently in United States store. Would you like to be redirected to the Canada store?</h5></div> -->
                                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2"><h5>{label.dbu_changeLocation_redirectToCA_msg}</h5></div>
                                        <footer class="slds-modal__footer text-center">
                                            <button class="slds-button slds-button_outline-brand" onclick={nothanksActionShowUSStore}>{label.dbu_changeLocation_noThanks}</button>
                                            <button class="slds-button slds-button_brand" onclick={goToCanadaStore}>{label.dbu_changeLocation_yesPlease}</button>
                                        </footer>
                                    </template> 

                            </div>
                        </section>
                        <div class="slds-backdrop slds-backdrop_open"></div>
                    </template>
                </div>
            </div>
        </div>
    </div>
</template>