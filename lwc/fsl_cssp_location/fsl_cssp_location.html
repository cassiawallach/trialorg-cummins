<template>
    <div class="location slds-container_x-large slds-container_center">
        <div class="slds-grid slds-wrap">
            <div class="slds-col slds-size_1-of-1 slds-large-size_12-of-12 slds-col_padded locationCont">
                <!---- <div class="slds-grid slds-wrap detailSummary">

                    <h5>Selected Equipment</h5>
                    <template if:true={assetRecordInfo}>
                        <template for:each={assetRecordInfo} for:item='asst'>
                            <div key={asst.Id} class="orderDetails">
                                <ul>
                                    <li> <b>Unit #</b> <span>{asst.Unit_Number__c}</span></li>
                                    <li> <b>Make #</b> <span>{asst.Make__c}</span></li>
                                    <li> <b>Model #</b><span>{asst.Model__c}</span></li>
                                    <li> <b>Asset #</b><span>{asst.Name}</span></li>
                                </ul>
                            </div>

                        </template>
                    </template>
                </div>-->
                <div class="selectLoc">
                    <h4>{label.selectAServiceLocLabel}<span title="required" class="slds-required">* </span></h4>
                    <!--<lightning-helptext class="customIcon" content="Please enter the City name"></lightning-helptext>-->
                    <lightning-helptext class="customIcon" content={label.locationInfo}></lightning-helptext>
                </div>
                <!---- <div class="slds-grid slds-wrap selectFields">
                   <div class="slds-size_3-of-12">
                        <lightning-radio-group name="radioGroup" options={recentAddress} value={value} type="radio"
                            onchange={handleChange} class="floatBlock">
                        </lightning-radio-group>

                    </div>
                    <div class="slds-size_3-of-12">
                        <lightning-radio-group name="radioGroup" options={enterFieldLoc} value={value} type="radio"
                            onchange={handleChange} class="floatBlock">
                        </lightning-radio-group>

                    </div>
                    <div class="slds-size_3-of-12">
                        <lightning-radio-group name="radioGroup" options={searchcummLoc} value={value} type="radio"
                            onchange={handleChange} class="floatBlock">
                        </lightning-radio-group>
              <div class="floatBlock">
                   <h6>Select a Service Location</h6>
                  </div>

                    </div>
                </div>-->
                <!----  <template if:true={recentAdd}>



                    <div>
                        <template if:true={conData}>
                            <div class="slds-grid slds-wrap mapCont">

                                <div
                                    class="slds-col slds-size_1-of-1 slds-small-size_12-of-12 slds-medium-size_12-of-12 slds-large-size_4-of-12 prodImageBlock ">
                                    <div class="title">
                                        <h5>Your Address</h5>
                                        <a href="#">(Edit)</a>
                                    </div>

                                    <p>{Street}</p>
                                    <p>{City},{State}</p>
                                    <p> {Country},{PostalCode}</p>
                                </div>
                                <div
                                    class="slds-col slds-size_1-of-1 slds-small-size_12-of-12 slds-medium-size_12-of-12 slds-large-size_8-of-12 prodImageBlock mapData">
                                    <div class="title">
                                        <h5>Your recent locations</h5>
                                    </div>
                                    <lightning-map map-markers={conData} list-view="hidden" class="uands-map"
                                        zoom-level=17>
                                    </lightning-map>
                                    <div class="tableCont">
                                        <table
                                            class="slds-table slds-table_bordered slds-border_left slds-border_right mapTable">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <th class="" scope="col">
                                                        <p title="Name"></p>
                                                    </th>
                                                    <th class="" scope="col">
                                                        <p title="Name">Location</p>
                                                    </th>
                                                    <th class="" scope="col">
                                                        <p class="slds-truncate" title="Some Custom Column">
                                                            Hours Of Operation</p>
                                                    </th>
                                                    <th class="" scope="col">
                                                        <p class="slds-truncate" title="Some Custom Column">
                                                            Distance</p>
                                                    </th>
                                                    <th class="" scope="col">
                                                        <p class="slds-truncate" title="Some Custom Column">
                                                            Phone Number</p>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <template for:each={conData} for:item="acc">
                                                    <tr key={acc.id}>
                                                        <td>

                                                            <div>
                                                                <input type="radio" name="gsearchaddress" id={acc.Id}
                                                                    onclick={storeLocationSelected} data-accid={acc.Id}
                                                                    data-acccity={acc.location.City}
                                                                    data-accstreet={acc.location.Street}
                                                                    data-accstate={acc.location.State}
                                                                    data-acccountry={acc.location.Country}
                                                                    data-acczipcode={acc.location.PostalCode}
                                                                    data-phone={acc.phone} for={acc.Id} value="true" />






                                                            </div>
                                                        </td>
                                                        <td>

                                                            {acc.location.City},{acc.location.Street},
                                                            {acc.location.State},
                                                            {acc.location.PostalCode},{acc.location.Country}

                                                        </td>
                                                        <td>

                                                        </td>
                                                        <td>

                                                        </td>

                                                        <td>
                                                            <label> {acc.phone}</label>

                                                        </td>

                                                    </tr>
                                                </template>
                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                            </div>
                        </template>

                    </div>

                    <div class="slds-grid slds-wrap">

                        <div class="slds-m-top_small slds-m-bottom_medium mapBtn">
                            <lightning-button label="Cancel" variant="brand-outline" onclick={docancel}>
                            </lightning-button>&nbsp;&nbsp;&nbsp;
                            <lightning-button label="Save as Draft" variant="brand-outline" onclick={docancel}>
                            </lightning-button>&nbsp;&nbsp;&nbsp;
                            <lightning-button label="Proceed" variant="brand" onclick={updateServiceReq}>
                            </lightning-button>
                        </div>
                    </div>

                </template>-->
                <!---- <template if:true={enterFielddata}>

                    <div class="mapSearch">
                        <form class="searchForm">






                                <lightning-input type="search" class="searchField f-medium dWindow"  placeholder={SearchPlaceHoldertxt} 

                                onchange={handleFieldsearch}>
                               </lightning-input>
                               <span class="searchIcon icon-search"  >
                                   </span>



                        </form>
                    </div>
                    <div class="Address-listbox" role="listbox">

                            <template if:true={fieldSerachData}>
                                <ul class="slds-listbox slds-listbox_vertical  slds-dropdown_fluid locationDrpdwn"
                                role="presentation"  key={acc} >
                                <template for:each={fieldSerachData} for:item="acc">

                                    <li key={acc} role="presentation" data-id={acc.place_id} onclick={onItemSelected}
                                        class="slds-listbox__item">

                                        <div class="slds-m-left_medium slds-col slds-size_8-of-10">
                                            <span
                                                class="slds-listbox__option-text slds-listbox__option-text_entity"><b>{acc.main_text}</b></span>
                                            <span
                                                class="slds-listbox__option-text slds-listbox__option-text_entity slds-m-top_xxx-small">{acc.secondary_text}</span>
                                        </div>
                                        <div class="slds-col slds-size_1-of-10"></div>
                                    </li>

                                </template>
                            </ul>
                            </template>





                    </div>
                    <div>
                        <template if:true={mapMarkers}>

                            <lightning-map map-markers={mapMarkers} list-view="hidden" class="uands-map" zoom-level=20>
                            </lightning-map>

                        </template>
                        <template if:false={mapMarkers}>
                            <lightning-map map-markers={mapMarkers} list-view="hidden" class="uands-map" zoom-level=2>
                            </lightning-map>
                        </template>

                    </div>
                    <div class="slds-grid slds-wrap">
                        <div class="slds-m-top_small slds-m-bottom_medium mapBtn">
                            <lightning-button label="Cancel" variant="brand-outline" onclick={docancel}>
                            </lightning-button>&nbsp;&nbsp;&nbsp;
                            <lightning-button label="Save as Draft" variant="brand-outline" onclick={docancel}>
                            </lightning-button>&nbsp;&nbsp;&nbsp;
                            <lightning-button label="Proceed" variant="brand" onclick={updateFieldServiceReq}>
                            </lightning-button>
                        </div>
                    </div>
                </template>-->
                <!--<template if:false={fieldSerachData}>
                    <lightning-map map-markers={mapMarkers} list-view="hidden" class="uands-map" zoom-level=2>
                    </lightning-map>
                </template>-->
                <!--template if:true={searchCumminsLoc}>-->

                <div class="mapSearch">
                    <form class="searchForm">
                        <!-- <input type="text" onchange={handlechange}> value={userinput}-->

                        <lightning-input type="search"  class="searchField f-medium dWindow"
                            onchange={handlechange}>
                        </lightning-input>
                        <lightning-button variant="brand" label={label.searchLabel} title="Primary action" onclick={handleclik}
                            class="slds-m-left_x-small"></lightning-button>

                        <!-- <lightning-button name="Search" variant="brnd" onclick={handleclik}></lightning-button> -->
                    </form>
                </div>
                <div>
                    <template if:true={storeLocationsToDisplay}>
                        <lightning-map map-markers={storeLocationsToDisplay} list-view="hidden" zoom-level="2">
                        </lightning-map>
                    </template>
                    <!---- <template if:false={storeLocationsToDisplay}>
                            <lightning-map map-markers={storeLocationsToDisplay} list-view="hidden" zoom-level="2">
                            </lightning-map>
                        </template>-->
                </div>
                <template if:true={visible}>
        <div class="slds-container_small">
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <h2 data-id="title" class="slds-text-heading_medium slds-hyphenate">{titlemessage}</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                        <p data-id="message">{messagevalue}</p>
                    </div>
                    <footer class="slds-modal__footer">
                        <lightning-button variant="neutral"
                                          name="cancel"
                                          label={label.noLabel}
                                          title="CancelTitle"
                                          onclick={CanceClick} ></lightning-button>  &nbsp;
                        <lightning-button variant="brand"
                                          name="confirm"
                                          label={label.yesLabel}
                                          title="confirmTitle"
                                          onclick={ConfirmClick} ></lightning-button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </div>
    </template>

                <div class="tableCont">
                    <table class="slds-table slds-table_bordered slds-border_left slds-border_right mapTable">
                        <thead>
                            <tr class="slds-line-height_reset">
                                <th class="" scope="col">
                                    <p title="Name"></p>
                                </th>
                                <th class="" scope="col">
                                   <!--- <p title="Name">Location</p>-->
                                    <p title="Name">{label.locationLabel}</p>
                                </th>
                                <!---  <th class="" scope="col">
                                        <p class="slds-truncate" title="Some Custom Column">
                                            Hours Of Operation</p>
                                    </th>-->
                                <th class="" scope="col">
                                    <p class="slds-truncate" title="Some Custom Column">
                                        {label.distanceLabel}</p>
                                </th>
                                <th class="" scope="col">
                                    <p class="slds-truncate" title="Some Custom Column">
                                        {label.phoneNumberLabel}</p>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <template for:each={storeLocationsToDisplay} for:item="acc">
                                <tr key={acc.id}>
                                    <td>

                                        <div>
                                            <input type="radio" name="gsearchaddress" id={acc.Id}
                                                onclick={storeLocationSelected} data-accid={acc.id}
                                                data-accdesc={acc.description} data-acccity={acc.location.City}
                                                data-accstreet={acc.location.Street} data-accstate={acc.location.State}
                                                data-acccountry={acc.location.Country} data-accid1={acc.Id}
                                                data-acczipcode={acc.location.PostalCode} data-phone={acc.Phone}
                                                for={acc.Id} value="true"  checked={acc.isLocationMatched}/>


                                            <!-- <label onclick={storeLocationSelected} data-accid={acc.Id}
                                    data-accdesc={acc.description}
                                    data-acccity={acc.location.City}
                                    data-accstreet={acc.location.Street}
                                    data-accstate={acc.location.State}
                                    data-acccountry={acc.location.Country}
                                    data-acczipcode={acc.location.PostalCode}
                                    data-phone={acc.Phone}
                                    for={acc.Id}></label> -->




                                        </div>
                                    </td>
                                    <td>
                                        <!--- <lightning-input type="radio"  data-id={acc.Id}
                                label="" title="Primary action with lighter look"
                                onclick={storeLocationSelected} class="slds-m-left_x-small">
                            </lightning-input>-->

                                        <label> {acc.description} </label>
                                        {acc.location.City},{acc.location.Street}, {acc.location.State},
                                        {acc.location.PostalCode},{acc.location.Country}

                                    </td>
                                    <!---- <td>
                                            {acc.businessDay}
                                            {acc.businessHrs}
                                        </td>-->
                                    <td>
                                        <div if:true={acc.distance}>
                                            {acc.distance}&nbsp;miles
                                        </div>
                                    </td>

                                    <td>
                                        <label> {acc.phone}</label>
                                        <label> {acc.Phone}</label>


                                    </td>

                                </tr>
                            </template>
                        </tbody>
                    </table>

                </div>

                <template if:true={errorMessage}>
                   <h6> <p style="color:red">Please select the Location and click on proceed button</p></h6>
                </template>
                <div class="slds-grid slds-wrap">

                    <div class="slds-m-top_small slds-m-bottom_medium mapBtn">
                        <lightning-button label={label.cancelLabel} variant="brand-outline" onclick={docancel}>
                        </lightning-button>&nbsp;&nbsp;&nbsp;
                        <!--- <lightning-button label="Save as Draft" variant="brand-outline" onclick={docancel}>
                            </lightning-button>&nbsp;&nbsp;&nbsp;-->
                        <lightning-button label={label.proceedLabel} variant="brand" onclick={updateServiceReq}>
                        </lightning-button>
                    </div>
                </div>


                <!---- </template>-->
            </div>
        </div>
    </div>
</template>