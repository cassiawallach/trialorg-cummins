<apex:page id="reppages" Controller="CSS_JobPlanOverviewControllerNew" docType="html-5.0" showHeader="false" standardStylesheets="false" action="{!jobPlanAction}">
    <apex:variable var="compoId" value=""/>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="Cummins Inc." />
    <meta name="copyright" content="(C)2015 Cummins Inc., Box 3005, Columbus, IN 47202-3005 U.S.A." />
    <title>{!$Label.css_Cummins_Service_System} | {!$Label.css_Job_Plan}</title>
    <!--  <c:css_styles /> -->

    <c:CSS_Standard_IntakeStyles />
    <c:css_ExtraStyles />
    <apex:includeScript value="{!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/js/jquery-1.11.2.min.js')}" />
    <apex:includeScript value="{!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/js/jquery.dataTables.min.js')}" />
    <apex:stylesheet value="{!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/css/component_specific/jquery.dataTables.css')}" />
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.1.1.min.js"></script>

    <script>
        function valFailurePoint(e){
            if((e.which > 47 && e.which <=57) || (e.which > 95 && e.which <=105) || (e.which >=33 && e.which <=40) || e.which == 8 || e.which == 9 || e.which==144 || e.which==12 || e.which==45 || e.which==46)
            {

            }
            else {
                return false;
            }
        }

        //Adding JS method By Krishna on GSSC-248
        function qtyPressfc1(e,compId){
            if(e.which != 9) {
                //DO NOTHING.
            } else {
                return false;

            }
        }
        //Adding JS method By Krishna on GSSC-248

    </script>
    <script language="javascript">
        $(function() {
            $( "#datepicker" ).datepicker();
        });
    </script>
    <!--Adding JS method as part of  GSSC-385-9-->
    <script>
        function showDeleteRootCauseConfirmPopup(event){
            console.log('event.value>>' + event.value);
            //alert(event.id);
            if(!event.checked){
                document.getElementById("deleteSaverootcausecheckid").value = event.id;
                $('#DeletePopupNew').modal(
                    {backdrop: 'static',
                     keyboard: false,
                     show:true
                    }); 
            }

        }

        function checkDeleteRootCausefrompop(){
           var id =document.getElementById("deleteSaverootcausecheckid").value;
           document.getElementById(id).checked = true;
        }

    </script>
    <script>


        function AssthiddenFDDval(e) {
            document.getElementById("reppages:jobplanfrm:FailDateHide1").value = e;

        }
        function assthiddenFDval(e) {
            document.getElementById("reppages:jobplanfrm:FailureDt").value = e;
        }



    </script>

    <script>
        function showAccModalPopup(){
            $('#modalAccCodelkupPopUp').modal(
                {backdrop: 'static',
                 keyboard: false,
                 show:true
                });
            rerenderModalPopup();


        }

        function showLoadingPopUp(){
            $('#loadingModal').modal(
                {backdrop: 'static',
                 keyboard: false,
                 show:true
                });
        }

        function HideLoadingPopUp(){
            $('#loadingModal').modal('hide');
        }

    </script>

    <script>
        function callTND() {
            window.open("/apex/CSS_JobTnDJo?id={!workJob.Id}", '_self');
        }

        function callRepair() {
            window.open("/apex/CSS_JobRepair?id={!workjob.Id}&nto=DET", '_self');
        }

        function callJobInvoice() {
            window.open( "/apex/CSS_JobInvoice?id={!workjob.Id}", '_self');
        }

        $(document).ready(function(){
            $("#ErrMsg").hide();
            //  alert();

            document.getElementById("{!$Component.ErrMsgVal}").visibility = "hidden";
            document.getElementById("{!$Component.sysCode}").disabled = true;
            document.getElementById("{!$Component.compCode}").disabled = true;
            document.getElementById("{!$Component.CFname}").disabled = true;

        });
    </script>

    <style>
        .table>thead>tr>th {
            vertical-align: top;
        }

        .jobplanSymoverviewTable td {
            border-left: 0px !important;
        }
    </style>

    <style>
        /* kalpana*/
        .cmi_asterisk1{
            color: #D02323 ;
        }
        .showRedBorder{
            border: 2px solid red !important;
        }

        .ui-autocomplete-input {
            border: none;
            font-size: 14px;
            width: 172px;
            height: 24px;
            margin-bottom: 5px;
            padding-top: 2px;
            border: 1px solid #DDD;
            border-left:2px solid #999;
            padding-top: 0px !important;
            z-index: 1511;
            position: relative;
        }

        .ui-autocomplete {
            max-height: 200px;
            overflow-y: auto;
            overflow-x: hidden;
            position: fixed;
            top: 100%;
            left: 0;
            z-index: 1051 !important;
            float: left;
            display: none;
            min-width: 160px;
            width: 160px;

        }

        .cmi_asterisk1{
            color: #D02323 ;
        }

        a.cancelButton:hover {
            color:#fff !important;
        }
        .cmi_narrativetextarea {
            border: 1px solid #d3d3d3;
            overflow-x: hidden;
            overflow-y: scroll;
            height: 100px;
        }

        .error {
            display: none;
            margin-left: 10px;
        }

        .error_show {
            color: red;
            margin-left: 10px;
        }

        input.invalid,
        textarea.invalid {
            border: 2px solid red;
        }

        input.valid,
        textarea.valid {
            border: 2px solid green;
        }
    </style>
    <style>
        .no-sort::after {
            display: none!important;
        }

        .no-sort {
            pointer-events: none!important;
            cursor: default!important;
        }

        @media (max-width:419px) {
            .helpmodal {
                display: inline-block;
            }
            .cmi-css_field_set {
                margin-left: -20px !important;
            }
            #failureDate .helpmodal {
                display: block;
                margin-top: -15px;
                margin-left: 154px;
                border-bottom: none !important;
            }
            .job-col {
                text-align: left;
                margin-top: 5px;
            }
            .ueformselect {
                width: 70% !important;
            }
        }

        table.dataTable thead .sorting {
            background: url({!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/img/sort_both.png')
        }

        ) no-repeat center right;
        }

        table.dataTable thead .sorting_asc {
            background: url({!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/img/sort_asc.png')
        }

        ) no-repeat center right;
        }

        table.dataTable thead .sorting_desc {
            background: url({!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/img/sort_desc.png')
        }

        ) no-repeat center right;
        }

        table.dataTable thead .sorting_asc_disabled {
            background: url({!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/img/sort_asc_disabled.png')
        }

        ) no-repeat center right;
        }

        table.dataTable thead .sorting_desc_disabled {
            background: url({!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/img/sort_desc_disabled.png')
        }

        ) no-repeat center right;
        }

        .asterisk {
            color: #D02323;
            font-size: 14px;
            width: 5px;
            line-height: 13px;
            vertical-align: top;
            float: right;
            /* margin-left: -5px;
            top: -18px;*/
            position: relative;
            left: 17px;
        }

        .asterisk1 {
            color: #D02323;
            font-size: 14px;
            *top: 0px;

        }

        .cmi_customerpopup thead {
            background: #e2e2e2;
        }

        .cmi_customerpopup>tbody>tr>td {
            border-top: 0px solid #ffffff;
        }

        .cmi_customerpopup tr:nth-of-type(even) {
            background: #ffffff;
        }

        .cmi_customerpopup td {
            border-left: 0px solid #FFF;
            font-size: 12px;
            padding: 5px 10px 5px 10px;
            font-family: "Helvetica Neue 55", Arial, sans-serif;
            text-align: center;
        }

        .cmi_customerpopup th,
        .cmi_customerpopup td {
            text-align: center;
        }

        .cmi_cu-popupwidth {
            width: 1100px;
        }

        @media (min-width: 749px) and (max-width:1110px) {

            .cmi_cu-popupwidth {
                width: 800px;
            }

            .cmi_customerpopup td {
                font-size: 8px;
            }
        }

        @media (min-width: 610px) and (max-width:748px) {
            .cmi_cu-popupwidth {
                width: 600px;
            }
        }

        @media (min-width: 509px) and (max-width:609px) {
            .cmi_cu-popupwidth {
                width: 500px;
            }
        }

        @media (min-width: 409px) and (max-width:508px) {
            .cmi_cu-popupwidth {
                width: 400px;
            }
        }

        @media (min-width: 310px) and (max-width:408px) {
            .cmi_cu-popupwidth {
                width: 300px;
            }
        }

        @media (max-width: 750px) {
            table.cmi_customerpopup {
                display: none;
            }
        }

        @media (min-width: 300px) and (max-width:749px) {

            .cmi_customerpopup td:nth-of-type(even) {
                background: #ffffff;
            }

            .cmi_customerpopup td {
                border-left: 0px solid #FFF;
                font-size: 12px;
                padding: 5px 10px 5px 10px;
                font-family: "Helvetica Neue 55", Arial, sans-serif;
                text-align: center;
            }
        }

        @media (min-width: 300px) and (max-width:749px) {
            .cmi_customerPopupMobile {
                display: inline-block;
                font-family: 'Helvetica Neue 55', Arial, sans-serif;
                color: #000000;
                font-size: 13px;
                border-bottom: 2px solid #666666;
                margin-bottom: 20px;
                line-height: 1.4;
            }
            .cmi_customerPopupMobile td {
                display: block;
                font-family: 'Helvetica Neue 55', Arial, sans-serif;
                color: #000000;
                font-size: 13px;
                margin: 0;
                border: 0px solid #ffffff !important;
            }

            .cmi_customerPopupMobile th {
                background: #ffffff;
                font-family: 'Helvetica Neue 55', Arial, sans-serif;
                color: #000000;
                font-weight: bold;
                text-align: left;
                /* border-bottom: 1px solid white; */
                width: 20%;
                padding-left: 8px;
            }

            td:nth-of-type(even) {
                background: #ffffff;
            }

        }

        #hidedefaultview1,
        #hidedefaultview2,
        #hidedefaultview3,
        #hidedefaultview4,
        #hidedefaultview4inputfield,
        #hideLinkId4,
        #hidedefaultview1-mobile,
        #hidedefaultview2-mobile,
        #hidedefaultview3-mobile,
        #hidedefaultview4-mobile,
        #hideComplaintType4-mobile {
            display: none;
        }

        @media(max-width: 749px) {
            .cmi_deleterow {
                display: none;
            }
        }

        @media(min-width: 750px) {
            .cmi_deleterowmobile {
                display: none;
            }
        }

        .cmi_add-icon {
            background: url({!URLFOR($Resource.CSS_Standard_UI, '/Cummins_New1_UI/Cummins_New1_UI/assets/img/CMI-WebIcon-Sprite.png')
        }

        ) no-repeat -100px -320px rgba(0,
        0,
        0,
        0);
        display: inline-block;
        height: 20px;
        margin: 0px 0px 0px 0px;
        position: relative;
        width: 22px;

        }
    </style>
    <style type="text/css">
        /* warranty table styles */

        .cmi_warranty-table th,
        .cmi_warranty-table td,
        .cmi_warranty-certificatetable th,
        .cmi_warranty-certificatetable td {
            border: 1px solid #8c8c8c;
            padding: 5px;
        }

        .cmi_warranty-table td {
            text-align: center;
        }

        .cmi_warrantytable-mobile td {

            border-left: 1px solid #FFF;
            font-size: 12px;
            padding: 5px 10px 12px 10px;
            font-family: "Helvetica Neue 55", Arial, sans-serif;
            text-align: center;
            border: 1px solid #8c8c8c;
            padding: 5px;

        }

        .cmi_warrantytable-mobile th {
            width: 50%;
            background-color: #cccccc;
            border: 1px solid #8c8c8c;
            padding: 5px;
            text-align: center;
        }

        .cmi_warrantytable-mobile tbody tr:first-child,
        tr.cmi_warrantysecondrow-mobile {
            border: 2px solid #000000;
        }

        .cmi_warrantytable-text {
            font-size: 14px;
            font-weight: bold;
        }

        .cmi_warranty-header {
            font-weight: bold;
            border: 2px solid #000000;
        }

        .cmi_warranty-header p {
            text-align: center;
            margin-bottom: 0px;
            font-size: 14px;
            "

        }

        .cmi_warranty-certificatetable th {
            background: #e2e2e2;

        }

        .cmi_warranty-certificatetable tr:nth-of-type(odd) {
            background: #ffffff;
        }

        .cmi_warranty-certificatetable tr:nth-of-type(even) {
            background: #e2e2e2;
        }

        .cmi_warranty-table tr:nth-of-type(even) {
            background: #ffffff;
        }

        .cmi_warranty-table tr:nth-of-type(odd) {
            background: #e2e2e2;
        }

        /* warranty table styles end */

        .CMI-edit-icon {

            background: url(assets/img/CMI-WebIcon-Sprite.png) no-repeat scroll -100px -950px rgba(0, 0, 0, 0);
            display: inline-block;
            height: 20px;
            width: 22px;
            margin: 1px 0px 0px 10px;
            position: relative;
        }



        /*              buttons             */

        .CMI-primary-button {
            height: 30px;
            border-radius: 5px;
            display: inline-block;
            padding: 0 10px;
            color: #ffffff;
            line-height: 30px;
            text-align: center;
            margin-left: 0 auto;
            border: 0px solid #007c7c;

            /* Fallback (could use .jpg/.png alternatively) */
            background-color: red;

            /* SVG fallback for IE 9 (could be data URI, or could use filter) */
            background-image: url(fallback-gradient.svg);

            /* Safari 4, Chrome 1-9, iOS 3.2-4.3, Android 2.1-3.0 */
            background-image: -webkit-gradient(linear, left top, right top, from(#003635), to(#006666));

            /* Safari 5.1, iOS 5.0-6.1, Chrome 10-25, Android 4.0-4.3 */
            background-image: -webkit-linear-gradient(top, #003635, #006666);

            /* Firefox 3.6 - 15 */
            background-image: -moz-linear-gradient(top, #003635, #006666);

            /* Opera 11.1 - 12 */
            background-image: -o-linear-gradient(top, #003635, #006666);

            /* Opera 15+, Chrome 25+, IE 10+, Firefox 16+, Safari 6.1+, iOS 7+, Android 4.4+ */
            background-image: linear-gradient(to top, #003635, #006666);
        }

        .CMI-primary-button:hover {
            background: #007c7c;
            cursor: pointer !important;

        }

        .CMI-primary-button:active {
            background: #006666;

        }

        #chkCoverageBtnEnabled {
            display:none;
        }

        #chkCoverageBtnDisabled{
            display :inline;
        }
    </style>

    <apex:outputPanel id="javascript">

        <script type="text/javascript" >
            //alert('insidejs');

            function enableChkCoverageBtn(){
                //alert(document.getElementById('chkCoverageBtnDisabled').innerHTML)
                document.getElementById('chkCoverageBtnEnabled').style.display = 'inline';
                document.getElementById('chkCoverageBtnDisabled').style.display = 'none';



            }
            /* function DisablesendFtoEButton(){
alert('disabled');
//failuretoerpid.disabled=true;
//document.getElementById('sendBtnId').disabled=true;
document.getElementById('sendBtnId').setAttribute('disabled', 'disabled');

alert('after disabled');
}
function EnablesendFtoEButton(){
alert('enable');
//failuretoerpid.disabled=false;
//document.getElementById('sendBtnId').enabled=true;
document.getElementById('sendBtnId').removeAttribute('disabled');
alert('after enable');
}*/


            //function to get the syscode and compcode based on failure Code Selected
            function getValues(val){

                document.getElementById("reppages:jobplanfrm:sysCode").value = '';
                document.getElementById("reppages:jobplanfrm:compCode").value = '';
                var lowercase = val.toLowerCase();
                if(val!=null && val!='' && (lowercase != 'unlisted')){

                    document.getElementById("reppages:jobplanfrm:sysCode").disabled = true;
                    document.getElementById("reppages:jobplanfrm:compCode").disabled = true;

                    //alert('getCodes'+ val);
                    getCodes(val); //Kalpana

                }

                if(val!=null && val!='' && (lowercase == 'unlisted')){

                    document.getElementById("reppages:jobplanfrm:compCode").disabled = true;



                    getCodes(val);


                }

            }
            function getFC(val){
                if(val!=null && val!=''){
                    getFaultcode(val);
                }
            }
            function getFM(val){
                if(val!=null && val!=''){
                    getFailmode(val);
                }
            }
            function getSC(val){
                if(val!=null && val!=''){
                    getSystemcode(val);
                }
            }
            function getCC(val){
                if(val!=null && val!=''){
                    getComponentCode(val);
                }
            }

            //SN - Function to enable Component Field once Syscode is selected
            function enableComponentField(){
                document.getElementById("reppages:jobplanfrm:compCode").disabled = false;
                // loadJavscriptAgain();


            }
            function getCustValues(val){
                // alert('getCustValues>>'+val);
                document.getElementById("reppages:jobplanfrm:sysCode").value = '';
                document.getElementById("reppages:jobplanfrm:compCode").value = '';
                if(val!=null && val!=''){
                    document.getElementById("reppages:jobplanfrm:sysCode").disabled = true;
                    document.getElementById("reppages:jobplanfrm:compCode").disabled = true;
                    getCustCodes(val);
                }
            }

            function hideerror(fname) {
                if(fname!=null && fname!=''){
                    var lowercase = fname.toLowerCase();
                    var x = document.getElementById("ErrMsg");
                    if(fname!=null && fname!='' && lowercase == 'unlisted'){
                        $("#ErrMsg").show();
                        document.getElementById("{!$Component.sysCode}").disabled = false;
                        document.getElementById("{!$Component.compCode}").disabled = false;
                        document.getElementById("{!$Component.CFname}").disabled = false;

                    } else {
                        $("#ErrMsg").hide();
                        document.getElementById("{!$Component.ErrMsgVal}").visibility = "hidden";
                    }
                }
                else{
                    $("#ErrMsg").hide();
                    document.getElementById("{!$Component.ErrMsgVal}").visibility = "hidden";
                    document.getElementById("{!$Component.sysCode}").disabled = true;
                    document.getElementById("{!$Component.compCode}").disabled = true;
                    document.getElementById("{!$Component.CFname}").disabled = true;
                }
            }

            //function to set the system code and compcode field non-editable
            function afterCompleteFunction(){
                // alert('Onblur');
                var fname= document.getElementById("reppages:jobplanfrm:Fname").value;
                console.log('fname**'+fname);
                var lowercase = fname.toLowerCase();
                if(fname!=null && fname!='' && lowercase != 'unlisted'){
                    $("#ErrMsg").hide();
                    // alert('enteredintofailvalue');
                    document.getElementById("reppages:jobplanfrm:sysCode").disabled = true;
                    document.getElementById("reppages:jobplanfrm:compCode").disabled = true;
                    document.getElementById("reppages:jobplanfrm:CFname").disabled = true;
                    enableChkCoverageBtn();
                }
                if(fname!=null && fname!='' && lowercase == 'unlisted'){
                    //alert('enteredintounl');
                    // hideerror(fname);

                    $("#ErrMsg").show();
                    var sysname = document.getElementById("reppages:jobplanfrm:sysCode").value;
                    //var CFNerror = document.getElementById("{!$Component.InvalidFNError}").value;
                    document.getElementById("reppages:jobplanfrm:CFname").disabled = false;
                    if(sysname==null || sysname==''){

                        document.getElementById("reppages:jobplanfrm:compCode").value='';
                        document.getElementById("reppages:jobplanfrm:compCode").disabled = true;
                        document.getElementById("reppages:jobplanfrm:CFname").disabled = false;

                    }
                    else{

                        /*if(CFNerror != null && CFNerror != '')
document.getElementById("{!$Component.CFname}").disabled = false;
else*/
                        document.getElementById("reppages:jobplanfrm:CFname").disabled = true;
                    }
                    //document.getElementById("{!$Component.enableBtn}").disabled = false;
                    /* document.getElementById("{!$Component.disableBtn}").disabled = true;*/
                    enableChkCoverageBtn();
                }
                if(fname==null || fname==''){
                    // alert('test');
                    $("#ErrMsg").hide();
                    document.getElementById("reppages:jobplanfrm:CFname").disabled = true;
                    document.getElementById("reppages:jobplanfrm:sysCode").value = '';
                    document.getElementById("reppages:jobplanfrm:compCode").value = '';
                    document.getElementById("reppages:jobplanfrm:sysCode").disabled = true;
                    document.getElementById("reppages:jobplanfrm:compCode").disabled = true;
                    document.getElementById('chkCoverageBtnEnabled').style.display = 'none';
                    document.getElementById('chkCoverageBtnDisabled').style.display = 'inline';

                    //  chkCoverage();

                }
                /*Commented below as part of design change*/
                // getFailures();
                //loadJavscriptAgain();
                /*end*/
                // CompareDatesfun(value1,value2);

            }

            function afterCustFailureCompleteFn(){
                // alert('test'+document.getElementById("reppages:jobplanfrm:CFname").value);
                var Cfname= document.getElementById("reppages:jobplanfrm:CFname").value;
                if(Cfname==null || Cfname==''){
                    //alert('test11');
                    //alert('1'+document.getElementById("{reppages:jobplanfrm:sysCode"));
                    document.getElementById("reppages:jobplanfrm:sysCode").value = '';
                    //alert('2'+document.getElementById("{reppages:jobplanfrm:sysCode"));
                    // if(document.getElementById("reppages:jobplanfrm:sysCode") != null)
                    document.getElementById("reppages:jobplanfrm:sysCode").disabled = false;
                    //alert('3'+document.getElementById("{reppages:jobplanfrm:sysCode"));
                    document.getElementById("reppages:jobplanfrm:compCode").value = '';

                }
                if(Cfname!=null && Cfname!=''){
                    document.getElementById("reppages:jobplanfrm:sysCode").disabled =true ;
                    document.getElementById("reppages:jobplanfrm:compCode").disabled =true ;

                }
                /*var HCfname= document.getElementById("{!$Component.HCFname}").value;
if(HCfname==null || HCfname==''){
document.getElementById("{!$Component.sysCode}").value = '';
document.getElementById("{!$Component.compCode}").value = '';
document.getElementById("{!$Component.sysCode}").disabled =false ;

}
if(HCfname!=null && HCfname!='' && Cfname!=HCfname ){
document.getElementById("{!$Component.sysCode}").value = '';
document.getElementById("{!$Component.compCode}").value = '';
document.getElementById("{!$Component.sysCode}").disabled =false ;

}*/
                //getFailures();//Commented as part of design change


            }


            //function to check the failure name value and based on that set the inputfield disabled
            function checkFName(){
                var fname= document.getElementById("reppages:jobplanfrm:Fname").value;

                var lowercase = fname.toLowerCase();
                if(fname!=null && fname!='' && lowercase != 'unlisted'){
                    //alert(fname);
                    $("#ErrMsg").hide();
                    document.getElementById("reppages:jobplanfrm:sysCode").disabled = true;
                    document.getElementById("reppages:jobplanfrm:compCode").disabled = true;
                    document.getElementById("reppages:jobplanfrm:CFname").disabled = true;
                    enableChkCoverageBtn();
                }
                // loadJavscriptAgain();

            }



            //function to load the javascript after rerender for Jquery Autocomplete functionality
            /*     function loadJavscriptAgain(){

var apexFNList = [];

<apex:repeat value="{!Failurenames}" var="name">
apexFNList.push('{!name}');
            </apex:repeat>


$( ".apexFNautocomplete" ).autocomplete({
source: apexFNList,
select: function( event, ui ) {

getValues(ui.item.value);


}

});

var apexSCList = [];
console.log('ggg'+'{!SystemCodes}');
<apex:repeat value="{!SystemCodes}" var="name">
apexSCList.push('{!name}');
            </apex:repeat>


$( ".apexSCautocomplete" ).autocomplete({
source: apexSCList,

select: function( event, ui ) {
getSC(ui.item.value);
enableComponentField();

}

});

var apexCCList = [];
console.log('kkk'+'{!ComponentCodes}');
<apex:repeat value="{!ComponentCodes}" var="name">
apexCCList.push('{!name}');
            </apex:repeat>


$( ".apexCCautocomplete" ).autocomplete({
source: apexCCList,
select: function( event, ui ) {

getCC(ui.item.value);

}
});

var apexFMList = [];
<apex:repeat value="{!FailModes}" var="FMList">
apexFMList.push('{!FMList}');
            </apex:repeat>

$( ".xyz" ).autocomplete({
source: apexFMList,
select: function( event, ui ) {

getFM(ui.item.value);

}
});

var apexFCList = [];
<apex:repeat value="{!FaultCodes}" var="FCList">
apexFCList.push('{!FCList}');
            </apex:repeat>

$( ".FaultCode" ).autocomplete({
source: apexFCList,
select: function( event, ui ) {

getFC(ui.item.value);

}
});


var apexCFList = [];
console.log('aaa'+'{!GsqcustFailurenameslist}');
<apex:repeat value="{!GsqcustFailurenameslist}" var="CFList">
apexCFList.push('{!CFList}');
            </apex:repeat>


$( ".apexCFNautocomplete" ).autocomplete({
source: apexCFList,
select: function( event, ui ) {
getCustValues(ui.item.value);

}
});

checkFName();

}*/



            //function to load on Pageload
            //Commented as part of design changes
            /*     $(document).ready(function(){
getFailures();
loadJavscriptAgain();


});*/

            /*function CompareDates(value1){
alert('kal');
alert(value1);
//alert(value2);
//var wardate = document.getElementById("reppages:jobplanfrm:warrantyDate").value;
//alert(wardate);
CompareDatesfun(value1);
}*/

            /*   function assignWSDtoActual(e){
alert(e.value);
alert('kal');
document.getElementById('{!$Component.warrStDt}').value = e.value;
enableCheckCoverage();
}*/
            function CompareDates(value1,value2){
                // alert('kal');
                //alert(value1);
                // alert(value2);

                var wardate = document.getElementById("reppages:jobplanfrm:warrantyDate").value;
                // alert(wardate);
                CompareDatesfun(value1,wardate);
            }


            function checkPrtsWarrStDate(value1){
                PartsWarrDate(value1);
            }

            function assignWSDtoActual(e){
                //   alert(e);
                //  alert('kal');
                document.getElementById("reppages:jobplanfrm:warrantyDate").value = e;

            }


        </script>
        <script>
            function preDefinedFailSmartSearch(){

                var apexFNList = [];
                console.log('failureNameList'+'{!failureNameList}');
                <apex:repeat value="{!failureNameList}" var="name">
                    apexFNList.push('{!name}');
            </apex:repeat>


            $( ".apexFNautocomplete" ).autocomplete({
                source: apexFNList,
                select: function( event, ui ) {
                    console.log('Select event is getting called in pre-defined failure');

                }
            });

                var apexFMList = [];
                <apex:repeat value="{!FailModes}" var="FMList">
                    apexFMList.push('{!FMList}');
            </apex:repeat>

            $( ".xyz" ).autocomplete({
                source: apexFMList,
                select: function( event, ui ) {

                    getFM(ui.item.value);

                }
            });

                var apexFCList = [];
                <apex:repeat value="{!FaultCodes}" var="FCList">
                    apexFCList.push('{!FCList}');
            </apex:repeat>

            $( ".FaultCode" ).autocomplete({
                source: apexFCList,
                select: function( event, ui ) {

                    getFC(ui.item.value);

                }
            });


                checkFName();

            }

        </script>


    </apex:outputPanel>

    <apex:outputpanel id="cusfailJavaScript">
        <script>
            var apexCFList = [];
            console.log('aaa'+'{!custFailureNameList}');
            <apex:repeat value="{!custFailureNameList}" var="CFList">
                apexCFList.push('{!CFList}');
            </apex:repeat>


            $( ".apexCFNautocomplete" ).autocomplete({
                source: apexCFList,
                select: function( event, ui ) {
                    //  getCustValues(ui.item.value);
                    //alert('karthikG'+getCustValues);

                }
            });
        </script>
    </apex:outputpanel>
    <apex:outputpanel id="sysCodeJavaScript">
        <script>
            var apexSCList = [];
            console.log('ggg'+'{!SystemCodes}');
            <apex:repeat value="{!SystemCodes}" var="name">
                apexSCList.push('{!name}');
            </apex:repeat>


            $( ".apexSCautocomplete" ).autocomplete({
                source: apexSCList,

                select: function( event, ui ) {
                    //  getSC(ui.item.value);
                    enableComponentField();

                }

            });

        </script>
    </apex:outputpanel>
    <apex:outputPanel id="loadComCodeValues">
        <script>
            var apexCCList = [];
            console.log('kkk'+'{!componentCodeList}');
            <apex:repeat value="{!componentCodeList}" var="name">
                apexCCList.push('{!name}');
            </apex:repeat>


            $( ".apexCCautocomplete" ).autocomplete({
                source: apexCCList,
                select: function( event, ui ) {

                    // getCC(ui.item.value);

                }
            });
        </script>
    </apex:outputPanel>

    <apex:outputPanel id="exeReload" >
        <script>
            function redirectPage(){
                //alert('hello');
                var bool = '{!cancelSJWrapperObj1.errorFlag}';
                //alert(bool);
                if(bool=='false'){
                    //alert('hi');
                    document.location.href = '/apex/CSS_Job_Detail?nto=HOME';
                }
            }

            function ClearErrorMessage(){
                document.getElementById('CancelErrorId').innerHTML = '';
            }

            function CloseErrorMessage(){
                //alert('hi');
                document.getElementById('closeErrorId').innerHTML = '';
                document.getElementById('closeErrorId1').innerHTML = '';
            }
        </script>
    </apex:outputPanel>

    <!-- Added below code as part of GSSC-385 story 2 -->
    <script>
        function chevronClickOpenModalPopup(){
            $('#loadingAnimation').modal('show');
        }

        function onCompleteCloseModalPopup(){
            $('#loadingAnimation').modal('hide');
        }
    </script>
    <c:CSS_JavaScript />

    <div class="container-fluid1" style="margin-right:15px;">
        <apex:composition template="CSS_STDTemplate" />
        <apex:define name="body">
            <apex:form id="jobplanfrm">
                <apex:outputpanel id="DisplayChevs1" rendered="{!IF(workjob.id ==null , false , true)}">

                    <ul class="nav nav-tabs desk-tabs" id="JobDetailTab" style="background-color: #eee;">
                        <li><a href="" style="color:#888;" class="not-active">{!$Label.css_Intake}</a></li>
                        <li><a href="#" class="not-active" onClick="callTND()">{!$Label.css_Triage} &amp; {!$Label.css_Diagnosis}</a></li>
                        <li class="active"><a href="" style="color:#888;">{!$Label.css_Job_Plan}</a></li>
                        <li><a href="#" class="not-active" onClick="callRepair()">{!$Label.css_Repairs}</a></li>
                        <li><a href="" style="color:#888;" class="not-active">{!$Label.css_Warramnty_Claim}</a></li>
                        <li><a href="#" style="{!IF($Setup.css_header_nav__c.CG_Invoice_Check__c = true,'','color:#888;')}" class="{!IF($Setup.css_header_nav__c.CG_Invoice_Check__c = true,'active','not-active')}" onclick="{!IF($Setup.css_header_nav__c.CG_Invoice_Check__c = true,'callJobInvoice();','')}">{!$Label.css_Invoice}</a></li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane active" id="rpr">
                            <div class="panel panel-default">
                                <div class="panel-body intakechevs" style="padding-top:0px;">

                                    <ul class="desk-ulist">
                                        <li class="first-child">
                                            <apex:commandLink action="{!jobplan_jo}" styleclass="{!jo_chv_sts}" id="josave">
                                                <span class="{!jo_btn_cls}" />
                                                <apex:outputtext styleClass="{!jo_txt_sts}" id="in_over_chev" value="{!$Label.css_jo_label}" escape="false" />
                                            </apex:commandLink>
                                        </li>
                                        <li>
                                            <apex:commandLink action="{!jobplan_srt}" styleclass="{!srt_chv_sts}" id="srtsave" onclick="chevronClickOpenModalPopup();" oncomplete="onCompleteCloseModalPopup();">
                                                <span class="{!srt_btn_cls}" />
                                                <apex:outputtext styleClass="{!srt_txt_sts}" id="in_srt_chev" value="{!$Label.CSS_SRTs}" escape="false" />
                                            </apex:commandLink>
                                        </li>
                                        <li>
                                            <apex:commandLink action="{!jobplan_prt}" styleclass="{!prt_chv_sts}" id="prtsave" onclick="chevronClickOpenModalPopup();" oncomplete="onCompleteCloseModalPopup();">
                                                <span class="{!prt_btn_cls}" />
                                                <apex:outputtext styleClass="{!prt_txt_sts}" id="in_pr_chev" value="{!$Label.CSS_Parts}" escape="false" />
                                            </apex:commandLink>
                                        </li>
                                        <li>
                                            <apex:commandLink action="{!jobplan_war}" styleclass="{!war_chv_sts}" id="warsave" onclick="chevronClickOpenModalPopup();" oncomplete="onCompleteCloseModalPopup();">
                                                <span class="{!war_btn_cls}" />
                                                <apex:outputtext styleClass="{!war_txt_sts}" id="in_wr_chev" value="{!$Label.css_warr_chev}" escape="false" />
                                            </apex:commandLink>
                                        </li>

                                        <li>
                                            <apex:commandLink action="{!jobplan_narr}" styleclass="{!nar_chv_sts}" id="narsave" onclick="chevronClickOpenModalPopup();" oncomplete="onCompleteCloseModalPopup();">
                                                <span class="{!nar_btn_cls}" />
                                                <apex:outputtext styleClass="{!nar_txt_sts}" id="in_narr_chev" value="{!$Label.CSS_Narrative_chev}" escape="false" />
                                            </apex:commandLink>
                                        </li>
                                        <!--<apex:outputPanel rendered="{!IF(($Setup.css_header_nav__c.EnableBMSButton__c && bmsEnabled),true,false)}"> rendered="{!IF(($Setup.css_header_nav__c.EnableBMSButton__c && workJob.Account__r.ERP_System__c == 'One BMS' || $Profile.Name='CSS_Service_Advanced'),true,false)}"-->

                                        <apex:outputPanel rendered="{!IF((displayERPButton && $Setup.css_header_nav__c.IsQuoteEnabled__c && displaySendERP_Button),true,false)}">
                                            <li class="last-child">
                                                <apex:commandLink action="{!jobplan_jpq}" styleclass="{!qt_chv_sts}" id="jpqsave" onclick="chevronClickOpenModalPopup();" oncomplete="onCompleteCloseModalPopup();">
                                                    <span class="{!qt_btn_cls}" />
                                                    <apex:outputtext styleClass="{!qt_txt_sts}" id="in_quote_chev" value="{!$Label.CSS_Quote}" escape="false" />
                                                </apex:commandLink>
                                            </li>
                                        </apex:outputPanel>

                                    </ul>
                                    <!---Mobile App--->
                                    <ul class="mob-ulist">
                                        <li class="first-child">
                                            <apex:commandLink action="{!jobplan_jo}" styleclass="{!jo_chv_sts}" id="josave_m">
                                                <div class="circle-active">1</div>
                                                <span class="{!jo_txt_sts}">{!jo_txt_val}</span>
                                            </apex:commandLink>
                                        </li>
                                        <li>
                                            <apex:commandLink action="{!jobplan_srt}" styleclass="{!srt_chv_sts}" id="srtsave_m">
                                                <div class="pull-right circle-open">2</div>
                                                <span class="{!srt_txt_sts}">{!srt_txt_val}</span>
                                            </apex:commandLink>
                                        </li>
                                        <li>
                                            <apex:commandLink action="{!jobplan_prt}" styleclass="{!prt_chv_sts}" id="prtsave_m">
                                                <div class="pull-right circle-open">3</div>
                                                <span class="{!prt_txt_sts}">{!prt_txt_val}</span>
                                            </apex:commandLink>
                                        </li>
                                        <li>
                                            <apex:commandLink action="{!jobplan_war}" styleclass="{!war_chv_sts}" id="warsave_m">
                                                <div class="pull-right circle-open">4</div>
                                                <span class="{!war_txt_sts}">{!war_txt_val}</span>
                                            </apex:commandLink>
                                        </li>
                                        <li>
                                            <apex:commandLink action="{!jobplan_narr}" styleclass="{!nar_chv_sts}" id="narrsave_m">
                                                <div class="pull-right circle-open">5</div>
                                                <span class="{!nar_txt_sts}">{!nar_txt_val}</span>
                                            </apex:commandLink>
                                        </li>
                                        <li class="last-child">
                                            <apex:commandLink action="{!jobplan_jpq}" styleclass="{!qt_chv_sts}" id="jpqsave_m">
                                                <div class="circle-open">6</div>
                                                <span class="{!qt_txt_sts}"> {!qt_txt_val}</span>
                                            </apex:commandLink>
                                        </li>
                                    </ul>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel-body">
                        <!-- ******* BEGIN TD - JOB OVERVIEW **** -->
                        <apex:outputPanel id="joboverviewpnl">
                            <div class="col-md-12">
                                <div class="row">
                                    <!-- Modified as per story# 76192 -->
                                    <c:CSS_JobOverviewPanel CustName="{!workJob.Customer_Name__c}" JobOrdId="{!workJob.Id}" JobStatus="{!workJob.Status__c}" DateCreated="{!workJob.CreatedDate}" DateIn="{!workJob.Date_In__c}" jobOrdNumb="{!workJob.Name}" ShopWO="{!workJob.Shop_Work_Order__c}" LastSaved="{!workJob.LastModifiedDate}" JobESN="{!workJob.ESN__c}" ServModel="{!workJob.Service_Model__c}" RepRecent="{!workJob.Repeat_Or_Recent_Calc__c}" JobLoc="{!workJob.JobLocation__c}" pgName="INTAKE" ControlNo="{!workJob.Control_Number__c}" paccarAuthReq="{!workJob.PACCAR_Auth_Required__c}"/>
                                </div>
                            </div>
                        </apex:outputPanel>
                        <!--story 147762--63--64--kalpana-->
                        <apex:outputPanel id="ODMMsgpnl">
                            <div class="col-md-12">
                                <div class="row">

                                    <c:CG_ODMMessages />
                                </div>
                            </div>
                        </apex:outputPanel>
                        <!--code for job plan overview bottom part-->

                        <apex:outputPanel id="joboverviewpnl123" rendered="{!show_jo_pnl}">
                            <!----Story 75790 Start--->
                            <apex:outputpanel id="esnChangedPnlJP" rendered="{!IF(CONTAINS(workjob.BMSStatus__c,'esnChanged'), true, false)}">
                                <fieldset class=".cmi_field_set">
                                    <apex:outputLabel id="esnChangedLblJP"><span style="color:red">{!$Label.CSS_esnChanged_ChkWarranty}</span></apex:outputLabel>
                                </fieldset>
                            </apex:outputpanel>
                            <!----Story 75790 End--->
                            <div class="col-md-9 col-xs-12">
                                <h4 align="right">
                                    <b>Verify Account Code is correct</b>
                                </h4>
                            </div>
                            <div class="col-md-3 col-xs-12"></div>
                            <fieldset class="field_set" style="width:100%">
                                <!--    <c:CSS_JobPlanSymOverview /> commented by Vignesh-->
                                <div class="panel-body">

                                    <div class="col-md-15 col-xs-15">
                                        <div class="container-fluid">
                                            <div class="form-horizontal" role="form">
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <h4 style="margin-centerp:0px;"><b>{!$Label.css_Troubleshooting_Overview} </b></h4>
                                                    </div>


                                                    <div class="col-sm-offset-1 col-sm-7">
                                                        <apex:outputPanel rendered="{!warrantyFailure}" id="warrantyfailurepanel">
                                                            <apex:outputText style="color:red;font-weight:bold;" value="{!$Label.CSS_WarrantyWebserviceFailureMessage}"/> &nbsp;
                                                            <apex:commandLink value="{!$Label.CSS_Retry}" action="{!retry}" status="callAccountCodestatus" styleclass="saveButton" reRender="warrantyfailurepanel" oncomplete="window.location.reload()"/>
                                                        </apex:outputPanel>

                                                        <apex:actionStatus startText="retrying..." id="callAccountCodestatus">
                                                            <apex:facet name="start">Retrying... <img src="/img/loading.gif" /></apex:facet>
                                                            <apex:facet name="stop"></apex:facet>
                                                        </apex:actionStatus>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div>
                                            </div>
                                            <!--   <div style="float: right;margin-top: -10px;margin-right:5px;">

<a href="#" id="assignee"><span class="cmi_add-icon"></span> </a>
<apex:commandLink style="font-weight:bold;text-decoration:underline;" value="{!$Label.css_Add}" action="{!onAddClick}" rerender="FaultCode,checkCoveragePanel,AcountCode,PayCode,JobPlanOverviewPanel" html-data-target="#modalAccCodelkupPopUp" html-data-toggle="modal" html-data-backdrop="static" html-data-keyboard="false"  onComplete="return false;" >
</apex:commandLink>
</div> -->
                                            <apex:outputpanel >
                                                <div class="">
                                                    <div class="form-horizontal" role="form">
                                                        <div class="form-group form-group1">
                                                            <div class="col-md-16">
                                                                <table class="mytable table table-striped jobplanSymoverviewTable">
                                                                    <!----Defect 64438---->
                                                                    <thead>
                                                                        <tr>
                                                                            <th>{!$Label.CSS_Fault_Code_Symptom}
                                                                            </th>
                                                                            <th style="width:100%">
                                                                                <div class="row">
                                                                                    <div class="col-sm-2">
                                                                                        {!$Label.css_Solutions}
                                                                                    </div>
                                                                                    <div class="col-sm-1">
                                                                                        <b>{!$Label.CSS_SRTs}</b>
                                                                                    </div>
                                                                                    <div class="col-sm-1">
                                                                                        <b> {!$Label.CSS_Selected_Parts}</b>
                                                                                    </div>
                                                                                    <div class="col-sm-8" style="padding:0px;">

                                                                                        <div class="col-sm-1">
                                                                                            <b> Root Cause</b>  <!-- Added new columns as part of GSSC-385 -->
                                                                                        </div>

                                                                                        <div class="col-sm-2">
                                                                                            <b> {!$Label.CSS_Parts_Name_Identified_By_Technician}</b>
                                                                                        </div>
                                                                                        <div class="col-sm-2">
                                                                                            <b> {!$Label.CSS_Fail_Code}</b>
                                                                                        </div>
                                                                                        <div class="col-sm-2">
                                                                                            <b> {!$Label.CG_FailMode}</b>
                                                                                        </div>
                                                                                        <div class="col-sm-3">  
                                                                                            <b> {!$Label.CSS_Account_Code}</b>
                                                                                        </div>

                                                                                        <!-- <div class="col-sm-1"></div> -->

                                                                                        <apex:outputPanel rendered="{!IF(workJob.Account__r.ERP_System__c == 'One BMS' && ($Profile.Name='CSS_Service_Advanced'
                                                                                                                    || $Profile.Name == 'System Admin' || $Profile.Name == 'System Administrator' || $Setup.css_header_nav__c.RSWButtonEnable__c==false),true,false)}">
                                                                                            <div class="col-sm-2" style="text-align:center">
                                                                                                <b>{!$Label.CG_Claimtype}</b>
                                                                                            </div>
                                                                                        </apex:outputPanel>
                                                                                    </div>
                                                                                    <!-- <div class="col-sm-1">
<b> {!$Label.CSS_Select}</b>
</div>-->                                                        
                                                                                </div>
                                                                            </th>

                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <apex:variable var="fcCnt" value="{!1}" />
                                                                        <apex:repeat value="{!partsListWrap}" var="parts" id="theRepeat2">
                                                                            <tr>
                                                                                <!-- Diagnose -->
                                                                                <td>
                                                                                    <!--<div><b><apex:outputText value="{!parts.Name}"></apex:outputText></b></div>-->
                                                                                    <div>
                                                                                        <b><a href="/apex/CSS_JobTnDTs?id={!workJob.Id}">{!parts.Name}</a></b>
                                                                                    </div>
                                                                                    <apex:repeat value="{!parts.relatedName}" var="symFcName">
                                                                                        <apex:outputPanel rendered="{!IF(symFcName!=null || symFcName!='',true,false)}">
                                                                                            <b>{!$Label.CSS_Related}</b>
                                                                                        </apex:outputPanel>
                                                                                        <div>
                                                                                            <apex:outputText value="{!symFcName}"></apex:outputText>
                                                                                        </div>

                                                                                    </apex:repeat>
                                                                                    <apex:outputpanel rendered="{!IF(parts.solList == null || parts.solList == '' ,false,true)}">
                                                                                        <apex:repeat value="{!parts.solList}" var="out">
                                                                                            <apex:outputpanel rendered="{!IF(out.outOfOrder == true,true,false)}">
                                                                                                <b>Note:</b> {!$Label.CSS_Solutions_Not_Performed_in_Order}
                                                                                            </apex:outputpanel>
                                                                                        </apex:repeat>
                                                                                    </apex:outputpanel>
                                                                                </td>
                                                                                <!-- End for Diagnose -->
                                                                                <!--Solutions-->
                                                                                <td>

                                                                                    <span style="font-size: 12px;"> {!parts.solList.size} {!$Label.css_Solutions_Found} </span> <br/><br/>

                                                                                    <apex:variable var="Solcounter" value="{!0}" />
                                                                                    <apex:repeat value="{!parts.solList}" var="solName">


                                                                                        <apex:outputpanel rendered="{!IF(solName.solResponse == '' ,false,true)}">
                                                                                            <apex:variable var="Solcounter" value="{!Solcounter+1 }" />
                                                                                            <div>
                                                                                                <div class="col-sm-2" style="padding:0px;">
                                                                                                    <!-- Solutions  -->
                                                                                                    <apex:outputpanel rendered="{!IF(solName.solNumber == null || solName.solNumber == '' ,true,false)}">
                                                                                                        <div>
                                                                                                            <span style="font-size: 12px;"> 0 {!$Label.css_Solutions_Found}</span> <br/>
                                                                                                        </div>
                                                                                                    </apex:outputpanel>
                                                                                                    <apex:outputpanel rendered="{!IF(solName.solNumber == null || solName.solNumber == ''  ,false,true)}">

                                                                                                        <!--  <apex:outputpanel rendered="{!IF(solName.solResponse == '' ,false,true)}">   -->
                                                                                                        <div class="col-sm-1" style="padding:0px;">
                                                                                                            <i class="cmi-icon {!IF(solName.solResponse == 'Most likely the solution', 'icon-correct',
                                                                                                                      IF(solName.solResponse == 'Not the solution', 'icon-wrong','icon-qtn'))}"></i>
                                                                                                        </div>
                                                                                                        <div class="col-sm-10">
                                                                                                            <b>{!solName.solNumber}</b> <br/>
                                                                                                            <div>{!solName.solTitle}</div>
                                                                                                            <!--117208 display Parent Solution Name for a Nested Solution START-->
                                                                                                            <apex:outputPanel rendered="{!IF(solName.ParentSolName != null,true,false)}">
                                                                                                                ({!$Label.CSS_Compound_of} <b></b>
                                                                                                                <apex:outputtext value="{!solName.ParentSolName}" />)
                                                                                                            </apex:outputPanel>
                                                                                                            <!--117208 display Parent Solution Name for a Nested Solution END-->

                                                                                                        </div>
                                                                                                        <!--    </apex:outputpanel>  -->

                                                                                                    </apex:outputpanel>
                                                                                                </div>

                                                                                                <div class="col-sm-1" style="padding:0px;">
                                                                                                    <!-- SRTs --->
                                                                                                    <apex:outputPanel rendered="{!IF(Solcounter==1, true, false)}">
                                                                                                        <apex:outputpanel rendered="{!IF(parts.solList == null || parts.solList == '' ,false,true)}">
                                                                                                            <div>
                                                                                                                <b>{!$Label.css_Diagnosis}: </b>
                                                                                                                <br/> {!IF(contains(parts.diagTime, "."), parts.diagTime, parts.diagTime+".0")}
                                                                                                                <!--{!parts.diagTime}-->
                                                                                                            </div>
                                                                                                        </apex:outputpanel>

                                                                                                        <apex:outputpanel rendered="{!IF(parts.solList == null || parts.solList == '' ,false,true)}">
                                                                                                            <div>
                                                                                                                <b>{!$Label.css_Repair}: </b>
                                                                                                                <br/> {!parts.repTime}
                                                                                                            </div>
                                                                                                        </apex:outputpanel>

                                                                                                    </apex:outputPanel>
                                                                                                </div>

                                                                                                <div class="col-sm-1" style="padding:0px;">
                                                                                                    <!-- Parts Quantity --->
                                                                                                    <apex:outputText value="0" rendered="{!IF(solName.solResponse == 'Most likely the solution' && solName.partsListCount==null,true, false)}" />
                                                                                                    <apex:outputText value="{!solName.partsListCount.size}" rendered="{!IF(solName.partsListCount==null,false,true && solName.solResponse == 'Most likely the solution')}" /> &nbsp;
                                                                                                    <apex:commandLink value="{!$Label.CSS_View_Parts}" action="{!jobplan_prt}" rendered="{!IF(solName.solResponse != 'Most likely the solution',false,true)}" />
                                                                                                </div>


                                                                                                <div class="col-sm-8" style="padding:0px;">

                                                                                                    <!-- Parts Name Identified by Technician--->
                                                                                                    <apex:repeat value="{!solName.solCompWrap}" var="solwrap">
                                                                                                        <apex:outputpanel rendered="{!IF(parts.solList == null || parts.solList == '' ,false,true)}">

                                                                                                            <!-- Added below checkbox as part of GSSC 385 story 2-->
                                                                                                            <div class="col-sm-1" >
                                                                                                                <apex:outputpanel rendered="{!IF(solwrap.compName == null || solwrap.compName == '' ,false,true) && (solName.solResponse != null || solName.solResponse != '') && (solName.solResponse=='Most likely the solution')}">
                                                                                                                    <apex:inputCheckbox id="root" value="{!solwrap.JPORootCause}" onChange="showDeleteRootCauseConfirmPopup(this);" html-data-dismiss="modal" >

                                                                                                                    </apex:inputCheckbox>
                                                                                                                </apex:outputpanel>
                                                                                                            </div>
                                                                                                            <div class="col-sm-2"> <!-- Changed class form col-sm-3 to col-sm-2 -->
                                                                                                                <apex:outputPanel rendered="{!solwrap.selectedcomp}">
                                                                                                                    <apex:outputpanel rendered="{!IF(solwrap.compName == null || solwrap.compName == '' ,false,true) && (solName.solResponse != null || solName.solResponse != '') && (solName.solResponse=='Most likely the solution')}">

                                                                                                                        <p> {!solwrap.compName}</p>
                                                                                                                        </apex:outputPanel>
                                                                                                                    </apex:outputpanel>
                                                                                                            </div>


                                                                                                            <div class="col-sm-2">
                                                                                                                <!-- Fail Code --->
                                                                                                                <apex:outputPanel rendered="{!solwrap.selectedcomp}">
                                                                                                                    <apex:outputpanel rendered="{!IF(solwrap.failcodelist == null || solwrap.failcodelist == '' ,false,true) && (solName.solResponse != null || solName.solResponse != '') && (solwrap.selectedcomp==true) && (solName.solResponse=='Most likely the solution')}">

                                                                                                                        <p> {!solwrap.compName}-{!solwrap.failcodelist} </p>
                                                                                                                        </apex:outputPanel>

                                                                                                                    <apex:outputpanel rendered="{!IF(solwrap.failcodelist == null || solwrap.failcodelist == '',true,false) && (solName.solResponse=='Most likely the solution') && (solName.hasComponent==true)  && (solwrap.selectedcomp==true)}">
                                                                                                                        <!--apex:inputtext value="{!solwrap.failcodeEditable}" maxlength="8" style="margin-left:-20px;"/-->
                                                                                                                        <apex:outputPanel rendered="{!IF(solwrap.failcodelist==null, true,false)}">

                                                                                                                            <p>
                                                                                                                                <apex:outputPanel rendered="{!IF(solwrap.failcodeEditable==null, true,false)}">
                                                                                                                                    <input type="text" name="failCodeRO" disabled="disabled" style="background-color:darkGrey;width:100px" />
                                                                                                                                </apex:outputPanel>
                                                                                                                                <apex:outputPanel rendered="{!IF(solwrap.failcodeEditable!=null, true,false)}">
                                                                                                                                    {!solwrap.failcodeEditable}
                                                                                                                                </apex:outputPanel>
                                                                                                                            </p>
                                                                                                                            </apex:outputpanel>

                                                                                                                        <apex:outputPanel rendered="{!IF(solwrap.failcodelist!=null, true,false)}">
                                                                                                                            <p>
                                                                                                                                <apex:selectList value="{!solwrap.failcodeEditable}" size="1" style="width:80%;">
                                                                                                                                    <apex:selectOptions value="{!solwrap.lstConcatenatedFailcodes}"></apex:selectOptions>
                                                                                                                                </apex:selectList>
                                                                                                                            </p>
                                                                                                                            </apex:outputpanel>
                                                                                                                    </apex:outputpanel>

                                                                                                                    </apex:outputpanel>
                                                                                                            </div>
                                                                                                            <!--Start Fail Mode -->
                                                                                                            <div class="col-sm-2">
                                                                                                                <apex:outputPanel rendered="{!solwrap.selectedcomp}">
                                                                                                                    <!--<apex:outputPanel rendered="{!IF(solwrap.failmode!=null && solwrap.failcodeEditable!=null, true,false)}"><!--Defect fix 151546 by Agassi-->
                                                                                                                    <apex:outputPanel rendered="{!IF(solwrap.failmode!=null && solwrap.failmodedesc !=null && solwrap.failmodedesc !='', true,false)}">
                                                                                                                        {!solwrap.failmodedesc}-{!solwrap.failmode}
                                                                                                                    </apex:outputPanel>
                                                                                                                    <apex:outputPanel rendered="{!IF(solwrap.failmode!=null && (solwrap.failmodedesc ==null || solwrap.failmodedesc ==''), true,false)}">
                                                                                                                        {!solwrap.failmode}
                                                                                                                    </apex:outputPanel>
                                                                                                                </apex:outputPanel>
                                                                                                            </div>
                                                                                                            <!--End-->
                                                                                                            <div class="col-sm-3">
                                                                                                                <!-- Account Code --->


                                                                                                                <apex:outputPanel rendered="{!solwrap.selectedcomp}" >
                                                                                                                    <div class="col-sm-7">
                                                                                                                        <apex:outputpanel rendered="{!IF((solwrap.failcodeEditable == 'Select One' || solwrap.failcodeEditable == '') && (solwrap.failcodelist  == ''),true,false)}">
                                                                                                                            <input type="text" name="accCodeRO" disabled="disabled" style="background-color:darkGrey;width:100px;" />
                                                                                                                        </apex:outputpanel>
                                                                                                                        <!--qwerty1-->
                                                                                                                        <apex:outputpanel rendered="{!IF((solwrap.failcodeEditable == 'Select One' || solwrap.failcodeEditable == '') && (solwrap.failcodelist  == ''),false,true)}">

                                                                                                                            <apex:outputpanel rendered="{!IF(solwrap.accountCode == null || solwrap.accountCode == '' ,false,true) && (solName.solResponse != null || solName.solResponse != '') && (solName.solResponse=='Most likely the solution') && (solwrap.accountCodeEditable == '' || solwrap.accountCodeEditable == null)}">
                                                                                                                                <p> {!solwrap.accountCodeType} {!solwrap.accountCode} </p>
                                                                                                                            </apex:outputpanel>

                                                                                                                            <apex:outputpanel rendered="{!IF(solwrap.accountCode == null || solwrap.accountCode == '',true,false) && IF(solName.solResponse != null || solName.solResponse != '',true,false) && IF(solwrap.failcodeEditable != 'Select One',true,false) && (solName.solResponse=='Most likely the solution')}">
                                                                                                                                <apex:outputPanel rendered="{!IF(solwrap.accountCodeEditable==null, true,false)}">
                                                                                                                                    <input type="text" name="accCodeRO" disabled="disabled" style="background-color:darkGrey;width:100px;" />
                                                                                                                                </apex:outputPanel>

                                                                                                                                <apex:outputPanel rendered="{!IF(solwrap.accountCodeEditable!=null, true,false)}">
                                                                                                                                    {!solwrap.accountCodeEditable}  {!solwrap.accountCode}

                                                                                                                                </apex:outputPanel>
                                                                                                                                <!--  </p>  -->
                                                                                                                            </apex:outputpanel>
                                                                                                                            <apex:outputPanel rendered="{!IF((solwrap.accountCodeEditable!=null  && solwrap.accountCodeEditable != '') && (solwrap.accountCode != null && solwrap.accountCode != '') && (solName.solResponse=='Most likely the solution'), true,false)}">
                                                                                                                                {!solwrap.accountCodeEditable}

                                                                                                                            </apex:outputPanel>

                                                                                                                        </apex:outputpanel>
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        <apex:outputPanel rendered="{!IF((solwrap.selectedcomp==true) && (solName.solResponse != null || solName.solResponse != '') && (solName.solResponse=='Most likely the solution'),true,false)}">
                                                                                                                            <i class="pencil-tealIcon"></i>

                                                                                                                            <!--apex:commandLink value="{!$Label.css_Edit}"  action="{!loadPopup}" rerender="JobPlanOverviewEdit,failureJob,javascript,AccCodeAuthorize" style="font-weight:bold;  text-decoration:underline;" onComplete="loadJavscriptAgain();afterCompleteFunction();showAccModalPopup();hideerror(null); "-->
                                                                                                                            <apex:commandLink value="{!$Label.css_Edit}"  action="{!loadPopup}"  rerender="JobPlanOverviewEdit,failureJob,javascript,AccCodeAuthorize" style="font-weight:bold;  text-decoration:underline;" onComplete="afterCompleteFunction();showAccModalPopup();hideerror(null); ">

                                                                                                                                <apex:param name="param1" value="{!solwrap.compId}" assignTo="{!componentId}"/>
                                                                                                                                <apex:param name="param2" value="{!solwrap.compName}" assignTo="{!compName}"/>
                                                                                                                                <apex:param name="param3" value="{!solwrap.failcodelist}" assignTo="{!fcWS}"/>
                                                                                                                                <apex:param name="param4" value="{!solwrap.failcodeEditable}" assignTo="{!failCodeEditable}"/>
                                                                                                                                <apex:param name="param5" value="{!solwrap.accountCodeEditable}" assignTo="{!accCodeEditable}"/>
                                                                                                                                <apex:param name="param6" value="{!solwrap.lstAccountCodes}" assignTo="{!selAccCode}"/>
                                                                                                                                <apex:param name="param7" value="{!solwrap.failmode}" assignTo="{!failmode}"/>
                                                                                                                                <apex:param name="param8" value="{!solwrap.claimtype}" assignTo="{!claimtype}"/>
                                                                                                                            </apex:commandLink>


                                                                                                                        </apex:outputPanel> <p></p>

                                                                                                                    </div>
                                                                                                                    <!--qwerty2-->
                                                                                                                    <apex:outputpanel rendered="{!IF(solwrap.failcodeEditable != 'Select One' || solwrap.failcodeEditable == '',true,false) }">
                                                                                                                        <!---   <br/><br/> --->
                                                                                                                        <!--  <p> </p>  -->
                                                                                                                    </apex:outputpanel>
                                                                                                                </apex:outputPanel>

                                                                                                                <!--Start claim Type -->
                                                                                                                <!--  <div class="col-sm-3"> **{!solwrap.claimtype}
<apex:outputPanel rendered="{!solwrap.selectedcomp}">
<apex:outputPanel rendered="{!IF(solwrap.claimtype!=null, true,false)}">
{!solwrap.claimtype}  //qwerty2
</apex:outputPanel>
</apex:outputPanel>
</div> -->
                                                                                                                <!--End-->
                                                                                                            </div>

                                                                                                            <div class="col-sm-1"><!--<div class="glyphicon" style="zoom:1.95"/> --><!--<i  class="cmi-icon">icon-solidCorrect</i>-->
                                                                                                                <!--<i class="cmi-icon {!IF(1==1,'icon-solidCorrect')}"></i>-->
                                                                                                                <apex:outputPanel rendered="{!IF(solwrap.isAuthorized == 'false',true,false)}" >
                                                                                                                    <i class="cmi_exclamation-icon"></i></apex:outputPanel>
                                                                                                                <apex:outputPanel rendered="{!IF(solwrap.isAuthorized == 'true',true,false)}" >
                                                                                                                    <i class="cmi_solidcorrect-icon"></i></apex:outputPanel>
                                                                                                                <!-- <i class="cmi-icon {!IF(solwrap.isAuthorized == 'true', 'icon-solidCorrect',
IF(solwrap.isAuthorized == 'false', 'icon-solidExclamation', ''))}"></i>-->
                                                                                                            </div>
                                                                                                            <!--<div class="col-sm-2 col-xs-50">kalpanaInvest</div>-->

                                                                                                            <!--removed edit-->
                                                                                                            <!--kal:{!$Setup.css_header_nav__c.RSWButtonEnable__c}-->
                                                                                                            <!-- <apex:outputPanel rendered="{!IF($Setup.css_header_nav__c.RSWButtonEnable__c==false,true,false)}">-->
                                                                                                            <div class="col-sm-1">
                                                                                                                <apex:outputPanel rendered="{!solwrap.selectedcomp}">
                                                                                                                    <apex:outputPanel rendered="{!IF(workJob.Account__r.ERP_System__c == 'One BMS' && ($Profile.Name='CSS_Service_Advanced'
                                                                                                                                                || $Profile.Name == 'System Admin' || $Profile.Name == 'System Administrator' || $Setup.css_header_nav__c.RSWButtonEnable__c==false),true,false)}">
                                                                                                                        <apex:outputpanel rendered="{!IF(solwrap.compName == null || solwrap.compName == '' ,false,true) && (solName.solResponse != null || solName.solResponse != '') && (solName.solResponse=='Most likely the solution')}">
                                                                                                                            {!solwrap.claimtype}
                                                                                                                            <!--  <select>
<option value="Select One">-Select One-</option>
</select> -->
                                                                                                                        </apex:outputpanel>
                                                                                                                    </apex:outputPanel>
                                                                                                                </apex:outputPanel>
                                                                                                            </div>
                                                                                                            <!--  </apex:outputPanel>-->
                                                                                                            <div class="clearfix"></div>
                                                                                                        </apex:outputpanel>

                                                                                                    </apex:repeat>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="clearfix"></div>
                                                                                        </apex:outputpanel>
                                                                                    </apex:repeat>
                                                                                </td>
                                                                            </tr>
                                                                            <apex:variable value="{!fcCnt+1}" var="fcCnt" />
                                                                        </apex:repeat>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                </div>
                                            </apex:outputpanel>
                                        </div>
                                    </div>
                                </div>
                                <!--<div align="center">
<apex:commandLink action="{!updateFailCodeComponents}" value="{!$Label.css_save_btn}" styleclass="saveButton" />
</div>-->
                                <!-- Code ended by Vignesh-->



                                <div align="center">
                                    <!--apex:commandLink action="{!updateFailCodeComponents}" value="{!$Label.css_save_btn}" styleclass="saveButton"/-->
                                </div>
                            </fieldset>
                            <apex:actionFunction name="actionAccCodePopup" action="{!getCompID}" onComplete="showAccModalPopup();"></apex:actionFunction>
                            <apex:actionFunction name="rerenderModalPopup" rerender="JobPlanOverviewEdit,failCodeEdit" onComplete="preDefinedFailSmartSearch();" />
                            <!-- story number 115657 added by venkat-->
                            <br/>
                            <div>

                                <apex:outputPanel >
                                    <c:CSS_JobplanCampaignsTrp />
                                </apex:outputPanel>
                            </div>

                            <br/>

                            <!--kalpana-->

                            <div class="col-sm-offset-1 col-sm-4">

                                <apex:outputPanel id="textSuccesErr">
                                    <apex:outputLabel style="color:red;margin:10px;">{!SuccessNDErrorMsg}</apex:outputLabel>
                                </apex:outputPanel>
                            </div>

                            <div class="col-sm-3">
                                <!--{!sendfailtoERP} -->
                                <apex:outputPanel rendered="{!displaySendERP_Button}">

                                    <apex:outputPanel rendered="{!IF(sendfailtoERP ==true && displayERPButton==true && ($Setup.css_header_nav__c.RSWButtonEnable__c == false) && workJob.Account__r.ERP_System__c== 'One BMS',true,false)}">
                                        <!-- <apex:outputPanel rendered="{!IF(sendfailtoERP ==true && displayERPButton==true && displayERPButtonDist == false,true,false)}">-->
                                        <apex:commandButton id="sendBtnId" styleclass="CMI-primary-button" action="{!SendFailurestoERP}" disabled="false" value="{!$Label.CSS_Send_Failures_to_ERP}" status="Actstatusid" reRender="textSuccesErr" style="font-size:14px;line-height:2em;height:45px;padding:5px 40px;border:0px;" onClick="showLoadingPopUp();" onComplete="HideLoadingPopUp();"/>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!IF((sendfailtoERP==false || displayERPButton==false) && (NOT($Setup.css_header_nav__c.RSWButtonEnable__c)) && workJob.Account__r.ERP_System__c== 'One BMS',true,false)}">
                                        <!--<apex:outputPanel rendered="{!IF(sendfailtoERP==false || displayERPButton==false && displayERPButtonDist == true,true,false)}">-->
                                        <apex:commandButton id="sendBtnId1" styleclass="CMI-primary-button" disabled="true" value="{!$Label.CSS_Send_Failures_to_ERP}" style="font-size:14px;line-height:2em;height:45px;padding:5px 40px;border:0px;" styleClass="cmi_lighttealbutton"/>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                                &nbsp;&nbsp;
                                <!-- <apex:actionStatus id="Actstatusid" >
<apex:facet name="start">
<img src = "/img/loading.gif"/>
</apex:facet>
</apex:actionStatus>-->
                            </div>

                            <div class="clearfix"> </div>
                            <!--Start SRT chevron in Overview-->
                            <div class="pull-right btncrumbs" style="margin-right: 25px;">
                                <ul class="desk-ulist">
                                    <li>
                                        &nbsp;
                                    </li>
                                    <li>
                                        <apex:commandLink action="{!jobplan_srt}" styleclass="{!srt_chv_sts}" id="vhsavebottom6" onclick="chevronClickOpenModalPopup();" oncomplete="onCompleteCloseModalPopup();">
                                            <span class="{!srt_btn_cls}" />
                                            <!--<span class="{!vh_txt_sts}"> SRTs </span> -->
                                            <apex:outputtext styleClass="{!srt_txt_sts}" id="in_srt1_chev" value="{!$Label.CSS_SRTs}" escape="false" />
                                        </apex:commandLink>
                                    </li>
                                    <li>
                                        &nbsp;
                                    </li>
                                </ul>
                            </div>
                            <!--End Quote chevron in warranty-->

                            <!--start of code for job plan warranty bottom part-->
                            <div class="panel-body" style="margin-bottom:10px;">
                                <div class="col-sm-offset-5 col-sm-7">
                                    <div class="col-sm-2 col-xs-12">
                                        <span class="mob-only"> &nbsp; </span>
                                        <apex:commandLink action="{!pgSave}" value="{!$Label.css_save_btn}" styleclass="btn-intake btn-intake-footer m-btn-width" rerender="" />
                                        <!--span class="mob-only"> &nbsp; </span-->
                                    </div>
                                    <div class="col-sm-2 col-xs-12">
                                        <!--apex:commandButton id="clsJob6" action="{!showPopup}" rerender="popup" value="{!$Label.css_exit_btn}" styleclass="btn-intake btn-intake-footer m-btn-width"/-->
                                        <apex:commandButton id="clsJob1" html-data-toggle="modal" html-data-target="#exitModal" value="{!$Label.css_exit_btn}" styleClass="btn-intake btn-intake-footer m-btn-width" onComplete="return false;" />
                                        <span class="mob-only"> &nbsp; </span>
                                    </div>

                                    <div class="col-sm-6 col-xs-12">
                                        <apex:commandlink action="{!closeSession}" value="{!$Label.css_save_close_btn}" rendered="{!$Setup.css_header_nav__c.btnJobFinishedCanceled__c}" styleclass="btn-intake btn-intake-footer m-btn-width" />
                                    </div>
                                    <!-- 82020- Story87378 Reminder when canceling a job - Krishna on 19-06-2017.-->
                                    <!--
<div class="col-sm-2 col-xs-12">
<apex:commandLink action="{!cancel}" value="{!$Label.css_cancel_btn}" styleclass="btn-intake btn-intake-footer m-btn-width" rendered="{!$Setup.css_header_nav__c.btnJobFinishedCanceled__c}"/>
<span class="mob-only"> &nbsp; </span>
</div>
-->
                                    <div class="col-sm-2 col-xs-12">
                                        <apex:outputPanel rendered="{!$Setup.css_header_nav__c.btnJobFinishedCanceled__c}">

                                            <a data-target="#cancelModelPopup" data-toggle="modal" class="btn-intake btn-intake-footer m-btn-width">{!$Label.css_cancel_btn}</a>
                                            <span class="mob-only"> &nbsp; </span>
                                        </apex:outputPanel>
                                    </div>
                                    <!-- 82020- Story87378 Reminder when canceling a job - Krishna on 19-06-2017.-->
                                </div>

                                <!---KALPANA--->
                                <div class="modal fade" id="exitModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" style="width:400px;">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <apex:commandButton title="Close the popup" html-data-dismiss="modal" styleClass="cross_butten" rerender="popup" />
                                                <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_Cummins_Service_System} </h4>
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="modal-body" style="margin:30px 0px 50px 90px;">
                                                <div class="col-md-12 col-xs-12">
                                                    <b>{!$Label.css_Do_you_want_to_Exit}</b>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="modal-footer">
                                                <div class="col-sm-5 col-xs-4 cmi-tar">
                                                    <apex:commandButton value="{!$Label.CSS_FAQs_Working_A7}" action="{!redirectPopup}" styleClass="saveButton" rerender="popup" />
                                                </div>
                                                <div class="col-sm-5 col-xs-4 cmi-tar">
                                                    <apex:commandButton value="{!$Label.CSS_No}" html-data-dismiss="modal" styleClass="cancelButton" rerender="popup" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!----Loading Pop Up----->
                                <div class="modal fade" id ="loadingModal" role="dialog">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_Cummins_Service_System} </h4>
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="modal-body">
                                                <b>{!$Label.CSS_Validation_Msg}</b><br/><br/>
                                                <b>{!$Label.CSS_Refresh_Msg}</b><br/><br/>
                                                <!--<img src="/img/loading.gif" style="float:center"/>-->


                                            </div>
                                            <div class="modal-body">
                                                <apex:image url="{!$Resource.LoadingImg}" width="50" height="50" style="text-align:center" styleClass="col-sm-offset-5"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!----Loading Pop Up----->

                                <!--CANCEL POPUP--->
                                <apex:outputPanel id="cancelModelPopup">
                                    <div class="modal fade" id="cancelModelPopup" role="dialog">
                                        <apex:outputPanel id="cancelModeShow" styleClass="popupAttachBg" layout="block">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <apex:commandButton title="Close the popup" html-data-dismiss="modal" styleClass="cross_butten" onclick="ClearErrorMessage();"/>
                                                        <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.css_cummins_service_system} </h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <b>{!$Label.CSS_Cancel_Popup_Message}</b>
                                                    </div>
                                                    <apex:outputPanel id="msgbody">
                                                        <apex:outputPanel rendered="{!cancelSJWrapperObj1.errorFlag}">
                                                            <div class="modal-body">
                                                                <span id="CancelErrorId"><b><apex:outputText value="{!cancelSJWrapperObj1.errorMessage}" style="color:red;"/></b></span>
                                                            </div>
                                                        </apex:outputPanel>
                                                    </apex:outputPanel>
                                                    <div class="modal-footer">
                                                        <div class="col-sm-8 col-xs-4 cmi-tar">
                                                            <apex:commandButton value="{!$Label.CSS_FAQs_Working_A7}" action="{!cancel}" styleClass="saveButton"   status="cancelJobImg" rerender="msgbody,exeReload" oncomplete="redirectPage();"/>
                                                            <apex:actionStatus id="cancelJobImg">
                                                                <apex:facet name="start"><img src="/img/loading.gif" /></apex:facet>
                                                                <apex:facet name="stop"></apex:facet>
                                                            </apex:actionStatus>&nbsp; &nbsp;
                                                            <apex:commandButton value="{!$Label.CSS_No}" html-data-dismiss="modal" onclick="ClearErrorMessage();" styleClass="cancelButton" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </apex:outputPanel>
                                    </div>
                                </apex:outputPanel>
                            </div>
                            <!--end of code for job plan warranty bottom part-->


                        </apex:outputPanel>
                    </div>
                </apex:outputpanel>
                <!-- 56604  Start Code for Job Closure panel content --->
                <!-- 56604  Start Code for Job Closure panel content --->
                <apex:outputPanel id="jobClosePanel">
                    <apex:outputPanel id="JobCloseInnerPanel" rendered="{!displayClosePopup}" styleclass="popupAttachBg" layout="block">
                        <apex:outputPanel styleClass="custPopupAttach" layout="block">
                            <div role="dialog">
                                <div class="modal-header">  
                                    <apex:commandButton title="Close the popup" action="{!closeSession_close}" styleClass="cross_butten" rerender="jobClosePanel" oncomplete="CloseErrorMessage();"></apex:commandButton>  
                                    <h4 class="modal-title" style="color: #FFFFFF;">{!$Label.CSS_Job3} - {!workjob.Customer_Name__c}</h4>
                                </div>
                                <div class="modal-body" style="max-height:500px;overflow:auto;">
                                    <!-- Begin Code for Warning Message with CAMPAIGNS, TSB's TRP's incomplete  as-->
                                    <apex:outputPanel id="NoCampTSBsTRPs" rendered="{!nocamptsbtrps}">
                                        <div>
                                            {!$Label.css_Please_check_off_required_Campaigns_TRPs_TSBs_or_provide_comments}
                                        </div>
                                    </apex:outputPanel>
                                    <!-- End Code for Warning Message with CAMPAIGNS, TSB's TRP's incomplete -->

                                    <!-- Begin Code for  Job Close with Resolution and Feed Back Fields -->
                                    <apex:outputPanel rendered="{!showResolution}">
                                        <apex:pageMessages />
                                        <div>
                                            {!$Label.css_You_are_about_to_close_the_Job}. 
                                        </div><br/>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <b><apex:outputLabel value="{!$objectType.CSS_Job_Order__c.Fields.CSS_Resolution__c.Label}"/></b>
                                                <apex:selectRadio value="{!workJob.CSS_Resolution__c}" layout="pageDirection">
                                                    <apex:selectOptions value="{!resolutionOptions}" />
                                                </apex:selectRadio>

                                                <apex:outputPanel rendered="{!IF(bmsEnabled==true, true,false)}">
                                                    <div class="form-horizontal" role="form">
                                                        <apex:outputPanel rendered="{!IF((workJob.Customer_Code__c==''||workJob.Customer_Code__c==null), true,false)}">
                                                            <label for="" class="col-sm-4 cmi-tar">{!$Label.CSS_Customer_Code}<span class="cmi_asterisk">*</span></label>
                                                            <div class="col-sm-7 col-xs-12 " >
                                                                <apex:InputField value="{!workJob.Customer_Code__c}"></apex:InputField>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <apex:outputPanel rendered="{!IF((workJob.Unit_Number__c==''||workJob.Unit_Number__c==null), true,false)}">
                                                            <div class="clearfix"></div>
                                                            <label for="" class="col-sm-4 col-xs-12 cmi-tar">{!$Label.CSS_Unit_Num}<span class="cmi_asterisk">*</span></label>
                                                            <div class="col-sm-8 col-xs-12 " >
                                                                <apex:InputField value="{!workJob.Unit_Number__c}"></apex:InputField>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <div class="clearfix"></div>
                                                        <apex:outputPanel rendered="{!IF((workJob.Shop_Work_Order__c==''||workJob.Shop_Work_Order__c==null), true,false)}">
                                                            <label for="" class="col-sm-4 col-xs-12 cmi-tar">{!$Label.CSS_Work_Oder_Num}<span class="cmi_asterisk">*</span></label>
                                                            <div class="col-sm-8 col-xs-12 " >
                                                                <apex:InputField value="{!workJob.Shop_Work_Order__c}"></apex:InputField>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <div class="clearfix"></div>                                                            
                                                    </div>
                                                </apex:outputPanel>
                                                <apex:outputPanel id="resolutionReqMessage">
                                                    <apex:outputPanel rendered="{!showResolutionRequired}"> <!--Rajesh. Fixed as part of defect 179167-->
                                                        <div class="modal-body"> <!--Rajesh. Fixed as part of defect 179167-->
                                                            <span id="resolutionRequired"><b><apex:outputText value="Please select the resolution" style="color:red;"/></b></span> <!--Rajesh. Fixed as part of defect 179167-->
                                                        </div> <!--Rajesh Narra-->
                                                    </apex:outputPanel> <!--Rajesh Narra-->

                                                </apex:outputPanel>
                                                <!--<apex:outputText rendered="{!requiredBMSMessage}" value="Please add values to the fields" style="color:red; font-weight:bold"/><br/>-- Rajesh. Fixed as part of defect 179167-->
                                                <apex:outputLabel value="{!$objectType.CSS_Job_Order__c.Fields.CSS_Feedback_Comments__c.Label}"/>
                                                <div style="padding-left:15px;border-bottom:1px solid #000000">       
                                                    <apex:inputTextarea value="{!workjob.CSS_Feedback_Comments__c}" style="min-height:100px; overflow-x:hidden; overflow-y:scroll; resize: none; border-style: groove;" onkeyup="textCounter(this,'ttocounter',2000);" rows="1" cols="20" />
                                                    {!$Label.css_Remaining_Characters} <input type="text" value="2000" readonly="readonly" maxlength="3" size="3"  id="ttocounter" style="border:none;" />    
                                                </div><br/>
                                                <apex:outputPanel id="errmsgbody">
                                                    <apex:outputPanel rendered="{!cancelSJWrapperObj1.errorFlag}">
                                                        <div class="modal-body">
                                                            <span id="closeErrorId"><b><apex:outputText value="{!cancelSJWrapperObj1.errorMessage}" style="color:red;"/></b></span>
                                                        </div>
                                                    </apex:outputPanel>
                                                </apex:outputPanel>
                                                <div class="row" style="padding-left:15px">
                                                    <div class="col-sm-offset-2 col-sm-4 col-xs-12">    
                                                        <apex:commandButton value="{!$Label.css_Close_Job}" action="{!saveAndCloseJob}" styleClass="saveButton"  status="closeJobImg3" rerender="errmsgbody,exeReload,resolutionReqMessage,showResolution" oncomplete="redirectPage();" ></apex:commandbutton><!--Rajesh. Fixed as part of defect 179167 showResolution -->
                                                        <apex:actionStatus id="closeJobImg3">
                                                            <apex:facet name="start"><img src="/img/loading.gif" /></apex:facet>
                                                            <apex:facet name="stop"></apex:facet>
                                                        </apex:actionStatus>
                                                    </div>
                                                    <div class="col-sm-6 col-xs-12">
                                                        <apex:commandButton value="{!$Label.css_Cancel}" action="{!closeSession_close}" styleClass="cancelButton" rerender="jobClosePanel" oncomplete="CloseErrorMessage();"/><br/>
                                                    </div><br/>
                                                </div>

                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                    <!-- End Code for Job Close with Resolution and Feed Back Fields -->

                                    <!-- Begin Code for Job Close with Verified Solutions with out Repairs -->
                                    <apex:outputPanel id="repairsPan" rendered="{!showRepairs}">
                                        <apex:outputText rendered="{!showRepairErrorMessage}" value="Please select repair response for the below solutions" style="color:red; font-weight:bold"/>
                                        <apex:outputText rendered="{!showRepairRequired}" value="Please select resolution" style="color:red; font-weight:bold"/><!--Rajesh. Fixed as part of defect 179167-->
                                        <div>
                                            {!$Label.css_You_are_about_to_close_the_Job}. 
                                        </div><br/>
                                        <div class="row"><b>{!$Label.css_Please_provide_repair_information_forthe_cases}.</b><br/>
                                            <div class="col-sm-12"><br/>
                                                <apex:selectOptions value="{!responseOptions}"/>
                                                <apex:repeat var="qa" value="{!responseValues}">
                                                    {!qa.Case_Name__c} - {!qa.Solution_Title__c}
                                                    <apex:selectRadio value="{!qa.Repair_Response__c}" layout="pageDirection">
                                                        <apex:selectOptions value="{!responseOptions}"/>
                                                    </apex:selectRadio> 
                                                </apex:repeat>
                                                <apex:outputLabel value="{!$objectType.CSS_Job_Order__c.Fields.CSS_Resolution__c.Label}" rendered="{!showRepairRequired}"/><!-- Rajesh. Fixed as part of defect 179167 showResolutionWithRepair Replaced with showRepairRequired  -->
                                                <apex:selectRadio value="{!workJob.CSS_Resolution__c}" layout="pageDirection" rendered="{!showRepairRequired}"><!-- Rajesh. Fixed as part of defect 179167 showResolutionWithRepair Replaced with showRepairRequired  -->
                                                    <apex:selectOptions value="{!resolutionOptions}" />
                                                </apex:selectRadio> 
                                                <apex:outputPanel rendered="{!IF(bmsEnabled==true, true,false)}">
                                                    <div class="form-horizontal" role="form">
                                                        <apex:outputPanel rendered="{!IF((workJob.Customer_Code__c==''||workJob.Customer_Code__c==null), true,false)}">
                                                            <label for="" class="col-sm-4 cmi-tar">{!$Label.CSS_Customer_Code}<span class="cmi_asterisk">*</span></label> <!-- Rajesh. Fixed as part of defect 179167 ---->
                                                            <div class="col-sm-7 col-xs-12" >
                                                                <apex:InputField value="{!workJob.Customer_Code__c}"></apex:InputField>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <apex:outputPanel rendered="{!IF((workJob.Unit_Number__c==''||workJob.Unit_Number__c==null), true,false)}">
                                                            <div class="clearfix"></div>
                                                            <label for="" class="col-sm-4 col-xs-12 cmi-tar">{!$Label.CSS_Unit_Num}<span class="cmi_asterisk">*</span></label>
                                                            <div class="col-sm-8 col-xs-12" >
                                                                <apex:InputField value="{!workJob.Unit_Number__c}"></apex:InputField>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <div class="clearfix"></div>
                                                        <apex:outputPanel rendered="{!IF((workJob.Shop_Work_Order__c==''||workJob.Shop_Work_Order__c==null), true,false)}">
                                                            <label for="" class="col-sm-4 col-xs-12 cmi-tar">{!$Label.CSS_Work_Oder_Num}<span class="cmi_asterisk">*</span></label>
                                                            <div class="col-sm-8 col-xs-12" >
                                                                <apex:InputField value="{!workJob.Shop_Work_Order__c}"></apex:InputField>
                                                            </div>
                                                        </apex:outputPanel>
                                                        <div class="clearfix"></div>                                                   
                                                    </div>
                                                </apex:outputPanel>


                                                <apex:outputLabel value="{!$objectType.CSS_Job_Order__c.Fields.CSS_Feedback_Comments__c.Label}"/>
                                                <apex:inputTextarea value="{!workjob.CSS_Feedback_Comments__c}" style="min-height:100px; overflow-x:hidden; overflow-y:scroll; resize: none; border-style: groove;" onkeyup="textCounter(this,'txtcounter',2000);" rows="1" cols="20" />
                                                {!$Label.css_Remaining_Characters} <input type="text" value="2000" readonly="readonly" maxlength="3" size="3"  id="txtcounter" style="border:none;" /> 
                                                <apex:outputPanel id="errmsgbody1">
                                                    <apex:outputPanel rendered="{!cancelSJWrapperObj1.errorFlag}">
                                                        <div class="modal-body">
                                                            <span id="closeErrorId1"><b><apex:outputText value="{!cancelSJWrapperObj1.errorMessage}" style="color:red;"/></b></span>
                                                        </div>
                                                    </apex:outputPanel>
                                                </apex:outputPanel>
                                                <div class="row" style="padding-left:15px">
                                                    <div class="col-sm-offset-2 col-sm-4 col-xs-12">    
                                                        <apex:commandButton value="{!$Label.css_Close_Job}" action="{!saveAndCloseJob}" styleClass="saveButton"   status="closeJobImg1" rerender="errmsgbody1,exeReload,repairsPan" oncomplete="redirectPage();"></apex:commandButton> <!--Rajesh Narra -->
                                                        <apex:actionStatus id="closeJobImg1">
                                                            <apex:facet name="start"><img src="/img/loading.gif" /></apex:facet>
                                                            <apex:facet name="stop"></apex:facet>
                                                        </apex:actionStatus>
                                                    </div>
                                                    <div class="col-sm-6 col-xs-12">
                                                        <apex:commandButton value="{!$Label.css_Cancel}" action="{!closeSession_close}" styleClass="cancelButton" rerender="jobClosePanel"  oncomplete="CloseErrorMessage();"/><br/>
                                                    </div><br/>
                                                </div>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                    <!-- End Code for Resoluiton inclduing negative repair Reponse -->

                                </div>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>
                </apex:outputPanel>

                <!-- 56604  EndCode for Job Closure panel content --->


                <!--Mash 121424 story pop up for fail code and account code---->
                <!--apex:actionFunction name="getFailures"  action="{!SRTFailurenames}" rerender="javascript,invFailNameId,invFailCustNameId,invsysCode" onComplete="loadJavscriptAgain();"> </apex:actionFunction-->
                <!--apex:actionFunction name="getCodes"  action="{!changeFailures}" status="callPartNoStatus" rerender="failureJob,javascript" onComplete="afterCompleteFunction();" >
<apex:param name="failureName" value="" assignTo="{!selectedFName}" />
</apex:actionFunction>
<apex:actionFunction name="getCustCodes"  action="{!changeCustFailures}"  status="callPartNoStatus1" rerender="javascript,failureJob,CustomFailureName" onComplete="afterCustFailureCompleteFn();" >
<apex:param name="failureName" value="" assignTo="{!selectedCustFName}" />
</apex:actionFunction-->

                <apex:actionFunction name="getFailmode"  action="{!changefailmode}" rerender="javascript">
                    <apex:param name="failmode" value="" assignTo="{!selectedFailMode}" />
                </apex:actionFunction>
                <apex:actionFunction name="getFaultcode"  action="{!changefaultcode}" rerender="javascript">
                    <apex:param name="faultcode" value="" assignTo="{!selectedFaultCode}" />
                </apex:actionFunction>
                <!--apex:actionFunction name="getSystemcode"  action="{!changeSystemcode}" rerender="javascript">
<apex:param name="Systemcode" value="" assignTo="{!selectedSysCode}" />
</apex:actionFunction>
<apex:actionFunction name="getComponentCode"  action="{!changeComponentCode}" rerender="javascript">
<apex:param name="ComponentCode" value="" assignTo="{!selectedCompCode}" />
</apex:actionFunction-->
                <apex:actionFunction name="enableCheckCoverage" reRender="checkCoverageButton" />
                <div class="modal fade" id="modalAccCodelkupPopUp" role="dialog">
                    <div class="modal-dialog" style="margin-top:20px !important;width:750px;">
                        <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header">
                                <!-- <h4 class="modal-title" style="color: #FFFFFF;"> Guidanz Web </h4>-->
                                <!--<h4 class="modal-title" style="color: #FFFFFF;">{!$Label.CSS_Add_Failure_Popup}</h4>--> <!--146126 kalpana---->
                                <h4 class="modal-title" style="color: #FFFFFF;">Edit Failure - Cummins Guidanz</h4> <!--146126 kalpana---->
                            </div>

                            <!-- Modal Body -->
                            <apex:outputPanel id="JobPlanOverviewEdit">
                                <div class="modal-body">
                                    <!--Added by Abhishek-->
                                    <div style="text-align:left;">
                                        <!--<h4><b>{!$Label.CSS_Failure_Missing_Info}</b></h4>  -->
                                        <apex:outputText id="ErrMsg1" rendered="{!IF((blankField==true),true,false)}">
                                            <h4 style="color: red ; display: block;"><b>{!$Label.CSS_Claims_Enter_Value}</b></h4>
                                        </apex:outputText>
                                    </div>

                                    <apex:outputpanel id="FailureName">
                                        <div class="col-sm-12 col-xs-12">


                                            <div class="col-sm-4 col-xs-12 cmi-tar" >
                                                <b>{!$Label.CSS_Predefined_Failure_Name}</b><span class="cmi_asterisk1">*</span>

                                            </div>
                                            <div class="col-sm-4 col-xs-12 ">
                                                <!--apex:inputText value="{!selectedFName}"  disabled="{!IF(LEN(selectedFName) == 4, true, false)}" styleclass="{!IF((blankField==true && (selectedFname=='' || selectedFname==null)),'apexFNautocomplete showRedBorder','apexFNautocomplete')}" id="Fname" onblur="afterCompleteFunction(),enableCheckCoverage()" html-placeholder="Search" style="text-align:left;" /-->

                                                <!--<apex:inputText value="{!selectedFName}"  styleclass="apexFNautocomplete showRedBorder" id="Fname1" onkeyup="afterCompleteFunction(),enableCheckCoverage()" html-placeholder="Search" style="text-align:left;" rendered="{!IF((blankField==true && (selectedFname=='' || selectedFname==null)),true,false)}">
<!-- <apex:actionSupport event = "onchange" reRender = "CoverageBtn"></apex:actionSupport>
</apex:inputText>-->
                                                <!--<apex:actionFunction name="enableChkCoverageButton"  rerender="CoverageBtn" > </apex:actionFunction>  disabled="{!IF(LEN(selectedFName) == 4, true, false)}" -->
                                                <apex:inputText value="{!selectedFName}" styleclass="{!IF((blankField==true && (selectedFname=='' || selectedFname==null)),'apexFNautocomplete showRedBorder','apexFNautocomplete')}" id="Fname"  html-placeholder="Search" style="text-align:left;" >
                                                    <apex:actionSupport event="onblur" action="{!changeFailures_New}" status="callPartNoStatus" onComplete="afterCompleteFunction();enableCheckCoverage();" rerender="cusfailJavaScript,Nocallcoverage,sysCodeJavaScript,failureJob,invFailNameId,CustomFailureName,AcountCode,opPartsWarranty,PayCode,checkCoveragePanelNew,Fmfetchingmesg"/>
                                                </apex:inputText>
                                                &nbsp;&nbsp;
                                                <apex:actionStatus id="callPartNoStatus">
                                                    <apex:facet name="start">Loading...  <img src="/img/loading.gif" /></apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>
                                            </div>

                                            <apex:outputPanel id="invFailNameId">
                                                <apex:outputPanel rendered="{!IF(invalidFailure==true,true,false)}" >
                                                    <div>
                                                        <apex:outputText value="{!$Label.CG_InvalidPredefinedFailure}" style="text-align:right;color: red;" rendered="{!IF(invalidFailure==true,true,false)}"/>
                                                    </div>
                                                </apex:outputPanel>
                                            </apex:outputPanel>
                                            <div style="text-align:right;color: red;" id="ErrMsg">
                                                <apex:outputText id="ErrMsgVal" value="{!$Label.CSS_failure_Unlisted_error_message}"></apex:outputText>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>

                                    </apex:outputpanel>

                                    <br/><br/>
                                    <apex:outputpanel id="CustomFailureName">
                                        <div class="col-sm-12 col-xs-12">


                                            <div class="col-sm-4 col-xs-12 cmi-tar" >
                                                <b>{!$Label.CSS_Custom_Failure_Name}</b><span class="cmi_asterisk1">*</span>

                                            </div>
                                            <div class="col-sm-4 col-xs-12">
                                                <!-- <apex:inputText id="CFname"  value="{!selectedCustFName}" styleclass="{!IF((selectedCustFName=='' || selectedCustFName==null),'apexCFNautocomplete','apexCFNautocomplete')}" onkeyup="afterCustFailureCompleteFn()"  html-placeholder="Search" style="text-align:left;"></apex:inputText>-->
                                                <!--apex:inputText id="CFname"  value="{!selectedCustFName}" styleclass="{!IF((selectedCustFName=='' || selectedCustFName==null),'apexCFNautocomplete','apexCFNautocomplete')}"   onkeyup="afterCustFailureCompleteFn()"  html-placeholder="Search" style="text-align:left;"></apex:inputText-->
                                                <!--Adding CFname's attribute to "onkeydown="return qtyPressfc1(event,this)"" by Krishna on GSSC-248-->
                                                <apex:inputText id="CFname"  onkeydown="return qtyPressfc1(event,this)" value="{!selectedCustFName}" styleclass="{!IF((selectedCustFName=='' || selectedCustFName==null),'apexCFNautocomplete','apexCFNautocomplete')}"   html-placeholder="Search" style="text-align:left;">
                                                    <apex:actionSupport event="onblur" action="{!changeCustFailures_New}" status="callPartNoStatus1" rerender="failureJob,sysCodeJavaScript,Nocallcoverage,invFailCustNameId,opPartsWarranty,AcountCode,PayCode,checkCoveragePanelNew,Fmfetchingmesg" oncomplete="afterCustFailureCompleteFn();checkCoverageButton();"></apex:actionSupport>  <!--karthik G added rerender condition 190587-->
                                                </apex:inputText>
                                                <apex:inputHidden id="HCFname" value="{!selectedCustFNameValue}"></apex:inputHidden>
                                                <apex:actionStatus id="callPartNoStatus1">
                                                    <apex:facet name="start">Loading...  <img src="/img/loading.gif" /></apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>
                                            </div>
                                            <apex:outputPanel id="invFailCustNameId">
                                                <apex:outputPanel rendered="{!IF(invalidCustFailure==true,true,false)}" >
                                                    <div>
                                                        <!-- <apex:outputText id="InvalidFNError" value="{!$Label.CG_InvalidCustomFailure}" style="text-align:right;color: red;" rendered="{!IF(invalidCustFailure==true,true,false)}"/>  -->
                                                        <apex:outputText id="InvalidFNError" value="{!$Label.CG_InvalidCustomFailure}" style="text-align:right;color: red;" />
                                                    </div>
                                                </apex:outputPanel>
                                            </apex:outputPanel>

                                        </div>
                                    </apex:outputpanel>
                                    <br/><br/>
                                    <apex:outputpanel id="OR">
                                        <div class="col-sm-6 col-xs-6">
                                            <div class="col-sm-5 col-xs-6 cmi-tar" >
                                                <b>{!$Label.CSS_Failure_Popup_OR}</b>
                                            </div>
                                        </div>
                                    </apex:outputpanel>
                                    <div class="clearfix"></div>
                                    <br/>

                                    <apex:outputPanel id="failureJob" >
                                        <div class="clearfix"></div>
                                        <div class="col-sm-6 col-xs-6">

                                            <div class="col-sm-6 col-xs-6 cmi-tar" style="padding:0px 8px">
                                                <b>{!$Label.CG_Systemcode}</b><span class="cmi_asterisk1">*</span>
                                            </div>

                                            <div class="col-sm-6 col-xs-6" style="padding:0px 22px">

                                                <!--apex:inputtext value="{!selectedSysCode}"  disabled="{!IF(selectedCustFName != null && selectedCustFName != '', true, false)}" styleclass="{!IF((blankField==true && (selectedSysCode=='' || selectedSysCode==null)),'apexSCautocomplete showRedBorder','apexSCautocomplete')}" id="sysCode" onchange="afterCompleteFunction();" html-placeholder="Search" style="text-align:left;"/--> <!--onchange="enableChkCoverageButton();"-->
                                                <apex:inputtext value="{!selectedSysCode}"  disabled="{!IF(selectedCustFName != null && selectedCustFName != '', true, false)}" styleclass="{!IF((blankField==true && (selectedSysCode=='' || selectedSysCode==null)),'apexSCautocomplete showRedBorder','apexSCautocomplete')}" id="sysCode"  html-placeholder="Search" style="text-align:left;">
                                                    <apex:actionSupport event="onblur" action="{!changeSystemcode_New}" status="callPartNoStatus3" rerender="loadComCodeValues,invsysCode,comppcode,Nocallcoverage,opPartsWarranty,AcountCode,PayCode,checkCoveragePanelNew,Fmfetchingmesg" oncomplete="afterCompleteFunction();"></apex:actionSupport>  <!--karthik G added rerender condition 190587-->
                                                    </apex:inputText>
                                                &nbsp;&nbsp;
                                                <apex:actionStatus id="callPartNoStatus3">
                                                    <apex:facet name="start">Loading...  <img src="/img/loading.gif" /></apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>

                                            </div>
                                            <apex:outputPanel id="invsysCode">
                                                <apex:outputPanel rendered="{!IF(invalidSysCode==true,true,false)}" >
                                                    <div class="col-sm-offset-6 col-sm-6 col-xs-12">
                                                        <apex:outputText value="{!$Label.CG_InvalidSysCode}" style="text-align:right;color: red;"/>
                                                    </div>
                                                </apex:outputPanel>
                                            </apex:outputPanel>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div class="col-sm-6 col-xs-6 ">

                                            <div class="col-sm-6 col-xs-6 cmi-tar">
                                                <b>{!$Label.CG_Componentcode}</b><span class="cmi_asterisk1">*</span>
                                            </div>
                                            <apex:outputPanel id="comppcode">
                                                <div class="col-sm-6 col-xs-6" style="margin-left:0px;">
                                                    <!--apex:inputtext value="{!selectedCompCode}" disabled="{!IF(selectedCustFName != null && selectedCustFName != '', true, false)}" styleclass="{!IF((blankField==true && (selectedCompCode=='' || selectedCompCode==null)),'apexCCautocomplete showRedBorder','apexCCautocomplete')}"  id="compCode"  onchange="chkCompCode();enableChkCoverageButton();" html-placeholder="Search" style="text-align:left;" /-->
                                                    <apex:inputtext value="{!selectedCompCode}" disabled="{!IF(selectedCustFName != null && selectedCustFName != '', true, false)}" styleclass="{!IF((blankField==true && (selectedCompCode=='' || selectedCompCode==null)),'apexCCautocomplete showRedBorder','apexCCautocomplete')}"  id="compCode"  html-placeholder="Search" style="text-align:left;">
                                                        <apex:actionSupport event="onblur" action="{!checkCompCode}" status="callPartNoStatus4" rerender="invcompCode,opPartsWarranty,Nocallcoverage,AcountCode,PayCode,checkCoveragePanelNew,Fmfetchingmesg"></apex:actionSupport> <!--karthik G added rerender condition 190587-->
                                                    </apex:inputtext>
                                                    &nbsp;&nbsp;
                                                    <apex:actionStatus id="callPartNoStatus4">
                                                        <apex:facet name="start">Loading...  <img src="/img/loading.gif" /></apex:facet>
                                                        <apex:facet name="stop"></apex:facet>
                                                    </apex:actionStatus>
                                                </div>
                                            </apex:outputPanel>
                                            <apex:outputPanel id="invcompCode">
                                                <apex:outputPanel rendered="{!IF(invalidCompCode==true,true,false)}" >
                                                    <div class="col-sm-offset-6 col-sm-6 col-xs-12">
                                                        <apex:outputText value="{!$Label.CG_InvalidCompCode}" style="text-align:right;color: red;"/>
                                                    </div>
                                                </apex:outputPanel>
                                            </apex:outputPanel>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </apex:outputPanel>
                                    <br/>
                                    <!--apex:actionFunction name="chkCompCode"  action="{!checkCompCode}" rerender="invcompCode" > </apex:actionFunction-->
                                    <div class="clearfix"></div>
                                    <div class="col-sm-12 col-xs-12">
                                        <div class="col-sm-3 col-xs-12 cmi-tar">
                                            <b>{!$Label.CG_Failmode}</b><span class="cmi_asterisk1">*</span>
                                        </div>

                                        <div class="col-sm-4 col-xs-12">
                                            <!-- <apex:selectList size="1" html-placeholder="Search" style="width:150px;"/>-->
                                            <apex:inputText value="{!selectedFailMode}" styleclass="{!IF((blankField==true && (selectedFailMode=='' || selectedFailMode==null)),'xyz showRedBorder','xyz')}"   onchange="chkFailMode();" html-placeholder="Search" style="text-align:left;"/>
                                            <!--<apex:inputText /> -->
                                        </div>   
                                        <apex:outputPanel id="Fmfetchingmesg">
                                            <apex:outputPanel rendered="{!IF(((accountcodeeditonfm ==false && failmodeloadval == '' && failmodeloadval== null) || failureinfochange == true || (accountcodeeditonfm== true && (failmodeloadval == '' || failmodeloadval== null)) ) ,true,false)}">
                                                <!--{!failureinfochange}-->
                                                <apex:actionStatus startText="requesting..." id="callCheckCoverage2">
                                                    <apex:facet name="start">Fetching Coverage Details...</apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>
                                            </apex:outputPanel>  </apex:outputPanel>
                                        <apex:outputPanel id="invFailMode">
                                            <apex:outputPanel rendered="{!IF(invalidFailMode==true,true,false)}" >
                                                <div>
                                                    <apex:outputText value="{!$Label.CG_InvalidFailMode}" style="text-align:right;color: red;"/>
                                                </div>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <div class="clearfix"></div>
                                    </div>
                                    <br/><br/>
                                    <apex:actionFunction name="chkFailMode"  action="{!checkFailMode}" rerender="invFailMode,checkCoveragePanelNew,claimtypeMandatory,Nocallcoverage,claimtypeMandatory2,AcountCode,PayCode,warrantycompfailurepanel,warrantycompfailurepanelNew,AccCodeAuthorize,opPartsWarranty,accFormula,savePnl,checkCoveragePanel" status="callCheckCoverage2" > </apex:actionFunction>
                                    <!--<apex:Outputpanel id="FaultCode"> -->
                                    <div class="col-sm-12 col-xs-12">
                                        <div class="col-sm-3 col-xs-12 cmi-tar">

                                            <b>{!$Label.CSS_Fault_Code}</b><!--<div class="cmi_asterisk1">*</div>-->
                                        </div>
                                        <!-- For Story 149958 Code added by Agassi-->
                                        <apex:outputPanel id="accFormula">
                                            <div class="col-sm-4 col-xs-12" >
                                                <!--  <apex:outputPanel rendered="{!IF(selectedFaultCode != null && selectedAccFormula == false,true,false)}">
<apex:inputText value="{!selectedFaultCode}" disabled="true" style="width: 530px;"/>
</apex:outputPanel>-->

                                                <apex:outputPanel rendered="{!IF(selectedFaultCode != null &&(selectedAccFormula == false || selectedAccFormula == null) && invalidFaultCode==false,true,false)}">
                                                    <apex:inputText value="{!selectedFaultCode}" disabled="true" style="width: 500px;"/>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!IF((selectedFaultCode == null || selectedFaultCode == '') || selectedAccFormula == true || invalidFaultCode == true ,true,false)}">
                                                    <!--Commented for the defect#189730-->
                                                    <!--apex:outputPanel rendered="{!IF((selectedFaultCode == null || selectedAccFormula == true) && invalidFaultCode == true ,true,false)}"-->

                                                    <apex:inputText value="{!selectedFaultCode}" styleClass="{!IF((FCErrorval==true && (selectedFaultCode=='' || selectedFaultCode==null)),'FaultCode showRedBorder','FaultCode')}" html-placeholder="Search" style="width: 530px;" onchange="chkFaultCode();"/>

                                                </apex:outputPanel>

                                            </div>
                                            <div class="clearfix"></div>
                                            <apex:outputPanel id="invFaultCode">
                                                <apex:outputPanel rendered="{!IF(invalidFaultCode==true,true,false)}" >
                                                    <div class="col-sm-offset-3 col-sm-6">
                                                        <apex:outputText value="{!$Label.CG_InvalidFaultCode}" style="text-align:right;color: red;"/>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </apex:outputPanel>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                    </div>
                                    <br></br>
                                <apex:actionFunction name="chkFaultCode"  action="{!checkFaultCode}" rerender="invFaultCode" > </apex:actionFunction>
                                <!--End of Code Story 149958 by Agassi-->

                                <!--siva ganesh added for story GSSC-55-->
                                <div class="clearfix"></div><br></br>
                            <div class="col-sm-12 col-xs-12">
                                <div class="col-sm-3 col-xs-12 cmi-tar">
                                    <b>{!$ObjectType.CSS_Job_Order__c.fields.License_Plate__c.Label}</b>
                                </div>

                                <div class="col-sm-4 col-xs-12 ">
                                    <!--apex:selectList value="{!workJob.License_Plate__c}" size="1">
<apex:selectOptions value="{!licensePlateList}"></apex:selectOptions>
</apex:selectList-->
                                    <apex:selectList value="{!workJob.License_Plate__c}" onChange="onChangeofLicensePlateAF(this.value);" size="1" style="width:172px;">
                                        <apex:selectOptions value="{!licensePlateList}"></apex:selectOptions>
                                    </apex:selectList>



                                    <apex:actionFunction name="onChangeofLicensePlateAF" action="{!onChangeofLicensePlate}" rerender="none">
                                        <apex:param name="onChangeofLicensePlate" value="" assignTo="{!licenseplateSelected}"/>
                                    </apex:actionFunction>
                                </div><br></br>

                            <div class="clearfix"></div>
                            <apex:outputPanel id="lcerror" rendered="{!IF(showLicensePlateRequired == true,true,false)}">
                                <apex:outputText value="{!$Label.CG_License_Plate}" style="text-align:left;color:red;"/>
                            </apex:outputPanel>
                        </div>
                        <!--siva ganesh end -->

                        <!--Enf by Abhishek-->
                        <!--div style="text-align:center;">
<h4><b>{!$Label.CSS_Chooseafailcode}</b></h4>
</div>
<h4 style="padding-left:20px"><b>{!compName}</b></h4-->
                        <!--
<div class="col-sm-6 col-xs-6">
<div class="col-sm-5 col-xs-6 cmi-tar">
<b>{!$Label.CSS_Fail_Code} </b>
</div>


<div class="col-sm-6 col-xs-8">
<apex:outputPanel rendered="{!IF((fcWS != null || fcWS != ''), true,false)}">
{!failCodeSelected}
</apex:outputPanel>
<apex:outputPanel rendered="{!IF((fcWS == null || fcWS == ''), true,false)}" >
<select onchange="failcodeCheck(this.value);" style="max-width:250px;">
<apex:repeat value="{!options}" var="c" >
<apex:outputPanel rendered="{!IF(c.value==failCodeSelected,true,false)}">
<option selected = "{!failCodeSelected}" value="{!c.value}" >{!c.value}</option>
</apex:outputPanel>
<apex:outputPanel rendered="{!IF(c.value!=failCodeSelected,true,false)}">
<option value="{!c.value}" >{!c.value}</option>
</apex:outputPanel>
</apex:repeat>
</select>&nbsp;

<apex:actionFunction name="failcodeCheck" action="{!failCodeChangeGO}"  rerender="opGO, opAccCode,opPartsWarranty">
<apex:param name="onChangeflCde" value="" assignTo="{!failCodeSelected}" ></apex:param>
</apex:actionFunction>
<apex:outputPanel id="opGO">
<apex:commandlink value="{!$Label.CSS_Go}" action="{!partssave}" status="callAccountCode2" rendered="{!IF((failCodeChange == false), true,false)}"  styleclass="saveButton" style="padding:0px 4px;" reRender="warrantycompfailurepanel,warrantycompfailurepanelNew,opAccCode,opPartsWarranty,AccCodeAuthorize">
</apex:commandlink>
<apex:commandlink value="{!$Label.CSS_Go}" rendered="{!IF((failCodeChange == true), true,false)}" styleclass="cmi_lighttealbutton" style="padding:0px 4px;">
</apex:commandlink>
</apex:outputPanel>
<apex:actionStatus startText="requesting..." id="callAccountCode2">
<apex:facet name="start">Requesting...</apex:facet>
<apex:facet name="stop"></apex:facet>
</apex:actionStatus>
</apex:outputPanel>
</div>
</div> -->
                        <div class="clearfix"></div>  <br/>

                        <div style="text-align:center;">
                            <apex:outputPanel id="CoverageBtn">
                                <!--  <apex:outputpanel >-->
                                <!--<apex:outputpanel rendered="{!IF(selectedFName != null || (selectedSysCode != null && selectedCompCode != null), true, false)}">-->
                                <!--<apex:outputpanel rendered="{!IF(selectedFName != null || (selectedSysCode != null && selectedCompCode != null), true, false)}">-->
                                <!--<apex:outputpanel rendered="{!IF((selectedFName != null && selectedFName !='') || ((selectedSysCode != null && selectedSysCode != '') && (selectedCompCode != null && selectedCompCode != '')), true, false)}">-->
                                <span id="chkCoverageBtnEnabled">
                                    <!--<apex:commandButton value="{!$Label.css_Check_Coverage}"  styleClass="saveButton" action="{!checkCoverageNew}" status="callCheckCoverageNew" rerender="checkCoveragePanelNew,claimtypeMandatory,claimtypeMandatory2,AcountCode,PayCode,warrantycompfailurepanel,warrantycompfailurepanelNew,AccCodeAuthorize,opPartsWarranty,accFormula" style="margin-top:20px">--> <!--oncomplete="chkCoverage();"-->
                                    <!--</apex:commandButton>-->
                                    <apex:commandButton value="{!$Label.css_Check_Coverage}"  styleClass="saveButton" action="{!checkCoverageNew}" status="callCheckCoverageNew" rerender="checkCoveragePanelNew,claimtypeMandatory,claimtypeMandatory2,AcountCode,PayCode,warrantycompfailurepanel,warrantycompfailurepanelNew,AccCodeAuthorize,opPartsWarranty,accFormula,savePnl,checkCoveragePanel" style="margin-top:20px"> <!--oncomplete="chkCoverage();"-->
                                    </apex:commandButton>
                                </span>
                                <!--</apex:outputpanel>-->
                                <br/>
                                <apex:outputPanel id="Nocallcoverage">
                                    <apex:outputPanel rendered="{!IF((checkCoverageonfm == null || checkCoverageonfm != true ) ,true,false)}">
                                        <apex:actionStatus startText="requesting..." id="callCheckCoverageNew">
                                            <apex:facet name="start">Fetching Coverage Details...</apex:facet>
                                            <apex:facet name="stop"></apex:facet>
                                        </apex:actionStatus>
                                    </apex:outputPanel>
                                    </apex:outputpanel>
                                <!--</apex:outputpanel>-->
                                <!--<apex:outputpanel rendered="{!IF(selectedFName == null && (selectedSysCode == null && selectedCompCode == null), true,false)}">-->
                                <!--  <apex:outputpanel rendered="{!IF((selectedFName == null || selectedFName == '') || ((selectedSysCode == null || selectedSysCode == '') && (selectedCompCode == null || selectedCompCode == '')), true,false)}"> -->

                                <span id ="chkCoverageBtnDisabled">
                                    <apex:commandButton value="{!$Label.css_Check_Coverage}" styleclass="cmi_lighttealbutton" style="border:0px;font-size:14px;padding:5px 20px;line-height:0px;height:30px;"/>
                                </span>
                                <!--   </apex:outputpanel> -->


                            </apex:outputPanel>
                            <!--  </apex:outputpanel>-->
                        </div>

                        <div style="text-align:center;">
                            <apex:outputPanel id="checkCoveragePanelNew">
                                <apex:outputText rendered="{!IF((coverageFound=='true'),true,false)}"> <br/>
                                    <div>
                                        <i class="cmi-icons icon-solidCorrect" ></i>
                                        <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.css_Coverage_Found}"/></b>
                                    </div>
                                </apex:outputText>

                                <apex:outputText rendered="{!IF((errornotcovfound==true),true,false)}"> <br/>
                                    <div>

                                        <b><apex:outputText style="color:red;font-size:100%;align:center" value="Coverage Not Found"/></b>
                                    </div>
                                </apex:outputText>

                                <!--<apex:outputText rendered="{!IF((coverageFound=='false'),true,false)}"> <br/>
<div>
<i class="cmi-icons icon-solidCorrect" ></i>
<b><apex:outputText style="color:red;font-size:100%;align:center" value="{!$Label.css_No_Coverage_Found}"/></b>
</div>
</apex:outputText>-->                        
                                <apex:outputText rendered="{!IF((pleaseselacc!=false && coverageFound=='false' && (accCodeSelected == '' || accCodeSelected==null)),true,false)}"> <br/> <!-- KarthikG added pleaseselacc not to enable when taboff predefined customfailure systemcode and compcode #190587-->
                                    <div> 
                                        <i class="cmi-icons icon-solidWrong" ></i>
                                        <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.CSS_Select_Account_Code}"/></b>
                                    </div>
                                </apex:outputText>
                            </apex:outputPanel>
                            <apex:OutputPanel id="CombExists">
                                <apex:outputText rendered="{!IF((solCompExistsFlag=='true'),true,false)}"> <br/>
                                    <div class="col-sm-12 cmi-tar" style="text-align:center;">
                                        <!--<i class="cmi-icons icon-solidWrong" ></i>  -->
                                        <b><apex:outputText style="color: red ; display: block;" value="{!$Label.CSS_FailCode_AccCode}"/></b>
                                    </div>
                                </apex:outputText>
                            </apex:OutputPanel>
                            <br/><br/>
                            <!--apex:outputPanel id="warrantycompfailurepanelNew">
<apex:outputText rendered="{!warrantyCompFailure}"> <br/>
<b><apex:outputText style="color:red;align:center" value="{!$Label.CSS_WarrantyWebserviceFailureMessage}"/></b>
</apex:outputText>
</apex:outputPanel--> <br/>
                        </div>


                        <apex:outputPanel id="AcountCode">
                            <div class="col-sm-6 col-xs-6">
                                <div class="col-sm-5 col-xs-6 cmi-tar">
                                    <b>{!$Label.CSS_Account_Code}</b>
                                </div>

                                <div class="col-sm-6 col-xs-6">
                                    <!--apex:outputText rendered="{!IF((coverageFound=='true'),true,false)}">
<apex:outputText value="{!accCodeReturned}" style="width:150px;"></apex:outputText>
</apex:outputText-->                            <!--<apex:outputPanel id="accCodeReadOnly" rendered="{!IF((showDisabledAC == true), true,false)}">
<select value="{!accCodeSelected}" size="1" id="notMandatoryAC1" style="width:172px;"> <!-- Class="{!IF((blankField==true && (accCodeSelected=='' || accCodeSelected==null || accCodeSelected=='Select One')),'showRedBorder','')}" -->
                                    <!--<option value="Select One" >Select One</option>
</select>
</apex:outputPanel>-->                       
                                    <apex:outputPanel rendered="{!IF((accCodeSelected == '' || accCodeSelected == 'Select One' || accCodeSelected != 'Select One' ) && (showDisabledAC == true), true,false)}">

                                        <apex:selectList value="{!accCodeSelected}" onChange="onaccCodeChanged(this.value);" size="1" style="width:172px;">
                                            <apex:selectOptions value="{!accCodes}"></apex:selectOptions>
                                        </apex:selectList>





                                    </apex:outputPanel>
                                    <!-- {!compont.CSS_Account_Formula__c}-->
                                    <apex:outputPanel id="accCodeEditable" rendered="{!IF((showDisabledAC == false), true,false)}">
                                        <!--Commented below line As per Task #191282,-By RAJESH 23rd Aug 2019-->         
                                        <!--     <apex:outputText value="{!compont.CSS_Account_Formula__c}" id="notMandatoryAC2" rendered="{!IF((compont.CSS_Account_Formula__c != null && (coverageFound=='' || coverageFound==null)),true,false)}"/>-->
                                        <!--End As per Task #191282,-By RAJESH 23rd Aug 2019-->             
                                        <!--Added code for getting account codes in popup,when coverageFound got ture value as per defect #154609,-By RAJESH 19th July 2018 -->
                                        <!--<apex:outputText value="{!accCodeSelected}" id="notMandatoryAC3" rendered="{!IF(coverageFound=='true',true,false)}"/>-->
                                        <apex:outputText rendered="{!IF(coverageFound=='true',true,false)}">

                                            <apex:selectList value="{!accCodeSelected}" id="notMandatoryAC3" onChange="onaccCodeChanged(this.value);" size="1" style="width:172px;">
                                                <apex:selectOptions value="{!accCodes}"></apex:selectOptions>
                                            </apex:selectList>
                                        </apex:outputText>
                                        <!--End-->
                                        <apex:outputText rendered="{!IF(coverageFound=='false',true,false)}">

                                            <apex:selectList value="{!accCodeSelected}" id="notMandatoryAC4" onChange="onaccCodeChanged(this.value);" size="1" style="width:172px;"> <!-- styleClass="{!IF((blankField==true && (accCodeSelected=='' || accCodeSelected==null || accCodeSelected=='Select One')),'showRedBorder','')}" -->
                                                <apex:selectOptions value="{!accCodes}"></apex:selectOptions>
                                            </apex:selectList>
                                        </apex:outputText>
                                    </apex:outputPanel>
                                    <apex:actionFunction name="onaccCodeChanged" action="{!getPayCodesonAccCodeChange}" rerender="accCodeEditable,PayCode,AccCodeAuthorize,CombExists,FaultCode,opPartsWarranty,checkCoveragePanel,accFormula,checkCoveragePanelNew" > <!-- oncomplete="manDatoryAConcomplete(this.value)"> checkCoveragePanel-->
                                        <apex:param name="onaccCodeChangedAssign" value="" assignTo="{!accCodeSelected}"/>

                                        <!--<apex:param name="onaccCodeChangedAssign1" value="" assignTo="{!coverageType}"/>-->
                                    </apex:actionFunction>

                                    <!--<apex:inputText /> -->
                                </div>
                            </div>
                        </apex:outputPanel>

                        <apex:outputpanel rendered="{!IF($Setup.css_header_nav__c.RSWButtonEnable__c==false && workJob.Account__r.ERP_System__c == 'One BMS',true,false)}">
                            <!-- <apex:outputPanel rendered="{!IF(NOT(CONTAINS(ProfileName,'Dealer')), true,false)}"> -->
                            <apex:outputPanel id="claimtypeMandatory" >
                                <apex:outputPanel rendered="{!IF(((selectedFName!=null || selectedFName!='') && (accCodeSelected=='' || accCodeSelected==null || accCodeSelected=='Select One')),'true','false')}">
                                    <div class="col-sm-6 col-xs-6">
                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                            <b>{!$Label.CG_Claimtype}</b>
                                        </div>

                                        <div class="col-sm-6 col-xs-6" style="margin-left:0px;">
                                            <!-- <Select size="1" style="width:172px;" disabled="true">-->
                                            <!--    <selectOption value="Select One" />-->
                                            <!-- <apex:outputPanel id="claimTypeReadOnly" rendered="{!IF((showDisabledAC == true), true,false)}">
<select value="{!claimTypeSelected}" disabled="true" size="1" style="width:172px;">
<option value="Select One" >Select One</option>
</select>
</apex:outputPanel>
DisabledAC:{!showDisabledAC}
<apex:outputPanel rendered="{!IF((showDisabledAC == false), true,false)}">-->
                                            <apex:selectList value="{!claimTypeSelected}" size="1" style="width:172px;">
                                                <apex:selectOptions value="{!claimTypes}"></apex:selectOptions>
                                            </apex:selectList>
                                            <!--</apex:outputPanel>-->
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </apex:outputPanel>
                            </apex:outputPanel>

                            <apex:outputPanel id="claimtypeMandatory2">
                                <apex:outputPanel rendered="{!IF((accCodeSelected!='' && accCodeSelected!=null && accCodeSelected!='Select One'),'true','false')}">

                                    <div class="col-sm-6 col-xs-6">
                                        <div class="col-sm-5 col-xs-6 cmi-tar">
                                            <b>{!$Label.CG_Claimtype}</b><span class="cmi_asterisk1">*</span>
                                        </div>

                                        <div class="col-sm-6 col-xs-6" style="margin-left:0px;">
                                            <apex:selectList value="{!claimTypeSelected}" size="1" style="width:172px;" styleClass="{!IF((blankField==true && (claimTypeSelected=='' || claimTypeSelected==null)),'showRedBorder','')}">
                                                <apex:selectOptions value="{!claimTypes}"></apex:selectOptions>
                                            </apex:selectList>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </apex:outputPanel>
                            </apex:outputPanel>
                        </apex:outputpanel>

                        <div class="clearfix"></div>  <br/>
                        <!--<apex:outputPanel rendered="{!IF(NOT(CONTAINS(ProfileName,'Dealer')), true,false)}"> -->  <!--152403-->
                        <!--<apex:outputpanel id="PayCode" rendered="{!IF((coverageType != 'POL' && coverageType != 'OTH'), true,false)} && {!IF(NOT(CONTAINS(ProfileName,'Dealer')), true,false)}"> -->
                        <!--<apex:outputpanel id="PayCode" rendered="{!IF((coverageType != 'POL' && coverageType != 'OTH') && (NOT(CONTAINS(ProfileName,'Dealer'))), true,false)}">-->
                        <apex:outputpanel id="PayCode" rendered="{!IF((coverageType != 'POL' && coverageType != 'OTH') && ($Setup.css_header_nav__c.RSWButtonEnable__c==false) && (workJob.Account__r.ERP_System__c == 'One BMS'),true,false)}">
                            <!--apex:OutputText rendered="{!IF(((accCodeSelected != null && accCodeSelected != '' && accCodeSelected != 'Select One') && coverageType != 'POL'), true,false)}"-->
                            <apex:outputPanel rendered="{!IF(((selectedFName!=null || selectedFName!='') && (accCodeSelected=='' || accCodeSelected==null || accCodeSelected=='Select One')),'true','false')}">

                                <div class="col-sm-6 col-xs-6" style="margin-bottom:15px;">
                                    <div class="col-sm-5 col-xs-6 cmi-tar">
                                        <b>{!$Label.CSS_Pay_Code}</b>
                                    </div>

                                    <div class="col-sm-6 col-xs-6" >
                                        <apex:selectList value="{!payCodeSelected}" size="1" style="width:172px;">
                                            <apex:selectOptions value="{!lstPCvalues}"></apex:selectOptions>
                                        </apex:selectList>
                                    </div>
                                </div>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF((accCodeSelected!='' && accCodeSelected!=null && accCodeSelected!='Select One'),'true','false')}">

                                <div class="col-sm-6 col-xs-6" style="margin-bottom:15px;">
                                    <div class="col-sm-5 col-xs-6 cmi-tar">
                                        <b>{!$Label.CSS_Pay_Code}</b>
                                        <span id="asteriskPayCode" class="cmi_asterisk1 mandatoryPaycode">*</span>
                                    </div>
                                    <div class="col-sm-6 col-xs-6" >
                                        <apex:selectList value="{!payCodeSelected}" size="1" style="width:172px;" styleClass="{!IF((blankField==true && (payCodeSelected=='' || payCodeSelected==null) && (accCodeSelected != '' || accCodeSelected!=null || accCodeSelected!='Select One')),'showRedBorder','')}">
                                            <apex:selectOptions value="{!lstPCvalues}"></apex:selectOptions>
                                        </apex:selectList>
                                    </div>
                                </div>
                            </apex:outputPanel>
                        </apex:outputpanel>
                        <!--  </apex:outputPanel> -->

                        <!--
<apex:outputPanel id="opAccCode">

<div class="col-sm-offset-1 col-sm-3 cmi-tar">
<b>{!$Label.CSS_Account_Code}</b>
</div>
<div class="col-sm-8">
<apex:outputPanel rendered="{!IF((failCodeSelected != null || failCodeSelected != '' || failCodeSelected != 'Select One') && (accCodeWS != null || accCodeWS != '') && (showDisabledAC == true), true,false)}">
{!accCodeWS}
</apex:outputPanel>
<apex:outputPanel rendered="{!IF((failCodeSelected == null || failCodeSelected == '' || failCodeSelected == 'Select One') && (accCodeWS == null || accCodeWS == '') || (showDisabledAC == false), true,false)}">
<select value="{!accCodeSelected}" disabled="true" size="1" style="width:60%;">
<option value="Select One" >Select One</option>
</select>
</apex:outputPanel>
<apex:outputPanel rendered="{!IF((failCodeSelected != null && failCodeSelected != '' && failCodeSelected != 'Select One') && (accCodeWS == null || accCodeWS == '' || accCodeWS == ' ') && (showDisabledAC == true), true,false)}">
<select value="{!accCodeSelected}" onChange="onaccCodeChanged(this.value);" style="max-width:250px;">
<apex:repeat value="{!accCodes}" var="c" >
<apex:outputPanel rendered="{!IF(c.value==accCodeSelected,true,false)}">
<option selected = "{!accCodeSelected}" value="{!c.value}" >{!c.value}</option>
</apex:outputPanel>
<apex:outputPanel rendered="{!IF(c.value!=accCodeSelected,true,false)}">
<option value="{!c.value}" >{!c.value}</option>
</apex:outputPanel>
</apex:repeat>
</select>
<apex:actionFunction name="onaccCodeChanged" action="{!clearPopup}" rerender="AccCodeAuthorize,opPartsWarranty,JobPlanOverviewEdit,checkCoveragePanel,checkCoveragePanelNew">
<apex:param name="onaccCodeChangedAssign" value="" assignTo="{!accCodeSelected}"/>

</apex:actionFunction>
</apex:outputPanel>
</div>
<div class="clearfix"></div>
</apex:outputPanel> -->
                        <br/>
                        <apex:outputpanel id="AccCodeAuthorize">
                            <apex:outputpanel rendered="{!IF(((accCodeSelected != null && accCodeSelected != '') && (coverageType == 'POL' || coverageType == 'OTH') && (!CONTAINS(accCodeSelected,'62') && !CONTAINS(accCodeSelected,'35') && !CONTAINS(accCodeSelected,'97') && !CONTAINS(accCodeSelected,'41'))),true,false)}"> <!-- 146123 Kalpana-->
                                <hr size="10px" color="gray"/>
                                <div style="text-align:center;">
                                    <h4><b>{!$Label.CSS_AuthNeedForAccCode}</b></h4>
                                </div>
                                <div class="clearfix"></div> <br/>
                                <!--<div class="col-sm-5 cmi-tar">--><div class="col-sm-6 col-xs-6">


                                <div class="col-sm-5 col-xs-6 cmi-tar">
                                    <apex:outputLabel value="{!$ObjectType.CSS_Solution_Component__c.fields.Authorization_Number__c.Label}"  />
                                </div>
                                <!--<div class="col-sm-7 col-xs-12">--><div class="col-sm-6 col-xs-6">
                                <apex:inputField value="{!compont.Authorization_Number__c}" html-maxlength="30" styleclass="form-control cmi-cal css_ipfiel_size"/>
                                </div>
                                </div>
                                <div class="col-sm-6 col-xs-6">
                                    <!--<div class="clearfix"></div>  <br/> -->
                                    <div class="col-sm-5 col-xs-6 cmi-tar">
                                        <!-- <div class="col-sm-5 cmi-tar">-->
                                        <apex:outputLabel value="{!$ObjectType.CSS_Solution_Component__c.fields.Approval_Code__c.Label}"/><span class="cmi_asterisk1">*</span> <!-- 146123 Kalpana-->
                                    </div>
                                    <!-- <div class="col-sm-7 col-xs-12">--><div class="col-sm-6 col-xs-6" > <!-- 146123 Kalpana-->
                                    <apex:outputPanel id="opAppcodemsg">
                                        <apex:outputText id="ErrMsg" rendered="{!IF((invalidAppCode=='true'),true,false)}">
                                            <apex:inputField value="{!compont.Approval_Code__c}" html-maxlength="30" styleclass="{!IF((blankField==true && (compont.Approval_Code__c=='' || compont.Approval_Code__c==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" onchange="onChangeofappCode(this.value);"/>
                                            <!--<h4 style="color: red ; display: block;">{!$Label.css_Approval_Code_is_invalid}</h4>-->
                                            <b><apex:outputText value="{!$Label.css_Approval_Code_is_invalid}" style="color: red ; display: block;"/></b>
                                        </apex:outputText>
                                        <apex:outputText id="NoMsg" rendered="{!IF((invalidAppCode=='false'),true,false)}">
                                            <apex:inputField value="{!compont.Approval_Code__c}" html-maxlength="30" styleclass="{!IF((blankField==true && (compont.Approval_Code__c=='' || compont.Approval_Code__c==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" onchange="onChangeofappCode(this.value);"/>
                                        </apex:outputText>
                                        <apex:outputText id="NoMsg1" rendered="{!IF((invalidAppCode==''),true,false)}">
                                            <apex:inputField value="{!compont.Approval_Code__c}" html-maxlength="30" styleclass="{!IF((blankField==true && (compont.Approval_Code__c=='' || compont.Approval_Code__c==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" onchange="onChangeofappCode(this.value);"/>
                                        </apex:outputText>
                                    </apex:outputPanel>
                                    </div>
                                </div>
                                <div class="clearfix"></div> <br/>
                                <!--<apex:outputPanel rendered="{!IF((ProfileName=='CSS_Distributor_Advanced' || ProfileName=='CSS_Service_Advanced' || ProfileName=='CSS_Service_Supervisor' || ProfileName=='CSS_Service_Technician' || ProfileName=='CSS_Distributor_Technician' || ProfileName=='System Administrator'), true,false)}">-->
                                <apex:outputPanel rendered="{!IF((NOT(CONTAINS(ProfileName,'Dealer')) && workJob.Account__r.ERP_System__c == 'One BMS'), true,false)}">
                                    <!--<div class="col-sm-5 cmi-tar">-->
                                    <div class="col-sm-6 col-xs-6">
                                        <div class="col-sm-5 col-xs-6 cmi-tar" >
                                            <apex:outputLabel value="{!$ObjectType.CSS_Solution_Component__c.fields.Pay_Code__c.Label}"/><span class="cmi_asterisk1">*</span>  <!-- 146123 Kalpana-->
                                        </div>
                                        <!--<div class="col-sm-7 col-xs-12">--><div class="col-sm-6 col-xs-6" >
                                        <select value="{!compont.Pay_Code__c}" onchange="payCodeSelect(this.value);" style="width:160px;padding:0px" class="{!IF((blankField==true && (payCodeSelected=='Select One' || payCodeSelected=='' || payCodeSelected==null)),'showRedBorder','form-control cmi-cal css_ipfiel_size')}">

                                            <apex:outputPanel rendered="{!IF(compont.Pay_Code__c == 'Select One' || compont.Pay_Code__c == '' || (compont.Pay_Code__c != 'E' && compont.Pay_Code__c != 'G' && compont.Pay_Code__c != 'P' && compont.Pay_Code__c != 'S' && compont.Pay_Code__c != 'T'),true,false)}">
                                                <option selected = "Select One" value="Select One" >Select One</option>
                                                <option value="E" >E</option>
                                                <option value="G" >G</option>
                                                <option value="P" >P</option>
                                                <option value="S" >S</option>
                                                <option value="T" >T</option>
                                            </apex:outputPanel>

                                            <apex:outputPanel rendered="{!IF(compont.Pay_Code__c != 'Select One' && compont.Pay_Code__c != '' && compont.Pay_Code__c == 'E',true,false)}">
                                                <option value="Select One" >Select One</option>
                                                <option selected = "{!compont.Pay_Code__c}" value="E" >E</option>
                                                <option value="G" >G</option>
                                                <option value="P" >P</option>
                                                <option value="S" >S</option>
                                                <option value="T" >T</option>

                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(compont.Pay_Code__c != 'Select One' && compont.Pay_Code__c != '' && compont.Pay_Code__c == 'G',true,false)}">
                                                <option value="Select One" >Select One</option>
                                                <option value="E" >E</option>
                                                <option selected = "{!compont.Pay_Code__c}" value="G" >G</option>
                                                <option value="P" >P</option>
                                                <option value="S" >S</option>
                                                <option value="T" >T</option>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(compont.Pay_Code__c != 'Select One' && compont.Pay_Code__c != '' && compont.Pay_Code__c == 'P',true,false)}">
                                                <option value="Select One" >Select One</option>
                                                <option value="E" >E</option>
                                                <option value="G" >G</option>
                                                <option selected = "{!compont.Pay_Code__c}" value="P" >P</option>
                                                <option value="S" >S</option>
                                                <option value="T" >T</option>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(compont.Pay_Code__c != 'Select One' && compont.Pay_Code__c != '' && compont.Pay_Code__c == 'S',true,false)}">
                                                <option value="Select One" >Select One</option>
                                                <option value="E" >E</option>
                                                <option value="G" >G</option>
                                                <option value="P" >P</option>
                                                <option selected = "{!compont.Pay_Code__c}" value="S" >S</option>
                                                <option value="T" >T</option>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(compont.Pay_Code__c != 'Select One' && compont.Pay_Code__c != '' && compont.Pay_Code__c == 'T',true,false)}">
                                                <option value="Select One" >Select One</option>
                                                <option value="E" >E</option>
                                                <option value="G" >G</option>
                                                <option value="P" >P</option>
                                                <option value="S" >S</option>
                                                <option selected = "{!compont.Pay_Code__c}" value="T" >T</option>
                                            </apex:outputPanel>
                                        </select>
                                        <apex:actionFunction name="payCodeSelect" rerender="savePnl">
                                            <apex:param name="onChangePayCode" value="" assignTo="{!payCodeSelected}" ></apex:param>
                                        </apex:actionFunction>
                                        </div>
                                    </div>
                                </apex:outputPanel>
                                <div class="clearfix"></div>
                            </apex:outputpanel>
                        </apex:outputpanel>
                        <apex:actionFunction name="onChangeofappCode" action="{!onChangeofAppCode}" rerender="opAppcodemsg,opPartsWarranty,checkCoveragePanel"> <!--JobPlanOverviewEdit  Karthik G Commented as part of defect 190464-->
                            <apex:param name="onaccCodeChangedAssign" value="" assignTo="{!appCodeSelected}"/>
                            <!--<apex:param name="onaccCodeChangedAssign1" value="" assignTo="{!coverageType}"/>-->
                        </apex:actionFunction>
                        <apex:outputpanel id="opPartsWarranty" >

                            <apex:outputpanel rendered="{!IF((accCodeSelected != null && accCodeSelected != ''  && (CONTAINS(accCodeSelected,'62') || CONTAINS(accCodeSelected,'35') || CONTAINS(accCodeSelected,'97') || CONTAINS(accCodeSelected,'41') || CONTAINS(accCodeSelected,'52'))) || (accCodeWS != null && accCodeWS != '' && (CONTAINS(accCodeWS,'62') || CONTAINS(accCodeWS,'35') || CONTAINS(accCodeWS,'97') || CONTAINS(accCodeWS,'41') || CONTAINS(accCodeWS,'52'))), true, false)}">

                                <!-- added by venkat for the story #154948-->
                                <!-- Commented because of radio button removed based on account codes selection Defect No: 173587 -->
                                <!--  <div class="col-sm-offset-2 col-sm-10">

<apex:outputpanel rendered="{!IF(accCodeSelected != null && accCodeSelected != '' && ((CONTAINS(accCodeSelected,'35') && $Setup.css_header_nav__c.RSWButtonEnable__c == true)  || (CONTAINS(accCodeSelected,'41')) && $Setup.css_header_nav__c.RSWButtonEnable__c == true ) || (accCodeWS != null && accCodeWS != '' &&  (CONTAINS(accCodeWS,'35')&& $Setup.css_header_nav__c.RSWButtonEnable__c == true) || (CONTAINS(accCodeWS,'41') && $Setup.css_header_nav__c.RSWButtonEnable__c == true )), true, false)}">
<apex:outputpanel rendered="{!IF((partsWarranty=='New Parts Warranty'),true,false)}">
<input  type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');" checked="checked"/>
{!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
<input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');" />
{!$label.css_Recon_Parts_Warranty}
</apex:outputpanel>
<apex:outputpanel rendered="{!IF((partsWarranty=='Recon Parts Warranty'),true,false)}">
<input type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');" />
{!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
<input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');" checked="checked"/>
{!$label.css_Recon_Parts_Warranty}
</apex:outputpanel>
<apex:outputpanel rendered="{!IF((partsWarranty==''),true,false)}">
<apex:outputpanel rendered="{!IF(CONTAINS(accCodeSelected,'62') || CONTAINS(accCodeSelected,'35') ,true,false)}">
<input type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');" checked="checked"/>
{!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
<input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');"/>
{!$label.css_Recon_Parts_Warranty}
</apex:outputpanel>
<apex:outputpanel rendered="{!IF(CONTAINS(accCodeSelected,'97') || CONTAINS(accCodeSelected,'41') ,true,false)}">
<input type="radio" value="New Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('New Parts Warranty');" />
{!$label.css_New_Parts_Warranty} &nbsp; &nbsp;
<input type="radio" value="Recon Parts Warranty" name="PartsWarranty" onclick="callPartsWarranty('Recon Parts Warranty');" checked="checked"/>
{!$label.css_Recon_Parts_Warranty}
</apex:outputpanel>
</apex:outputpanel>
</apex:outputpanel>
</div>
<apex:actionFunction name="callPartsWarranty" reRender="none">
<apex:param name="partsWarr" value="partsWarr" assignTo="{!partsWarranty}"></apex:param>
</apex:actionFunction> -->
                                <div class="clearfix"></div> <br/>
                                <div class="col-sm-8">
                                    <apex:outputpanel rendered="{!IF((accCodeSelected != null && accCodeSelected != '' && (CONTAINS(accCodeSelected,'52'))) || (accCodeWS != null && accCodeWS != '' && (CONTAINS(accCodeWS,'52'))),false,true)}"><!--added by Sneha #177450-->
                                        <apex:outputLabel value="{!$Label.css_Did_customer}" />
                                    </apex:outputpanel>
                                </div>

                                <div class="col-sm-4" style="margin-left:-50px;">
                                    <apex:outputpanel rendered="{!IF((custSelect=='Yes'),true,false)}">
                                        <input  type="radio" value="Possession Yes" name="custPossesion" onclick="callCustPossession('Yes');" checked="checked"/>
                                        {!$label.css_Yes} &nbsp; &nbsp;
                                        <input type="radio" value="Possession No" name="custPossesion" onclick="callCustPossession('No');" />
                                        {!$label.css_No}
                                    </apex:outputpanel>
                                    <apex:outputpanel rendered="{!IF((custSelect=='No'),true,false)}">
                                        <input  type="radio" value="Possession Yes" name="custPossesion" onclick="callCustPossession('Yes');" />
                                        {!$label.css_Yes} &nbsp; &nbsp;
                                        <input type="radio" value="Possession No" name="custPossesion" onclick="callCustPossession('No');" checked="checked"/>
                                        {!$label.css_No}
                                    </apex:outputpanel>
                                    <apex:outputpanel rendered="{!IF((custSelect==''),true,false)}">
                                        <apex:outputpanel rendered="{!IF(CONTAINS(accCodeSelected,'62') || CONTAINS(accCodeSelected,'97') ,true,false)}">
                                            <input type="radio" value="Possession Yes" name="custPossesion" onclick="callCustPossession('Yes');" checked="checked"/>
                                            {!$label.css_Yes} &nbsp; &nbsp;
                                            <input type="radio" value="Possession No" name="custPossesion" onclick="callCustPossession('No');"/>
                                            {!$label.css_No}
                                        </apex:outputpanel>
                                        <apex:outputpanel rendered="{!IF(CONTAINS(accCodeSelected,'35') || CONTAINS(accCodeSelected,'41') ,true,false)}">
                                            <input type="radio" value="Possession Yes" name="custPossesion" onclick="callCustPossession('Yes');" />
                                            {!$label.css_Yes} &nbsp; &nbsp;
                                            <input type="radio" value="Possession No" name="custPossesion" onclick="callCustPossession('No');" checked="checked"/>
                                            {!$label.css_No}
                                        </apex:outputpanel>
                                    </apex:outputpanel>
                                </div>
                                <apex:actionFunction name="callCustPossession" reRender="none">
                                    <apex:param name="custPossession" value="custPossession" assignTo="{!custSelect}"></apex:param>
                                </apex:actionFunction>
                                <div class="clearfix"></div> <br/>
                                <div class="col-sm-5 cmi-tar">
                                    <apex:outputLabel value="{!$Label.CSS_PartWarrantyStartDate}" /><span class="cmi_asterisk1">*</span>
                                </div>
                                <div class="col-sm-7 col-xs-12" style="margin-bottom:4px;">
                                    <apex:inputField id="warrantyDate" value="{!compont.Part_Warranty_Start_Date__c}"  style="padding:0px;" styleclass="form-control cmi-cal css_ipfiel_size" showDatePicker="false"
                                                     onfocus="DatePicker.pickDate(false, this , false);" html-placeholder="MM/DD/YYYY" onchange="enableCheckCoverage(),onchangePartWarranty(this.value,'{!workjob.Failure_Date__c}','{!compont.Failure_Date__c}');" >
                                    </apex:inputField>&nbsp;
                                    <div class="input-group date" style="display:inherit;height:0;"  data-provide="datepicker" data-date-format="{!datebyLocaleValue}">
                                        <!-- <div class="input-group date" style="display:inherit;"  data-provide="datepicker" data-date-format="{!datebyLocaleValue}">-->
                                        <!--  <apex:inputField value="{!compont.Part_Warranty_Start_Date__c}" id="warrantyDate" onchange="enableCheckCoverage(),onchangePartWarranty(this.value,'{!workjob.Failure_Date__c}','{!compont.Failure_Date__c}');" styleclass="{!IF((blankField==true && compont.Part_Warranty_Start_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false"/>-->
                                        <span class="input-group-addon" style="display: inline; border: 0px; background:none;">

                                            <apex:input value="{!warrStDtHidden}" onchange="assignWSDtoActual(this.value),onchangePartWarranty(this.value,'{!workjob.Failure_Date__c}','{!compont.Failure_Date__c}'),enableCheckCoverage();"   style="display:none" />
                                            <span class="cmi_calendar-icon" style="top: -40px;left: 136px"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-sm-7 col-xs-12" style="margin-left:108px">
                                    <apex:outputPanel id="checkPartsWarrDt">
                                        <apex:outputPanel rendered="{!checkPartsWarrStartDt}">
                                            <b> <span style="color:red">{!$Label.Parts_Warranty_Start_Date_less_than_Current_Date}</span> </b>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </div>

                                <div class="clearfix"></div>
                                <div class="col-sm-5 cmi-tar" style="word-wrap: break-word;">
                                    <apex:outputLabel value="{!$Label.CSS_Failure_date}" /><span class="cmi_asterisk1">*</span>
                                </div>
                                <apex:outputpanel rendered="{!IF(compont.Failure_Date__c==null,true,false)}" id="FailDate">
                                    <div class="col-sm-7 col-xs-12" style="margin-bottom:4px;">
                                        <!-- <apex:inputField id="FailDateHide" value="{!workjob.Failure_Date__c}" onchange="CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();" styleclass="{!IF((blankField==true && workjob.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;-->
                                        <apex:inputField id="FailureDt" value="{!workjob.Failure_Date__c}" onchange="CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();" styleclass="{!IF((blankField==true && workjob.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" onfocus="DatePicker.pickDate(false, this , false);"  /> &nbsp;
                                        <div class="input-group date" style="display:inherit;height:0;" id="failureDate" data-provide="datepicker" data-date-format="{!datebyLocaleValue}">
                                            <!-- <apex:inputField id="FD" value="{!workjob.Failure_Date__c}" onchange="CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();" styleclass="{!IF((blankField==true && workjob.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;-->
                                            <!-- <apex:inputField value="{!workjob.Failure_Date__c}" onchange="CompareDates(this.value),enableCheckCoverage();" styleclass="{!IF((blankField==true && workjob.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;-->
                                            <!--   <apex:inputField id="FailDateHide" value="{!workjob.Failure_Date__c}" onchange="CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();" styleclass="{!IF((blankField==true && workjob.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;-->
                                            <span class="input-group-addon" style="width:100px; border: 0px;background: none;">
                                                <apex:input value="{!FailureDtHidden}" onchange="assthiddenFDval(this.value),CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();"  style="display:none"/>
                                                <span class="cmi_calendar-icon" style="top: -40px;left: 110px"></span>
                                            </span>
                                        </div>
                                    </div>
                                </apex:outputpanel>

                                <apex:outputpanel rendered="{!IF(compont.Failure_Date__c!=null,true,false)}" id="FailDate1">
                                    <div class="col-sm-7 col-xs-12" style="margin-bottom:4px;">
                                        <apex:inputField id="FailDateHide1" value="{!compont.Failure_Date__c}" onchange="CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();" styleclass="{!IF((blankField==true && compont.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" onfocus="DatePicker.pickDate(false, this , false);" /> &nbsp;
                                        <div class="input-group date" style="display:inherit;height:0;" id="failureDate" data-provide="datepicker" data-date-format="{!datebyLocaleValue}">
                                            <!-- <apex:inputField id="FDD" value="{!compont.Failure_Date__c}" onchange="CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();" styleclass="{!IF((blankField==true && compont.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;-->
                                            <!--<apex:inputField value="{!compont.Failure_Date__c}" onchange="CompareDates(this.value),enableCheckCoverage();" styleclass="{!IF((blankField==true && compont.Failure_Date__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}" showDatePicker="false" /> &nbsp;-->
                                            <span class="input-group-addon" style="width:100px; border: 0px; background: none;">
                                                <apex:input value="{!FailureDtHidden}" onchange="AssthiddenFDDval(this.value),CompareDates(this.value,'{!compont.Part_Warranty_Start_Date__c}'),enableCheckCoverage();"  style="display:none"/>
                                                <span class="cmi_calendar-icon" style="top: -40px;left: 110px"></span>
                                            </span>
                                        </div>
                                    </div>
                                </apex:outputpanel>
                                  
                                <b><apex:outputText value="{!$Label.CSS_Failure_Date_cannot_be_greater_than_today}" rendered="{!higherdateErrFlag}" style="color: red ; display: block;"/></b>
                                <b><apex:outputText value="{!$Label.Css_Failure_Date_cannot_be_earlier_than_Part_Warranty_Start_Date}" rendered="{!dateErrFlag}" style="color: red ; display: block;"/></b>
                                <div class="clearfix"></div>
                                <div class="col-sm-5 cmi-tar">
                                    <!--<apex:outputLabel value="{!$Label.CSS_Failure_point}"  /> -->
                                    <apex:outputLabel value="{!$Label.CSS_Failure_Pointc}"/><span class="cmi_asterisk1">*</span>
                                </div>
                                <div class="col-sm-7 col-xs-12">
                                    <apex:inputField value="{!compont.Failure_Point__c}" style="padding:0px" html-maxlength="8" onkeydown="return valFailurePoint(event);" onkeyup="enableCheckCoverage();" styleclass="{!IF((blankField==true && compont.Failure_Point__c==null),'showRedBorder','form-control cmi-cal css_ipfiel_size')}"/>
                                </div>

                                <!-- Added Condition to display error message based on coverage type(CAP) -- GAP 148103 Rajasekhar H -->
                                <apex:outputPanel rendered="{!errormsgfailpoint}">
                                    <apex:outputText style="color: red ; display: block;" value="{!$Label.CSS_Failure_Begin_Point}"></apex:outputText>
                                </apex:outputPanel>
                                <!-- END -->

                                <div class="clearfix"></div>
                                <div class="col-sm-5 cmi-tar" style="margin-top:10px;">
                                    <apex:outputLabel value="Failure Measure" /><span class="cmi_asterisk1">*</span>
                                </div>
                                <div class="col-sm-7 col-xs-12" style="margin-top:10px;">
                                    <apex:outputpanel rendered="{!IF((failureMeasure=='Miles'),true,false)}">
                                        <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" checked="checked"/>
                                        {!$Label.CSS_Miles} &nbsp; &nbsp;
                                        <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" />
                                        {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                        <input type="radio" value="{!$Label.css_hours}" name="failMeasure" onclick="callFailureMeasure('Hours');" />
                                        {!$Label.css_hours}
                                    </apex:outputpanel>
                                    <apex:outputpanel rendered="{!IF((failureMeasure=='Kilometers'),true,false)}">
                                        <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" />
                                        {!$Label.CSS_Miles} &nbsp; &nbsp;
                                        <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" checked="checked"/>
                                        {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                        <input type="radio" value="{!$Label.css_hours} " name="failMeasure" onclick="callFailureMeasure('Hours');" />
                                        {!$Label.css_hours}
                                    </apex:outputpanel>
                                    <apex:outputpanel rendered="{!IF((failureMeasure=='Hours'),true,false)}">
                                        <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" />
                                        {!$Label.CSS_Miles} &nbsp; &nbsp;
                                        <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" />
                                        {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                        <input type="radio" value="{!$Label.css_hours}" name="failMeasure" onclick="callFailureMeasure('Hours');" checked="checked"/>
                                        {!$Label.css_hours}
                                    </apex:outputpanel>
                                    <!--FM : {!failureMeasure}-->
                                    <apex:outputpanel rendered="{!IF((failureMeasure==''),true,false)}">
                                        <input  type="radio" value="Miles" name="failMeasure" onclick="callFailureMeasure('Miles');" checked="checked"/>
                                        {!$Label.CSS_Miles} &nbsp; &nbsp;
                                        <input type="radio" value="Kilometers" name="failMeasure" onclick="callFailureMeasure('Kilometers');" />
                                        {!$Label.CSS_Kilometers} &nbsp; &nbsp;
                                        <input type="radio" value="{!$Label.css_hours}" name="failMeasure" onclick="callFailureMeasure('Hours');" />
                                        {!$Label.css_hours}
                                    </apex:outputpanel>
                                </div>
                                <apex:actionFunction name="enableCheckCoverage" reRender="checkCoverageButton"/>
                                <apex:actionFunction name="callFailureMeasure" reRender="none">
                                    <apex:param name="failPointMeasure" value="failPointMeasure" assignTo="{!failureMeasure}"></apex:param>
                                </apex:actionFunction>
                                <apex:actionFunction name="CompareDatesfun" action="{!CompareDates}" reRender="checkPartsWarrDt,FDD,FD,FailDate,FailDate1,opPartsWarranty">
                                    <apex:param name="FailureDate" value="" assignTo="{!failureDate}"></apex:param>
                                    <apex:param name="WarrantyDate" value="" assignTo="{!warrantyDate}"></apex:param>
                                </apex:actionFunction>

                                <!--<apex:actionFunction name="CompareDatesfun1" action="{!CompareDates}" reRender="opPartsWarranty">
<apex:param name="FailureDate" value="" assignTo="{!failureDate}"></apex:param>
<apex:param name="WarrantyDate" value="" assignTo="{!warrantyDate}"></apex:param>
</apex:actionFunction>-->
                                <apex:actionFunction name="onchangePartWarranty" action="{!CompareDates}" reRender="opPartsWarranty,checkPartsWarrDt">
                                    <apex:param name="WarrantyDate" value="" assignTo="{!warrantyDate}"></apex:param>
                                    <apex:param name="FailureDate" value="" assignTo="{!failureDate}"></apex:param>
                                    <apex:param name="FailureDate1" value="" assignTo="{!failureDate1}"></apex:param>
                                </apex:actionFunction>
                                <div class="clearfix"></div> <br/>
                                <div style="text-align:center;">
                                    <apex:outputpanel id="checkCoverageButton">
                                        <!--<apex:outputpanel rendered="{!IF(compont.Failure_Point__c!=null && (compont.Failure_Date__c != null || workjob.Failure_Date__c != null) && compont.Part_Warranty_Start_Date__c != null,true,false)}">-->
                                        <apex:outputpanel rendered="{!IF(((selectedFName != null && selectedFName !='') || ((selectedSysCode != null && selectedSysCode != '') && (selectedCompCode != null && selectedCompCode != ''))) && compont.Failure_Point__c!=null && (compont.Failure_Date__c != null || workjob.Failure_Date__c != null) && compont.Part_Warranty_Start_Date__c != null,true,false)}">
                                            <apex:commandLink value="Check Parts Coverage" styleClass="saveButton" action="{!checkCoverage}" status="callCheckCoverage" rerender="warrantycompfailurepanel,checkCoveragePanel,savePnl"></apex:commandLink>
                                            <br/>
                                            <apex:actionStatus startText="requesting..." id="callCheckCoverage">
                                                <apex:facet name="start">Fetching Coverage Details...</apex:facet>
                                                <apex:facet name="stop"></apex:facet>
                                            </apex:actionStatus>
                                        </apex:outputpanel>
                                        <!--<apex:outputpanel rendered="{!IF(compont.Failure_Point__c==null || (compont.Failure_Date__c == null && workjob.Failure_Date__c == null) || compont.Part_Warranty_Start_Date__c == null,true,false)}">-->
                                        <apex:outputpanel rendered="{!IF((selectedFName == null || selectedFName =='') || ((selectedSysCode == null || selectedSysCode == '') && (selectedCompCode == null && selectedCompCode == '')) || compont.Failure_Point__c==null || (compont.Failure_Date__c == null && workjob.Failure_Date__c == null) || compont.Part_Warranty_Start_Date__c == null,true,false)}">
                                            <apex:commandLink value="Check Parts Coverage" styleclass="cmi_lighttealbutton"/>
                                        </apex:outputpanel>
                                    </apex:outputpanel>
                                </div>
                            </apex:outputpanel>
                        </apex:outputpanel>

                    </div>
                    <!--Start -Added "partcoverageFound" veriable As per Defect #150609 and and uncommeted "checkCoveragePanel","warrantycompfailurepanel", By -RAJESH 20th June 2018  -->
                    <div style="text-align:center;">
                        <apex:outputPanel id="checkCoveragePanel">

                            <apex:outputPanel rendered="{!IF((partcoverageFound=='true'),true,false)}">
                                <div class="col-sm-7 cmi-tar" >
                                    <i class="cmi-icons icon-solidCorrect" ></i>
                                    <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.css_Coverage_Found}"/></b>
                                </div>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF((partcoverageFound=='false'),true,false)}">
                                <div class="col-sm-7 cmi-tar">
                                    <i class="cmi-icons icon-solidWrong" ></i>
                                    <b><apex:outputText style="color:black;font-size:100%;align:center" value="{!$Label.css_No_Coverage_Found}"/></b>
                                </div>
                            </apex:outputPanel>
                        </apex:outputPanel>
                        <!--apex:outputPanel id="warrantycompfailurepanel">
<apex:outputPanel rendered="{!warrantyCompFailure}">
<b><apex:outputText style="color:red;align:center" value="{!$Label.CSS_WarrantyWebserviceFailureMessage}"/></b>
</apex:outputPanel>
</apex:outputPanel-->
                    </div>
                    <!--End-->

                    <!-- Modal Footer -->
                    <apex:Outputpanel id="savePnl">
                        <div class="modal-footer" style="margin-top:20px;border-top:0px;">
                            <!--Added below for Inside Out Sprint #183076 -- Rajasekhar H -->

                            <apex:outputLabel style="text-align:center; color: red ; display: block;" value="{!$Label.CSS_WarrantyWebserviceFailureMessage}***"  rendered="{!IF(warrantyDetError== true, true, false)}" />
                            <div class="col-sm-offset-1 col-sm-5">

                                <!--<apex:commandButton value="{!$Label.css_save_btn}" styleClass="saveButton" status="saveAccountCode" rerender="ErrMsg1,JobPlanOverviewEdit" action="{!updateFailCodeComponents}" html-data-dismiss="modal"  oncomplete="window.location.reload()">-->
                                <apex:commandButton value="{!$Label.css_save_btn}" styleClass="saveButton" status="saveAccountCode" rerender="ErrMsg1,FCErrorval,lcerror,CombExists,JobPlanOverviewEdit,checkPartsWarrDt" action="{!updateFailCodeComponents}"  oncomplete="preDefinedFailSmartSearch();afterCompleteFunction();">
                                </apex:commandButton>
                                <!--<apex:commandButton value="Update" action="{!savePopup}"></apex:commandButton>-->
                                <br/>
                                <apex:actionStatus startText="requesting..." id="saveAccountCode">
                                    <apex:facet name="start">Saving...</apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </div>
                            <div class="col-sm-2">
                                <apex:actionRegion >
                                    <apex:commandButton value="{!$Label.css_Cancel}" styleClass="cancelButton" action="{!cancelPopup}" reRender="JobPlanOverviewEdit" html-data-dismiss="modal" >
                                    </apex:commandButton>
                                </apex:actionRegion>
                            </div>
                        </div>
                    </apex:Outputpanel>

                    </apex:outputPanel>
                </div>
            </div>
    </div>
    <!--end popup code------>

    <!---Loading Popup as part of GSSC- 385--->
    <div class="modal fade" id ="loadingAnimation" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" style="width:0px;margin: 100px;height: 0px;">
                <div class="modal-body" style="padding:0px;margin: 200px 0px;">
                    <apex:image url="{!$Resource.LoadingImg}" width="100" height="100" style="align:center"/>  
                </div>
            </div>
        </div>
    </div>
    <!---Loading Popup End---->

    <!---Loading deselect a root cause Popup as part of GSSC- 385-9-->

    <apex:outputPanel id="DeleterootcausePopup">
        <div class="modal fade" id="DeletePopupNew"  role="dialog" data-backdrop="static" html-keyboard="false"> 
            <div class="modal-dialog vertical-align-center"> 
                <div class="modal-content">      
                    <div class="modal-header"> 
                        <h4 class="modal-title" style="color: #FFFFFF;"> {!$Label.CSS_Cummins_Guidanz}</h4>
                    </div> 
                    <div class="modal-body" style="height:180px">
                        <input type="hidden" id="deleteSaverootcausecheckid" />
                        <div class="col-sm-12 col-xs-12">
                            <div> <b> {!$Label.CG_De_selection_of_Root_Cause_will_result_in}</b></div>                                           
                            <div style="margin:10px 0px;"> <b>{!$Label.CSS_Deletion_of_associated_parts}</b></div>
                            <div><b>{!$Label.CSS_WS_Global_E006}</b>  </div> 
                            <hr style="margin:20px -28px;"/>

                            <div class="col-sm-5"> 
                                <apex:commandButton value="{!$Label.css_Yes}"   html-data-dismiss="modal" styleClass="saveButton"/> <!--  reRender="DeleterootcausePopup" -->
                            </div>
                            <div class="col-sm-5">
                                <apex:commandButton value="{!$Label.CSS_No}"  html-data-dismiss="modal" styleClass="cancelButton" onclick="checkDeleteRootCausefrompop();"/> <!--reRender="DeleterootcausePopup"  ></apex:commandButton-->
                            </div> 
                            <div class="clearfix"/>
                        </div>   
                    </div>
                </div>     
            </div>    
        </div>
    </apex:outputPanel> <!-- End - The above popup deselect a root cause Popup as part of GSSC- 385-9-->


    </apex:form>
</apex:define>
</div>

</apex:page>