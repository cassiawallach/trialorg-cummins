<apex:page showHeader="false"  standardController="Account" standardStylesheets="false" extensions="CMI_Customerpage" applyHtmlTag="false">
       <html lang="en">
          <!--
             <![endif]-->   
          <head> 
             <title>Connected Solutions</title>
             <!-- Metadata - Customize for your product -->
             <meta charset="utf-8" />
             <meta name="viewport" content="width=device-width, initial-scale=1.0" />
             <meta name="description" content="" />
             <meta name="author" content="Cummins Inc." />
             <meta name="copyright" content="(C)2017 Cummins Inc., Box 3005, Columbus, IN 47202-3005 U.S.A." />
             <apex:stylesheet value="{!URLFOR($Resource.CS_Bootstrapmin)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_General)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Bootstrap320)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Home)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Main)}"/>
             
             <link rel="shortcut icon" href="{!$Resource.CS_Favicon}" type="image/x-icon" />
             <apex:stylesheet value="{!URLFOR($Resource.CS_CMIheadercomponent)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Bootstrapaccessibility)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_CMIheadercomponent)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_CMIBannerNavigation1)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Breadcrumb)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Fatfooter)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Socialmedia)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Bootstrapmin)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_Headerfatbootstrap)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_CMIglobalfootercomponent)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_CMIbannercarouselcomponent)}"/>
             <apex:stylesheet value="{!URLFOR($Resource.CS_CMIcontact)}"/>
             <!--<apex:includeScript value="{!URLFOR($Resource.CS_Jquery)}"/>-->
             <apex:includeScript value="{!URLFOR($Resource.IAM_jquery)}"/>
             <apex:includeScript value="{!URLFOR($Resource.CS_Search)}"/>
             <apex:includeScript value="{!URLFOR($Resource.CS_App)}"/>
             <apex:includeScript value="{!URLFOR($Resource.CS_Bcslider)}"/>
             <apex:includeScript value="{!URLFOR($Resource.CS_Commonall)}"/>
             <apex:includeScript value="{!URLFOR($Resource.CS_Responsivemobilemenu)}"/>
             <apex:stylesheet value="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
             <apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"/>
             <apex:includeScript value="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"/>
            
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
            <style>
           
            .error_exist{
            border:1px solid red;
           /* background-repeat: no-repeat;
            background-image:      url("{!URLFOR($Resource.CS_Error)}");
            */
            }
           
            .delete_potition{
            
            margin-left: 103% !important;
            margin-top: -8%;
            }
            
            </style>
               <script>
             $(function() {
                $( "#tooltip-7" ).tooltip({
                   position: {
                      my: "center top",
                      at: "center top-10",
                      collision: "none"
                      
                   }
                  
                });
             });
          </script>
        <!-- Code Added by Santosh-->
 
             <script>
 
             var selected_val = 'notsend';
             function checkForReqFields(){
              var emptyCount=0 ;
                 var ids='';
                     var sel1 =   $(".sel1").val();    
                
                 var sel2 =   $(".sel2").val();   
                  console.log('>>>> ',sel1 , sel2); 
                 if(sel1=='No System' && sel2=='No System'){
                 
                selected_val ='dosend';
                 }
                 else{
                 
                selected_val  = 'send';
                 }
                
                       
                $(".submitActive").each(function(){
                       
                       
                       console.log('timer '+{!EmailSectionEnable});
                       console.log('timer sec ',$('.theEmailPanel_top').is(":visible"))
                       if({!EmailSectionEnable}){
                       
                       selected_val  = 'send';
                       }
                          <!-- if(this.id =='j_id0:theForm:tsp_selected') -->
                           <!-- { -->
                             <!-- var tsp = $('[id$="tsp"]').val(); -->
                             <!-- alert(tsp); -->
                           <!-- } -->
                           
                         console.log('selected_val  '+selected_val )  
                          //  console.log('>>>>>###### ',$( "input[name$='dosend']"));
                           
 
                              if(selected_val != 'send'){
                           if(($(this).val() == '' || $(this).val() == null) && (!$(this).hasClass('submitActive_Exclude') && !$(this).hasClass('submitActive_Exclude1')))
                           {
                           console.log('value is Null ',$(this));
                               ids = ids + $(this).attr('id') + ';';
                              emptyCount= emptyCount+1;
                           }
                           }else{
                           console.log('sent send');
                           if(($(this).val() == '' || $(this).val() == null)){
                           
                                   ids = ids + $(this).attr('id') + ';';
                                   emptyCount= emptyCount+1;
                                   
                                   
                                   
                             
                           }
                           
                           }
                       
                        
                        
                        
                        
                        
                        });
                        <!--alert(emptyCount + ' ' + ids);-->
                        if(emptyCount > 0 || $('.error_exist').length>0)
                        {
                        
                           $("[id$=ApprovalId]").prop("disabled",true);
                    
    
                           $("[id$=ApprovalId]").css({"background-color": "lightgray"});
                      
                        console.log('its disabled');
                         <!-- alert('true');  -->
                        }
                        else
                        {
                        console.log('not disable >>>>');
                          $("[id$=ApprovalId]").css({"background-color": "#006666", "border": "1px #006666","color":"white"});
                          $("[id$=ApprovalId]").prop("disabled",false);
                        }
            
             
             
             }
               var  successfullCounter=0;
                 $( document ).ready(function() {
                    disableTextare();
                    if(successfullCounter==0)
                    {
                     $("[id$=divSuccesfull]").hide();
                    }
                     var id = $("input[id$='dosend\\:0']")[0].id;
    $('label[for="'+ id +'"]').css('paddingLeft','10px');
     var id = $("input[id$='sendemail\\:0']")[0].id;
    $('label[for="'+ id +'"]').css('paddingLeft','10px');
   
                    $("[id$=ResetId]").prop("disabled",true);
                    $("[id$=ResetId]").css({"background-color": "lightgray", "border": "1px lightgray", "color":"#616264"});
                    $("[id$=ApprovalId]").prop("disabled",true);
                    $("[id$=ApprovalId]").css({"background-color": "lightgray", "border": "1px lightgray" , "color":"#616264"});
                    $('[data-toggle="tooltip"]').tooltip();   
                  
                    if($("[id$=countrycode]").val() =='US')
                    {
                      $("[id$=state]").prop("disabled",false);
                    }
                    else
                    {
                      $("[id$=state]").prop("disabled",true);
                     
                                    
                    } 
                    
                     $( ".resetActive" ).change(function() {    
                        $("[id$=ResetId]").prop("disabled",false);
                        $("[id$=ResetId]").css({"background-color": "#0f4f77", "border": "1px #0f4f77","color":"white"});    
                     });
                     
                     $(document.body).on('change','.submitActive', function() 
                     {
                     console.log('State disabled ', $('.stateIs').prop('disabled'));
                     if($('.stateIs').prop('disabled')){
                     $('.stateIs').removeClass('resetActive').removeClass('submitActive');
                 }else{
                     $('.stateIs').addClass('resetActive').addClass('submitActive')
                 }
 
                       var emptyCount=0 ;
                         var ids='';
                         
                         var tsp = $('[id$="tsp"]').val();
                         if(tsp == '')
                         {
                             emptyCount= emptyCount+1;
                            <!-- alert('yes'); -->
                         }
                        
                         if(emptyCount==0)
                         {
                         $(".submitActive").each(function()
                         {
                             console.log($(this));
                             console.log('>>>> ',  $(this).hasClass('submitActive_Exclude'));
                           
                             //dosend
                             console.log('AAAAAA ',$( "input[name$='dosend']" )[0].checked);
                              if(selected_val !='send'){
                             if(($(this).val() == '' || $(this).val() == null) && !$(this).hasClass('submitActive_Exclude'))
                             {
                                 console.log('value is Null ',$(this));
                                 ids = ids + $(this).attr('id') + ';';
                                 emptyCount= emptyCount+1;
                             }
                             }else{
                             
                                 if(($(this).val() == '' || $(this).val() == null) )
                             {
                                 console.log('value is Null ',$(this));
                                 ids = ids + $(this).attr('id') + ';';
                                 emptyCount= emptyCount+1;
                             }
                             
                             }
                         });
                         }
                         //if)
                       //  alert($('.error_msg').length);
                         <!--alert(emptyCount + ' ' + ids);-->
                         if(emptyCount > 0 || $('.error_msg').length>0 )
                         {                      
                             $("[id$=ApprovalId]").prop("disabled",true);
                             $("[id$=ApprovalId]").css({"background-color": "lightgray", "color":"#616264"});                     
                             console.log('its disable 1');
                             <!-- alert('true');  -->
                         }
                         else
                         {
                             console.log('not disabled 1');
                             $("[id$=ApprovalId]").css({"background-color": "#006666", "border": "1px #006666","color":"white"});
                             $("[id$=ApprovalId]").prop("disabled",false);
                         }
                    });  
                    //new   logic
                    
                    $(document.body).on('change','.submitActive_Exclude', function() {
                 
                        var emptyCount=0 ;
                         var ids='';
                        
                        $(".submitActive").each(function(){
                        console.log($(this));
                      console.log('>>>> ',  $(this).hasClass('submitActive_Exclude'));
                      
                      
                          <!-- if(this.id =='j_id0:theForm:tsp_selected') -->
                           <!-- { -->
                             <!-- var tsp = $('[id$="tsp"]').val(); -->
                             <!-- alert(tsp); -->
                           <!-- } -->
                           
                           //dosend
                           console.log('AAAAAA ',$( "input[name$='dosend']" )[0].checked);
                               if($( "input[name$='dosend']" )[0].checked){
                           if(($(this).val() == '' || $(this).val() == null) && !$(this).hasClass('submitActive_Exclude'))
                           {
                           console.log('value is Null ',$(this));
                               ids = ids + $(this).attr('id') + ';';
                              emptyCount= emptyCount+1;
                           }
                           }else{
                            if(($(this).val() == '' || $(this).val() == null)){
                           
                                   ids = ids + $(this).attr('id') + ';';
                                   emptyCount= emptyCount+1;
                           }
                           
                           }
                        });
                        <!--alert(emptyCount + ' ' + ids);-->
                        if(emptyCount > 0)
                        {
                        
                           $("[id$=ApprovalId]").prop("disabled",true);
                              $("[id$=ApprovalId]").css({"background-color": "lightgray", "color":"#616264"});
                      
                      
                        console.log('mot in disable 1');
                         <!-- alert('true');  -->
                        }
                        else
                        {
                        console.log('in diable 1' );
                          $("[id$=ApprovalId]").css({"background-color": "#006666", "border": "1px #006666","color":"white"});
                          $("[id$=ApprovalId]").prop("disabled",false);
                        }
                    }); 
 
                    //end of new logic  
                }); 
                
                
                
                
                function disableTextare1()
                {
              console.log('selected_val '+selected_val);
                  
 
                        $("[id$=ResetId]").prop("disabled",false);
                        $("[id$=ResetId]").css({"background-color": "#0f4f77", "border": "1px #0f4f77","color":"white"});    
                        
                        var emptyCount=0 ;
                        var ids='';
                        
                        var tsp = $('[id$="tsp"]').val();
                        if(tsp == '')
                        {
                            emptyCount= emptyCount+1;
                        }
                        else if(tsp.length > 0)
                        {
                        
                            $(".submitActive").each(function()
                             {
 
 
                                
                                 //dosend
                                 console.log('AAAAAA ',$( "input[name$='dosend']" )[0].checked);
                                 if(selected_val !='send'){
                                 if(($(this).val() == '' || $(this).val() == null) && !$(this).hasClass('submitActive_Exclude'))
                                 {
                                     console.log('value is Null ',$(this));
                                     ids = ids + $(this).attr('id') + ';';
                                     emptyCount= emptyCount+1;
                                 }
                                 }else{
                                    if($(this).val() == '' || $(this).val() == null) 
                                 {
                                     console.log('value is Null ',$(this));
                                     ids = ids + $(this).attr('id') + ';';
                                     emptyCount= emptyCount+1;
                                 }
                                 
                                 }
                             });
                       
                        }
                         
                         
                        
                         
                         <!--alert(emptyCount + ' ' + ids);-->
                         if(emptyCount > 0)
                         {                      
                             $("[id$=ApprovalId]").prop("disabled",true);
                             $("[id$=ApprovalId]").css({"background-color": "lightgray", "color":"#616264"});                     
                             console.log('mot in disable 2');
                             <!-- alert('true');  -->
                         }
                         else
                         {
                             console.log('in diable 2');
                             $("[id$=ApprovalId]").css({"background-color": "#006666", "border": "1px #006666","color":"white"});
                             $("[id$=ApprovalId]").prop("disabled",false);
                         }
 
                    //new   logic
                    
                
 
                
                }
                
                
                 function populateAllEmail(){
                    
                    
                  //   alert('>>>>>');
                   var allemail = '';
                    $('.each_email').each(function(){
                        console.log($(this).val()+',');
                        allemail +=$(this).val()+',';
                    });
                    $( "input[id$='sendto']" ).val(allemail );
              
                    }     
                                          
                function checkPicklistValues(obj)
                {
              
                   if(document.getElementById(obj.id) != '' && document.getElementById(obj.id) != null)
                    {
                        var x = document.getElementById("j_id0:theForm:state");
                        var txt;
                        var i;
                        for (i = 0; i < x.length; i++) {
                            txt = txt + "\n" + x.options[i].text;
                        }
                       
                    }
                }
                function findHeaderHeight()
                {
                    var headerBlackHeight = document.getElementById('head_black').clientHeight; 
                    var headerRedHeight = document.getElementById('head_red').clientHeight; 
                    var totalHeaderHeight = headerBlackHeight + headerRedHeight;
                    //alert("totalHeaderHeight Div : "+totalHeaderHeight);
                    //document.getElementById("demo").innerHTML = footerTotalHeight;
                    return totalHeaderHeight;
                }
                
                function validateSubmit()
                {
                    var errorCount = 0;
                    var CumminsSupportEmails = $('[id$="CumminsSupportEmail"]').val();
                    var ContactEmail = $('[id$="ContactEmail"]').val();
                    errorContactEmail.style.display = 'none';
                    EmailError.style.display = 'none';
                    CMIUrgentFaultNotificationEmailError.style.display = 'none';
                    //CMIOtherFaultNotificationsEmailError.style.display = 'none';
                    if(ContactEmail.length > 0){
                        if(!validateemails(ContactEmail,'ContactEmail'))
                        {
                            errorCount = errorCount+1;
                            errorContactEmail.style.display = ''
                        }                       
                    }
                    if(CumminsSupportEmails.length > 0){
                        if(!validateemails(CumminsSupportEmails))
                        {
                            errorCount = errorCount+1;
                            EmailError.style.display = ''
                        }                       
                    }
                    /*if(typeof CMIOtherFaultNotificationsEmails != 'undefined'){
                        if(!validateemails(CMIOtherFaultNotificationsEmails))
                        {
                            errorCount = errorCount+1;
                            CMIOtherFaultNotificationsEmailError.style.display = ''
                        }                       
                    }
                    if(typeof CMIUrgentFaultNotificationEmails != 'undefined'){
                        if(!validateemails(CMIUrgentFaultNotificationEmails))
                        {
                            errorCount = errorCount+1;
                            CMIUrgentFaultNotificationEmailError.style.display = ''
                           
                        }
                    }*/
                    if(errorCount > 0)
                        return false;
                    else{
                        OnSubmitClick();
                    }
                }
                function validateemails(emails,id)
                {
                    var Sepemail = emails.split(',');
                    var count = 0;
                    if(id == 'ContactEmail')
                    {
                        if(Sepemail.length > 1)
                            count = count +1;
                    }
                    for (var i = 0, length = Sepemail.length; i < length; i++) {
                        var Email = Sepemail[i];
                        //if(Email.length > 0){
                        var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                        if(Email.match(mailformat)){
                            //return true;
                        }else{
                            count = count +1;
                            //return false;
                         }
                    //}
                    }
                    if(count > 0)
                        return false;
                    else
                        return true;
                }
                function disableTextare()
                {
                    var tsp = $('[id$="tsp"]').val();
                    if(tsp == null)
                    {
                        if ( $('[id$="othertsp"]').length ) {
                            $('#OtherTSPpanel').hide();
                        }
                    }
                    else if(tsp.length > 0)
                    {
                        if($.inArray("Other TSP", tsp) == -1)
                        {
                            if ( $('[id$="othertsp"]').length ) {
                                $('#OtherTSPpanel').hide();
                            }
                        }
                        if($.inArray("Other TSP", tsp) > -1)
                        {
                            $('#OtherTSPpanel').show();
                        }
                    }
                    //alert(tsp);
                }
               // Close current window
                <!-- ShowSuccessfullMessage() -->
                <!-- { -->
                  <!-- $("[id$=divSuccesfull]").show(); -->
                  <!-- successfullCounter=successfullCounter+1; -->
                <!-- } -->
                    
                
function donotSendemail(element){ 
console.log('551');
console.log('sel1 ',$(".sel1"));

console.log('sel2 ',$(".sel2"));
                var sel1 =   $(".sel1").val();    
                
                 var sel2 =   $(".sel2").val();   
                  console.log('>>>> ',sel1 , sel2);  
                 if(sel1=='No System' && sel2=='No System'){
                // alert('q');
                     $('.email_ids_top').hide();
                 }
                 else{
                // alert()
                      $('.email_ids_top').hide();
                // selected_val  = 'send';
                 }
                


  $('.primary_email').removeClass('resetActive submitActive');
selected_val  = 'notsend';
 
checkForReqFields('notsend');
//alert('******************'+element);
 //$('.email_ids_top').hide(); 
 
if(element == 'notSend'){
$("input[id$='dosend\\:0']")[0].checked = true;
$("input[id$='sendemail\\:0']")[0].checked = false;
 
 //$("input[id$='othertsp\\:0']")[0].value= ""; 
 
//acc.CMI_Urgent_Fault_Notification_Email__c="";
//document.getElementsByName('{!$Component.theForm.dosend}').checked = true;
//document.getElementsByName('{!$Component.theForm.sendemail}').checked = false;
}
 
 
}
 
function sentoEmail(element)
{ 
selected_val  = 'send';
checkForReqFields('send');
//alert('**************$$$$$$$****'+element);
///alert('**************$$$$$$$fghjkl****'+newCon.Email);
  
if(element == 'Send'){
 $("input[id$='sendemail\\:0']")[0].checked = true;
 
 $("input[id$='dosend\\:0']")[0].checked = false;
 
  //acc.CMI_Urgent_Fault_Notification_Email__c=newCon.Email;
   
 //$("input[id$='othertsp\\:0']")[0].value=  newCon.Email; 
  
 //document.getElementsByName('{!$Component.theForm.sendemail}').checked = true;
 // document.getElementsByName('{!$Component.theForm.dosend}').checked = false;
 
}
 
  }
  
  
  var changedEmail = '';
  function newEmail(passedThis){
  
  changedEmail = passedThis;
  }
  
  function populateNewemail(){
  
  console.log('>>>>>>> changedEmail ',changedEmail);
    $('.primary_email').addClass('resetActive submitActive');
    if(changedEmail!=''){
  
         $(".email_fld").val(changedEmail);
         $(".primary_email").val(changedEmail);
 
  }else{
      
  populateAllEmail();
  }
  
         $('.email_ids_top').show();
  }
  var section_opened = false;
 function add_more(){
  $('.email_ids_top').show(); 
  $('.pmr_email').show();
 // alert($('.each_email').length);
 
     $('.each_email').each(function(){
     
             validate_email($(this).val(),this);
     });
     
     error_count = $('.error_exist').length;
  
  if($('.each_email').length<8 && error_count ==0){
      $('.email_ids').append('<div style="form-group;padding-top:5px;"><input type="text" class="form-control each_email resetActive1 submitActive1 submitActive_Exclude" onblur="validate_email(this.value,this)"/> <div  class="control-label delete_potition" style="margin-top: -10%;"> <apex:image url="{!$Resource.CS_Delete}" onclick="delete_emailbox(this)"/>');
      
  }
  if($('.each_email').length==8){
      $('.add_more').css('visibility','hidden');
  
  }
  
  if(!section_opened ){
   section_opened = true;
   $( "input[name='j_id0:theForm:sendemail']" ).click();
    send_newEmails();
  }
   var divHeight = $('#adjheight').height(); 
   $('#adjheight1').css('min-height', divHeight-25+'px');
  }
  
  function delete_emailbox(passedThis){
   $('.add_more').css('visibility','');
  $(passedThis).parent().parent().remove();
  var divHeight = $('#adjheight').height(); 
   $('#adjheight1').css('min-height', divHeight-25+'px');
 
  console.log($('.each_email').length);
  
  if($('.each_email').length == 0){
  section_opened = false;
  console.log('All deleted');
         
  selected_val ='notsend';
  
  $( "input[name='j_id0:theForm:dosend']" ).click();
  dont_send_email();
   
  }
  
    checkForReqFields();
 
  }
 
  function updateprimary_email(passed_email){
  
    $('.primary_email').addClass('resetActive submitActive');
  
  selected_val ='send';
  console.log(passed_email);
  $( "input[id$='sendto']" ).val(passed_email);
  $('.primary_email').val(passed_email);
  
  $( "input[name='j_id0:theForm:sendemail']" ).click();
 send_newEmails();
  }
  </script>
              
              
       
       
       
    
    
              
                                 

           
               
          </head>
          <body >
             <!-- Begin Top Wrapper -->
             <div class="top">
                <!-- Begin Global Container -->
                <div class="container-fluid" id="head_black">
                   <!-- Begin Responsive Container -->
                   <div id="global-buttons" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                      <!-- Begin Global Navigation Bar -->
                      <div class="btn-group navbar-right" role="group" aria-label="...">
                         <!-- Customer Support Button -->
                         <!--  <button type="button" class="btn global-btn phone-btn"><div style="display: inline-block; width:110Px;" id = "ContactUs_Div_Id"><apex:image url="{!$Resource.CS_Phoneimg}" style="width:20px; height:20px;"/><a href="https://cumminsengines.com/connected-diagnostics#fb-root"  target="_blank" ><span class="hidden-xs">Contact Us</span></a></div></button> -->
                         <div style="display: inline-block; width:80Px;" id = "Help_Div_Id" onclick="sendconEmail(); return false;">&nbsp;     
                         </div>
                         <script>
                            function sendconEmail(){
                                window.location.href = 'mailto:connectedsolutions@cummins.com?subject=Web application related question&body=Please provide us the below information to help you out%0D%0AUser Name:%0D%0ACompany Name:%0D%0AContact Information:%0D%0A%0D%0AHow can we help you today?';
                                return false;
                            }
                         </script>
                         <button type="button" class="btn global-btn phone-btn" onclick="sendconEmail(); return false;">
                            <div style="display: inline-block; width:110Px;" id = "ContactUs_Div_Id" onclick="sendconEmail(); return false;">
                               &nbsp;     
                               <apex:image url="{!$Resource.CS_Phoneimg}" onclick="sendconEmail(); return false;" style="width:22px; height:15px; vertical-align: middle"/>
                               <a href="mailto:ConnectedSol.Support@cummins.com?subject=Web application related question
                                  &body=Please provide us the below information to help you out %0D%0A%0D%0AHi,%0D%0AUser Name:%0D%0ACompany Name:%0D%0AContact Information:%0D%0A%0D%0AHow can we help you today?" id="A_ContactUs_Id" class="button_user">
                               <span style="font-family: Helvetica Neue 65; text-transform: uppercase" onclick="sendconEmail(); return false;">CONTACT US</span>
                               </a>
                            </div>
                         </button>
                      </div>
                      <!-- End Global Navigation Bar -->
                   </div>
                   <!-- End Responsive Container -->
                </div>
                <!-- End Global Container -->
             </div>
             <!----- End Top Wrapper ------->
             <!------ Begin Header Section -------->
             <div class="header" id="head_red">
                <!--------- Begin Container Section -------->
                <div class="container-fluid">
                   <!-------- Begin Full Size Navbar ------->
                   <div>
                      <div>
                         <a href="#">
                            <!-- Add link back to top level of BU, Product or to Cummins.com -->
                            <div >
                               <div class="logo_img" title="Cummins">
                                  <apex:image url="{!$Resource.CS_Cummins_logo}" onclick="window.location.href ='{!urlfor($Page.CS_CustomLoginPage)}'" style="text-align:left" />
                               </div>
                            </div>
                            <div class="sub-brand">
                              <h2 onclick="window.location.href ='{!urlfor($Page.CS_CustomLoginPage)}'">Connected Solutions</h2>
                            </div>
                         </a>
                      </div>
                      <!-- <div style="width:5px;"></div> -->
                      <div  style="padding-left:400px;">
                         <nav  class="main_menu">
                            <ul id="nav" class="pull-right" style="padding-left:0px;">
                               <!-- <li><a href="javascript:showMenu(2);">Data Descriptions</a></li><li class="divider" style="width:0px;"></li><li><a href="javascript:showMenu(3);">Using the Reports</a></li> -->
                            </ul>
                         </nav>
                      </div>
                   </div>
                   <!------ End Full Size Navbar ------>
                   <!------ Begin Responsive Menu ------>
                </div>
                <!------- End Container Section ------->
             </div>
             <!------- End Header Section -------->
          </body>
       </html>
       <style>
      select:disabled {
            color: #aaa;
            background-color: #D3D3D3;
        }
          select
          {
          height:30px;
          width:auto;
          font-size:12px;
          border-radius:3px;
          }
      
       :-ms-input-placeholder {
        /* Internet Explorer 10-11 */
       font-style:italic !important;
                color:#ccc ! important;
         opacity:  1;
        }
          .picklist select{
          height:30px;
          width:100%;
          font-size:12px;
          text-align:left;
         border:1px solid #ccc !important;
             padding: 5px 8px;
          }
          .placeholderstyle{
                font-style:italic !important;
                color:#ccc;
                }
           .clsDisable
             {
                background: rgba(127, 115, 115, 0.11);
                color: #333;
             }
       </style>
       <html>
          <body>
             <div id="contact-form" class="container-fluid">
                <div class="contact-form-main" style="padding-top:30px;border:0px">
                   <h1 style="border-bottom:0px solid #006666">Company Registration</h1>
                </div>
                <div class="contact-form-wrapper col-xs-12 col-sm-12 col-md-12 col-lg-12">
                   <div class="required-text">
                      <span>(*)</span> Asterisks indicate required information
                   </div>
                     <apex:outputPanel id="oplSuccessMessage" rendered="{!isSuccessDivShow}">
                       <div style="13px  13px 13px 13px;width:auto;border:2px solid green;color:#333333;background-color:#E8FCBC;text-align:left;font-family:Helvetica ;font-size:14px;"><span style="color:green; padding-right:5px;">&#x2714;</span>Registration successfully submitted. 
                       </div>
                     </apex:outputPanel>
                   <apex:pageMessages id="myMessages"/>
                   <apex:form id="theForm" >
                    <apex:inputhidden value="{!acc.CMI_Urgent_Fault_Notification_Email__c}" id="sendto" >
                          </apex:inputhidden>
 
                   <div  id="divSuccesfull" >
                    </div>
                     <!-- <apex:actionFunction name="OnSubmitClick" status="status" rerender="theForm"  action="{!send}" id="actFSubmit" oncomplete="ShowSuccessfullMessage();"/> -->
                
                       
                       <!-------------------------------- Begin Company Information Section -------------------------------------------->
                      <div class="contact-form-left-wrap col-xs-12 col-sm-12 col-md-6 col-lg-6">
                         <div class="contact-form-left col-xs-12 col-sm-12 col-md-12 col-lg-12">
                            <span class="fieldset-label">Company Information</span>
                            <div class="col-sm-12 form-group form-group-sm" style="padding-left:8px">
                            </div>
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label" style="" for="sm">Company Name</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-sm-7 col-lg-7 " >
                                  <!--required="true"-->
                                  <apex:inputtext styleclass="form-control mandate-field resetActive submitActive " id="companyname" maxlength="50"  value="{!acc.Name }" html-placeholder="Company Name" disabled="{!isSuccessDivShow}" />
                                  <apex:outputText value="{!errorAccountName}" styleClass="errorMsg" rendered="{!errorAccountName!=null}" style="color:red;" />
                                  
                               </div>
                            </div>
                            <apex:outputPanel rendered="{!isSuccessDivShow=false}">
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm picklist" >
                               <label class="col-sm-4 col-lg-3 control-label" style="" for="sm">Country</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-sm-7 col-lg-5" >
                                  <!--required="true"-->
                                  
                                  <apex:inputfield style="height:30px; width:100%;border-radius:3px;line-height:12px;padding: 5px 8px;" styleClass="resetActive submitActive " id="countrycode"  value="{!acc.BillingCountryCode}"   html-placeholder="Country">
                                    <script>
                                      $("[id$=countrycode]").change(function(){
                                          <!-- alert($(this).val()); -->
 
                                           if($(this).val()!= '')
                                           {
                                           <!--  alert($('select.stateClass option').length);-->
                                             if($('select.stateClass option').length == 1){
                                            <!-- alert('a');-->
                                                 $('select.stateClass').css('color','#ccc !important');
                                                  $('.stateClass').hide();
 
                                             }
                                           }
                                           else
                                            {
                                           <!--   alert($('select.stateClass option').length);-->
                                              
                                              if($('select.stateClass option').length == 1){
                                           <!--   alert('b'); -->
                                                 $('select.stateClass').css('color','#ccc !important');
                                             }
 
                                            }
                                      });
                                      </script> 
                                   
                                  </apex:inputField>
                                  <!--<apex:inputText style="height:30px; width:100%;border-radius:3px;line-height:12px;" styleClass="resetActive submitActive " id="countrycode1"  value="{!acc.BillingCountryCode}"   html-placeholder="Country" rendered="{!isSuccessDivShow}" disabled="{!isSuccessDivShow}"/>-->
                                  
                                  
                                  <apex:outputText value="{!errorStateCountry}" styleClass="errorMsg" rendered="{!errorStateCountry!=null}" style="color:red;" />
                              </div>
                              </div>
                              </apex:outputPanel>
                               <!--<apex:outputPanel rendered="{!isSuccessDivShow}">
                                                              
                                  <apex:inputText style="height:30px; width:100%;border-radius:3px;line-height:12px;" styleClass="resetActive submitActive " id="countrycode1"  value="{!acc.BillingCountryCode}"   html-placeholder="Country" disabled="{!isSuccessDivShow}"/>
                               
                               </apex:outputPanel>-->
                               
                               <apex:outputPanel rendered="{!isSuccessDivShow}">
                       <div class="col-sm-12 col-lg-12 form-group form-group-sm picklist" >
                         <label class="col-sm-4 col-lg-3 control-label" style="" for="sm">Country</label>
                           <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                          <div class="col-sm-7 col-lg-5" >
                              <!--required="true"-->
                              <apex:inputtext styleclass="form-control resetActive submitActive " id="country2" maxlength="50" value="{!acc.BillingCountryCode}" html-placeholder="City" disabled="{!isSuccessDivShow}"/>
                           </div>
                        </div>
                        </apex:outputPanel>
                           <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label"  for="sm" rows="3">Address Line 1</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-sm-7 col-lg-7 " >
                                  <!--required="true"-->
                                  <apex:inputtext styleclass="form-control html-placeholder resetActive submitActive " html-placeholder="Address Line 1"  maxlength="100" id="address" title="Please enter your Company address" disabled="{!isSuccessDivShow}"  value="{!acc.BillingStreet}"   />
                                  <apex:outputText value="{!errorAddress}" styleClass="errorMsg" rendered="{!errorAddress!=null}" style="color:red;" />
                               </div>
                            </div>
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label" style="" for="sm" rows="3">Address Line 2</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;"></span>
                              <div class="col-sm-7 col-lg-7 " >
                                  <!--required="true"-->
                                  <apex:inputtext styleclass="form-control resetActive " disabled="{!isSuccessDivShow}"  html-placeholder="Address Line 2" maxlength="100" id="address2" title="Please enter your Company address"  value="{!acc.CMI_Address2__c}"   />
                               </div>
                            </div>
                          <!--  <div class="col-sm-9 form-group form-group-sm" style="padding-left:8px">
                               <label class="col-sm-5 control-label" for="sm" rows="3">Address Line 3</label>
                               <span class="col-sm-1 required" style="margin-left: 4.8%;"></span>
                               <div class="col-sm-6" style="padding-left:15px">
                                 
                                  <apex:inputtext styleclass="form-control " html-placeholder="Address Line 3"  maxlength="100" id="address3" title="Please enter your Company address"  value="{!acc.CMI_Address3__c}"   />
                               </div>
                            </div>  -->
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label" style="" for="sm">City</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                              <div class="col-sm-7 col-lg-7 " >
                                  <!--required="true"-->
                                  <apex:inputtext styleclass="form-control resetActive submitActive " id="city" disabled="{!isSuccessDivShow}" maxlength="40" value="{!acc.BillingCity}" html-placeholder="City"/>
                                  <apex:outputText value="{!errorCity}" styleClass="errorMsg" rendered="{!errorCity!=null}" style="color:red;" />
                               </div>
                            </div> 
                            <apex:outputPanel rendered="{!isSuccessDivShow = false}">                       
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm picklist">
                               <label class="col-sm-4 col-lg-3 control-label" style="" for="sm">State/Province</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-sm-7 col-lg-5" >
                                  <!--required="true"-->
                                  
                                  <apex:inputfield styleClass="width100Per stateClass resetActive submitActive stateIs " id="state"  value="{!acc.BillingStateCode}"  />
                  
                                  <br/>
                                  <apex:outputText value="{!errorStateerror}" styleClass="errorMsg" rendered="{!errorStateerror!=null}" style="color:red;" />
                                   </div></div>
                               </apex:outputPanel>
                               <apex:outputPanel rendered="{!isSuccessDivShow}">
                                 <div class="col-sm-12 col-lg-12 form-group form-group-sm picklist">
                               <label class="col-sm-4 col-lg-3 control-label" style="" for="sm">State/Province</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-sm-7 col-lg-5" >
                                      <!--required="true"-->
                                      <apex:inputtext styleclass="form-control resetActive submitActive " id="state1" value="{!acc.BillingStateCode}" disabled="{!isSuccessDivShow}"/>
                                   </div>
                                </div>
                            </apex:outputPanel>
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label" style="" for="sm">Zip Code/Postal Code</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                              <div class="col-sm-7 col-lg-3" >
                                  <!--required="true"-->
                                  <apex:inputtext styleclass="form-control resetActive submitActive placeholderstyle " disabled="{!isSuccessDivShow}" style="font-style:normal" html-placeholder="Zip Code/Postal Code" id="zip" value="{!acc.BillingPostalCode}" maxlength="20" />
                                  <apex:outputText value="{!errorPostalcode}" styleClass="errorMsg" rendered="{!errorPostalcode!=null}" style="color:red;" />
                               </div>
                            </div>
                         </div>
                      </div>
                      <div class="contact-form-right-wrap col-xs-12 col-sm-12 col-md-6 col-lg-6">
                          
                          
                          
                         <!--------------------- Begin Personal Information Section --------------->
                         <div class="contact-form-right col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                            <span class="fieldset-label">Company Contact Information</span>
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label"  stylefor="sm">Primary Contact Name</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-xs-12 col-sm-6 col-lg-7 ">
                                  <div class="col-xs-10 col-sm-6">
                                     <!--required="true"-->
                                     <apex:inputtext styleclass="form-control submitActive resetActive " id="fname"  value="{!newCon.FirstName}" maxlength="40"  html-placeholder="First Name" disabled="{!isSuccessDivShow}"/>
                                     <apex:outputText value="{!errorContactFirstName}" styleClass="errorMsg" rendered="{!errorContactFirstName!=null}" style="color:red;" />
                                  </div>
                                  <div class="col-xs-10 col-sm-6 ">
                                     <!--required="true"-->
                                     <apex:inputtext styleclass="form-control submitActive resetActive "  id="lname" value="{!newCon.LastName}"  maxlength="80" html-placeholder="Last Name" disabled="{!isSuccessDivShow}"/>
                                     
                                     <apex:outputText value="{!errorContactLastName}" styleClass="errorMsg" rendered="{!errorContactLastName!=null}" style="color:red;" />
                                  </div>
                               </div>
                            </div>
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label"  for="sm">Email Address</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-sm-6 col-lg-7">
                                  <!--required="true"-->
                                 <apex:inputtext styleclass="form-control submitActive resetActive " id="ContactEmail" html-placeholder="user@mydomain.com" maxlength="80" title="Please enter your Company Email address" value="{!newCon.Email}" disabled="{!isSuccessDivShow}" onblur="updateprimary_email(this.value)">
                                   <apex:actionSupport event="onchange" rerender="theEmailPanel1,thePanel,dosend,theEmailPanel1,theEmailErrorPanel,theEmailPanel_top" action="{!emailpoplate}" disabled="{!isSuccessDivShow}"/>
 
                                 
                                  </apex:inputtext>
                                  <div id="errorContactEmail" class="errorMsg"  style="display:none;color:red;" ><strong> </strong>Please fill out valid Email Address.</div>
                                  <apex:outputText value="{!errorContactEmail}" styleClass="errorMsg" rendered="{!errorContactEmail!=null}" style="color:red;" />
                               </div>
                            </div>

                          <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label"  for="sm">Phone Number</label>
                               <span class="col-sm-1 required" style="width: 4.7%;top: 0px;">*</span>
                               <div class="col-sm-7 col-lg-5" >
                                  <!--required="true"-->
                                  <apex:inputtext id="phoneNumber" styleclass="form-control submitActive resetActive " html-placeholder=" " maxlength="40" value="{!newCon.phone}"  disabled="{!isSuccessDivShow}"/>
                                  <apex:outputText value="{!errorContactPhone}" styleClass="errorMsg" rendered="{!errorContactPhone!=null}" style="color:red;" />
                               </div>
                               
                            </div>
                           
                         </div>
                      </div>
                      
                      <!--------------------- Cummins Information---------------------->
                      <div class="contact-form-right-wrap col-xs-12 col-sm-12 col-md-6 col-lg-6">
                       <div class="contact-form-right col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                            <span class="fieldset-label" style="line-height: 32px;">Cummins Contact Information</span>
                       <div class="col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-sm-4 col-lg-3 control-label"  for="sm">Name</label>
                               <span class="col-sm-1 required" style="width: 4.7%;"></span>
                               <div class="col-xs-12 col-sm-6 col-lg-7">
                                  <div class="col-xs-10 col-sm-6">
                                     <!--required="true"-->
                                     <apex:inputtext styleclass="form-control resetActive " value="{!acc.CMI_Cummins_Support_First_Name__c}"  maxlength="25" html-placeholder="Support First Name"  disabled="{!isSuccessDivShow}"/>
                                     <!--<apex:outputText value="{!errorCumminsSupportFirstName}" styleClass="errorMsg" rendered="{!errorCumminsSupportFirstName!=null}" style="color:red;" />-->
                                  </div>
                                  <div class="col-xs-10 col-sm-6">
                                     <!--required="true"-->
                                     <apex:inputtext styleclass="form-control " value="{!acc.CMI_Cummins_Support_Last_Name__c}"  maxlength="25" html-placeholder="Support Last Name" disabled="{!isSuccessDivShow}"/>
                                     <!--<apex:outputText value="{!errorCumminsSupportLastName}" styleClass="errorMsg" rendered="{!errorCumminsSupportLastName!=null}" style="color:red;" />-->
                                  </div>
                               </div>
                            </div>
                            <div class="col-sm-12 col-lg-12 form-group form-group-sm">
                               <label class="col-sm-4 col-lg-3 control-label" for="sm">E-mail <br/> 
                               
                               </label>
                               <span class="col-sm-1 " style="width: 4.7%;"> </span>
                               <div class="col-sm-7 col-lg-7 " >
                                  <!--required="true"-->
                                  <apex:inputtext styleclass="form-control resetActive " id="CumminsSupportEmail" maxlength="100" value="{!acc.CMI_Cummins_Support_Email__c}" disabled="{!isSuccessDivShow}"/>
                                  <div id="EmailError" class="errorMsg"  style="display:none;color:#C84238;" ><strong> </strong>Please fill out valid E-mail Address.</div>
                                  <apex:outputText value="{!errorCumminsValidEmail}" styleClass="errorMsg"  rendered="{!errorCumminsValidEmail!=null}" style="color:red;" />
                                  
                               </div>
                              </div>
                            <div class="col-sm-12 form-group form-group-sm" style="padding-bottom:36px">
                          </div>
                         </div>
                      </div>
                       
                       
    <!------------------ Begin TSP Section --------------------->
                     
                           <apex:outputPanel id="theForm1"> 
                                <div class="contact-form-bottom-wrap col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                                    <div class="contact-form-bottom col-xs-12 col-sm-12 col-md-12 col-lg-12"  >
                                        <span class="fieldset-label" >Telematics Services</span>
                                        <div class="dropdown col-sm-12 form-group form-group-sm"  style="float:left;">
                                        </div>
                                        <div class="dropdown col-sm-10 col-md-6 col-lg-6 form-group form-group-sm"  style="float:left;">
                                            <label clas="col-sm-2 col-md-3 col-lg-2 control-label" style="float: left;" for="sm">Telematics Service Provider</label>
                                            <span class="col-sm-1 required"     style="    top: -2px;    width: 4%;    padding-left: 12px;">*</span>
                                            <div class="col-sm-6 col-md-4 col-lg-3" style="float: left;">
                                                
                                                
                                                <apex:inputfield styleClass="resetActive "  id="tsp" value="{!acc.CMI_Telematics_Service_Provider__c}" rendered="{!isSuccessDivShow = false}">
                                                <apex:actionSupport event="onchange" reRender="theForm1" oncomplete="disableTextare();disableTextare1();"/>
                                                
                                                </apex:inputField>
                                                <apex:inputText styleClass="resetActive  form-control"  id="tsp1" value="{!acc.CMI_Telematics_Service_Provider__c}" rendered="{!isSuccessDivShow}" disabled="{!isSuccessDivShow}"/>
                                                <apex:outputText style="height:auto !important; color:red;width:auto;" value="{!Telematicsserviceprovider}" styleClass="errorMsg" rendered="{!Telematicsserviceprovider!=null}"  />
                                               
                                                <apex:outputPanel > <!-- id="OtherTSPpanel" rendered="{!if(acc.CMI_Telematics_Service_Provider__c=='Other TSP',true,false)}">-->
                                                <div class="col-sm-6 col-md-4 col-lg-12" id="OtherTSPpanel" style="float: left;padding-top:20px;display:none;">
                                                <span class="required" >*</span>
                                                <apex:inputtextarea styleclass="details-input col-xs-12 col-sm-12 col-md-6 col-lg-12 resetActive "
                                                 style="    width: 237px;    margin: -5.53125px 0px 0px 4.14063px;    height: 50px;    border: 1px solid #ccc;margin-left: 3%; margin-top: -4%;" id="othertsp"  html-placeholder="Address,Phone Number,Contact Name (if available) " 
                                                 value="{!acc.CMI_Other_TSP__c}" rows="2"  required="{acc.CMI_Telematics_Service_Provider__c== 'Other TSP'}" disabled="{!isSuccessDivShow}"/>
                                                
                                                
                                                <div id="errorContactEmail" class="errorMsg"  style="display:none;color:red;" ><strong> </strong>Please fill out valid E-mail Address.</div>
                                                 <apex:outputText value="{!errorContactEmail}" styleClass="errorMsg" rendered="{!errorContactEmail!=null}" style="color:red;" />
                                                
                                                
                                                
                                                <div class="col-sm-6 col-md-4 col-lg-12"   style="float: left;">
                                                <apex:outputText style="height:auto !important; color:red;" value="{!errorOtherTsp}" styleClass="errorMsg" rendered="{!errorOtherTsp!=null}"  />
                                                </div>
                                             
                                              </div> 
                                              </apex:outputPanel>
                                          </div> 
                                        </div>
                                    </div>
                                </div>
                            </apex:outputPanel>
                            
                            <!-- End Company Information Section -->
                           <!-- TSP Input -->
                       <!-- notification frequency-->
                       
                       
 <!------------------------- Diagnostic Notifications Pannel-------------------------------------->
                                        
     <script>
   
       
       $(document).ready( function() {
           var divHeight = $('#adjheight').height(); 
            $('#adjheight1').css('min-height', divHeight-24.5+'px');
           var sel = document.getElementById("j_id0:theForm:SSS");
sel.removeChild(sel.firstChild);
sel = document.getElementById("j_id0:theForm:SS");
sel.removeChild(sel.firstChild);

       });
               
</script>  
 <style>
        .vfHelpText a            {position:relative;}
        .vfHelpText a span       {display: none;}
        .vfHelpText a:hover span {display: block;
                                  position:absolute;
                                  top:-2.25em;
                                  padding:2px 5px;
                                  left:2em; width:20em;
                                  z-index:100;
                                  border:1px solid #666666;
                                  background-color:#FFF0c5;
                                  color:#333333;
                                  border-radius:5px;
         
    </style> 
                            
        <apex:outputPanel id="thePanel1">
                     <div class="contact-form-bottom-wrap col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <div class="contact-form-bottom col-xs-12 col-sm-12 col-md-12 col-lg-12" style="float:left;padding-bottom:7px;">
                           <span class="fieldset-label">Diagnostic Notifications</span><br/>
                           <!--Delivery system-->
                           <div class=" col-lg-6" id="adjheight">
                           
                           <div class="contact-form-left-wrap col-xs-12 col-sm-12 col-md-6 col-lg-12" style="padding: 0px;">
                             <div class="contact-form-left col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <span class="fieldset-label">Delivery System</span>
                                <div class="col-sm-10 col-md-12 col-lg-11 form-group form-group-sm" style="padding-left:8px">
                                </div>
                                
                                <div class="col-sm-10 col-md-12 col-lg-12 form-group form-group-sm picklist" >
                                   <label class="col-sm-4 col-lg-3 control-label" for="sm" >Urgent Fault Notifications</label>
                                   <span class="col-sm-1 required" style="     margin-right: 7px;    width: 2%;    padding-left: 5px;    top: 0px;"></span>
                                   <div class="col-xs-10 col-sm-6 col-md-5 col-lg-5" >
                                      <!--required="true"-->
                                    
                                  <apex:inputfield styleClass=" c;resetActive sel1" id="SSS"  value="{!acc.CMI_Urgent_Fault_Notification__c}" html-placeholder="Urgent Fault Notification c" rendered="{!isSuccessDivShow=false}" >
                                  <apex:actionSupport event="onchange" action="{!emailpoplate2}" rerender="theEmailPanel_top,theEmailPanel1"/>
                                  </apex:inputfield>
                                  <apex:inputtext styleClass=" c;resetActive form-control" id="SSS1"  value="{!acc.CMI_Urgent_Fault_Notification__c}" html-placeholder="Urgent Fault Notification c" rendered="{!isSuccessDivShow}" disabled="{!isSuccessDivShow}" />
                                
                                  </div>
                                <style>
       
    </style>
    <div class="col-xs-2 col-sm-1" style="width:5%;">
    <div class="vfHelpText">
        <apex:outputLink value="javascript:return false;" onclick="javascript:return false;">
           <img  src="{!URLFOR($Resource.CMI_Helptexticon)}" align="right"  class="helpOrb" />
           
            <span class="vfHelpText ">Urgent Fault Notifications include Stop Now and Service Now with engine derate.</span>
        </apex:outputLink>
  </div>
                    
                                   
 
                                  <apex:outputText value="{!errorStateCountry}" styleClass="errorMsg" rendered="{!errorStateCountry!=null}" style="color:red;" />
                                 
                      </div>  
                        </div>
                             <div class="col-sm-10 col-md-12 col-lg-12 form-group form-group-sm picklist" >
                                   <label class="col-sm-4 col-lg-3 control-label" for="sm" >Other Fault Notifications</label>
                                   <span class="col-sm-1 required" style="     margin-right: 7px;    width: 2%;    padding-left: 5px;    top: 0px;"></span>
                                    <div class="col-xs-10 col-sm-6 col-md-5 col-lg-5" >
                                      <!--required="true"-->
                                  <apex:inputfield style="margin-bottom:1%;" styleClass=" resetActive;resetActive sel2" id="SS"  value="{!acc.CMI_Other_Fault_Notifications__c}"   html-placeholder="Other Fault Notification c"  rendered="{!isSuccessDivShow = false}">
                                 <apex:actionSupport event="onchange" action="{!emailpoplate2}" rerender="theEmailPanel_top,theEmailPanel1"/>
                                  </apex:inputfield>
                                <apex:inputtext style="margin-bottom: 1%;" styleClass=" c;resetActive form-control" id="SS1"  value="{!acc.CMI_Other_Fault_Notifications__c}" html-placeholder="Other Fault Notification c" rendered="{!isSuccessDivShow}" disabled="{!isSuccessDivShow}"  />
 
                                  </div>
                                   <div class="col-xs-2 col-sm-1" style="width: 5%;">
                                   
                                   <div class="vfHelpText">
        <apex:outputLink value="javascript:return false;" onclick="javascript:return false;">
           <img  src="{!URLFOR($Resource.CMI_Helptexticon)}" align="right"  class="helpOrb" />
           
            <span class="vfHelpText ">Other Fault Notifications include Service Now without engine derate, Service Soon, and Information.</span>
        </apex:outputLink>
  </div>
                                  <apex:outputText value="{!errorStateCountry}" styleClass="errorMsg"  rendered="{!errorStateCountry!=null}" style="color:red;" />
                           </div>
                        </div>
 
                            <div class="col-sm-12 form-group form-group-sm" >
                            </div>
                    
                           
                          <!--<br/> -->
                          <!--<br/> -->
                           <!--<br/> -->
                           </div>        
                          </div>
                 
                          
                          
                          
                   <!------------------------------------- notification frequency----------------------------------->
                           <div class="contact-form-right-wrap col-xs-12 col-sm-12 col-md-6 col-lg-12" style="padding:0px;    padding-bottom: 5px; ">
                            <div class="contact-form-right col-xs-12 col-sm-12 col-md-12 col-lg-12" style="float:right;">
                        <span class="fieldset-label">E-mail</span>
                        <div class="col-sm-12 form-group form-group-sm" style="padding-left:8px">
                                </div>
                                <div class="dropdown col-sm-10 col-md-12 col-lg-11 form-group form-group-sm" style="margin-bottom: 5px;" > 
                                  <div class="col-sm-12 col-md-12 col-lg-6" style="padding-right:0px;padding-left: 4.7%;">
                               <!--required="true"-->
                              <apex:actionRegion >
                             
                              <apex:selectRadio styleClass="radioB" value="{!Donotsendemails}" style="float:right;padding-right:40px;" id="dosend" layout="pageDirection" onclick="donotSendemail('notSend');" disabled="{!isSuccessDivShow}" >
                              <apex:selectOption itemValue="true"  itemLabel="Do not send e-mail notifications" itemEscaped="false" /> 
                                          <apex:actionSupport event="onchange" rerender="theEmailPanel1,thePanel,dosend,theEmailErrorPanel,theEmailPanel_top"  action="{!emailpoplate2}" />
                                          
                                           </apex:selectRadio>          
                              </apex:actionRegion>
                                 <apex:actionfunction name="send_newEmails"  action="{!emailpoplate_new}"  rerender="theEmailPanel1,thePanel,dosend,theEmailErrorPanel,theEmailPanel_top" / >
                              <apex:actionfunction name="dont_send_email"  action="{!emailpoplate2}"  rerender="theEmailPanel1,thePanel,dosend,theEmailErrorPanel,theEmailPanel_top,j_id0:theForm:pmr_email" / >
                             
                           </div>
                           
                           
                      </div>
                        <div class="dropdown col-sm-10 col-md-12 col-lg-12 form-group form-group-sm" style="    margin-bottom: 0px;">
                                
 
                                 <div class="col-sm-12 col-md-12 col-lg-5" style="padding-right:0px; padding-left: 4.5%;">
                              <apex:selectRadio value="{!acc.CMI_Email_Flag__c}"  style="float:right;" id="sendemail"   disabled="{!isSuccessDivShow}" onclick="sentoEmail('Send');">
                              <apex:selectOption itemValue="true" itemLabel="Send e-mail notifications">
                              
                                 </apex:selectOption>
                                 <apex:actionSupport event="onchange" rerender="j_id0:theForm:dosend,theEmailPanel1,theEmailPanel_top" action="{!emailpoplate1}"  oncomplete="sentoEmail('Send');populateNewemail();"/>                            
                                 </apex:selectRadio>
 
                               </div>
                               </div>
                        <div class="dropdown col-sm-10 col-md-12 col-lg-12 form-group form-group-sm">
                        <label class="col-sm-4 col-md-3 col-lg-3 control-label" for="sm"></label>
                        <span class="col-sm-1 required" style="width: 3.1%;"></span>
                       
                        <div class="col-sm-7 col-md-7 col-lg-5" style="    padding-left: 0px;">                          
                          
                          <apex:outputText id="pmr_email"> 
                          <apex:outputPanel style="display:{!IF(showPrimaryEmail,'','none')}"  styleClass="pmr_email">
                          
                            <div class="email_ids_top col-xs-10 col-sm-12 col-md-12 col-lg-12" style="    padding-left: 15px;">
                          <div style="form-group">
                              <div style="padding-left: 0px;">
                                  <input type="text" class="form-control each_email resetActive1 submitActive1 submitActive_Exclude primary_email " onblur="validate_email(this.value,this)"/> 
                             
                              <div style="padding-left: 0px;    margin-top: -10%;" class="control-label delete_potition"  >
                              <apex:image url="{!$Resource.CS_Delete}" onclick="delete_emailbox(this)"/>
                                   <!-- <i class="fa fa-trash-o" style="color:#1c8a8a" aria-hidden="true" onclick="delete_emailbox(this)"></i>-->
                              </div>
                           </div>
                            </div>
                            
                          <div class="email_ids">
                             
                          </div>
                           </div>
                           <div class="add_more col-xs-5 col-sm-5 " id="addbtn" style=" color:#007c7c;cursor:pointer;display:{!IF(showPrimaryEmail,'','none')}" onclick="add_more()">Add <apex:image url="{!$Resource.CS_Add}" style="margin-top: 2px;" /></div>
                        
                           </apex:outputPanel>
                             
                            </apex:outputText>
                           </div>
                           
                        </div>
                        <!--     <apex:inputText value="{!acc.CMI_Urgent_Fault_Notification_Email__c}" id="sendto1" styleClass="resetActive submitActive  form-control submitActive_Exclude1" style="border-radius:3px;line-height:12px;" rendered="{!isSuccessDivShow}"  disabled="{!isSuccessDivShow}" />-->
                          <apex:outputText rendered="{!isSuccessDivShow}">
                          <apex:repeat value="{!EnteredEmail}" var="eachEmail">
                                         <div style="form-group;margin-top: 8%;">
                                             <div style="">
                                                 <input type="text" class="form-control" disabled="true" value="{!eachEmail}"/>
                                             </div>
                                         </div>
                          </apex:repeat>
                          </apex:outputText>
                          
                          
                          
                          
                          
                          
                         <!--  <span style="font-size: .9em;">(This field accepts multiple email IDs separated by commas)</span>--->
                         <apex:outputText value="{!acc.CMI_Urgent_Fault_Notification_Email__c}" styleClass="errorMsg" rendered="{!acc.CMI_Urgent_Fault_Notification_Email__c==null}" style="color:red;" />
                         
                          
                          <div id="errorContactEmail1" class="errorMsg"  style="display:none;color:red;" ><strong> </strong>Please fill out valid E-mail Address.</div>
                          <apex:outputText value="{!errorContactEmail1}" styleClass="errorMsg" rendered="{!errorContactEmail1!=null}" style="color:red;" />
                          <apex:outputText value="{!CMIUrgentFaultNotification}" styleClass="errorMsg" rendered="{!CMIUrgentFaultNotification!=null}" style="color:red;" />
                          
                          
                        </div>
                        </div>
                    </div>  
                    <!-----new div----->
                    <apex:outputPanel id="theEmailPanel_top">
                    
                    
                    <script>
                   // alert('onl');
                    if({!EmailSectionEnable}){
                        $('.theEmailPanel_top').show();
                        $('.timer').addClass('submitActive');
                    }else{
                            $('.theEmailPanel_top').hide();
                            $('.timer').removeClass('submitActive');
                    }
                    
                    checkForReqFields();
 
                    
                    </script>
                    </apex:outputPanel>
                      <apex:outputPanel id="theEmailPanel_top1">
                     <div class="contact-form-right-wrap col-xs-12 col-sm-12 col-md-6 col-lg-6 theEmailPanel_top"  style="float:right;display:{!IF((EmailSectionEnable==false),'none','')}">
                            <div class="contact-form-right col-xs-12 col-sm-12 col-md-12 col-lg-12" id="adjheight1" style="float:right;">
                        <span class="fieldset-label">Notification Delay</span>
                        <div class="col-sm-12 form-group form-group-sm" style="padding-left:8px">
                                 <div style="font-family: Helvetica Neue 55, Arial, sans-serif;    font-weight: 400;    font-size: 13px;    line-height: 15px;    color: #333333;">These selections apply when multiple notifications are sent for the same fault.   </div>                        
                                </div>
                                <div class="dropdown col-sm-10 col-md-12 col-lg-12 form-group form-group-sm" style="margin-bottom: 5px;">
                             <!--    <label class="col-sm-4 col-md-3 col-lg-3 control-label" for="sm"></label>
                                 <span class="col-sm-1 required" style="width:7%"></span>-->
                                
                                 <div class="col-sm-10 col-lg-12" style=" ">

                      <apex:outputPanel id="theEmailPanel11" >

                     <apex:outputPanel rendered="{!EmailSectionEnable}" >
                    <div class="col-xs-12 col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-xs-4 col-sm-5  col-lg-3 control-label"  for="sm">Stop Now</label>
                               <span class="col-xs-1 col-sm-1 required" style=" width: 6%;padding-left:20px;top: 0px;">*</span>
                               <div class="col-xs-6 col-sm-6 col-lg-3" >
                                 
                                    <apex:inputfield styleclass=" timer dropdown-toggle  resetActive submitActive  submitActive_Exclude1"   value="{!acc.CMI_Stop_Now__c}" rendered="{!isSuccessDivShow=false}" ></apex:inputfield>
                                    <apex:inputText styleclass="resetActive submitActive  form-control "   value="{!acc.CMI_Stop_Now__c}" rendered="{!isSuccessDivShow}" disabled="{!isSuccessDivShow}"/>
                                   
                                    <apex:outputText value="{!CMIStopNow}" styleClass="errorMsg" rendered="{!CMIStopNow!=null}" style="color:red;" />
                                 </div>
                              </div>
                              <div class="col-xs-12 col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-xs-4 col-sm-5  col-lg-3 control-label"  for="sm">Service Now</label>
                               <span class="col-xs-1 col-sm-1 required" style=" width: 6%;padding-left:20px;top: 0px;">*</span>
                               <div class="col-xs-6 col-sm-6 col-lg-3" >
                                    <apex:inputfield styleclass="timer dropdown-toggle  resetActive submitActive  submitActive_Exclude1"  value="{!acc.CMI_Service_Now__c}" rendered="{!isSuccessDivShow = false}" ></apex:inputfield>
                                      <apex:inputText styleclass="resetActive submitActive  form-control"   value="{!acc.CMI_Service_Now__c}" rendered="{!isSuccessDivShow}" disabled="{!isSuccessDivShow}"/>
                                  
                                   
                                    <apex:outputText value="{!CMIServiceNow}" styleClass="errorMsg" rendered="{!CMIServiceNow!=null}" style="color:red;" />
                                 </div>
                              </div>
                             <div class="col-xs-12 col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-xs-4 col-sm-5  col-lg-3 control-label"  for="sm">Service Soon</label>
                               <span class="col-xs-1 col-sm-1 required" style=" width: 6%;padding-left:20px;top: 0px;">*</span>
                               <div class="col-xs-6 col-sm-6 col-lg-3" >
                                    <apex:inputfield styleclass=" timer dropdown-toggle   resetActive submitActive  submitActive_Exclude1"  value="{!acc.CMI_Service_Soon__c}" rendered="{!isSuccessDivShow=false}" ></apex:inputfield>
                                     <apex:inputText styleclass="resetActive submitActive  form-control"   value="{!acc.CMI_Service_Soon__c}" rendered="{!isSuccessDivShow}" disabled="{!isSuccessDivShow}"/>

                                                                            
                                    <apex:outputText value="{!CMIServiceSoon}" styleClass="errorMsg" rendered="{!CMIServiceSoon!=null}" style="color:red;" />
                                 </div>
                              </div>
                             
                              
                           
                     </apex:outputPanel>
                     
                     <apex:outputPanel rendered="{!EmailSectionEnable==false}"  style="display:{!IF((EmailSectionEnable==false),'none','')}">
                    
                              <div class="col-xs-12 col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-xs-4 col-sm-5  col-lg-3 control-label"  for="sm">Stop Now</label>
                               <span class="col-xs-1 col-sm-1 required" style=" width: 6%;padding-left:20px;top: 0px;">*</span>
                               <div class="col-xs-6 col-sm-6 col-lg-3" >
                                  <!--   <apex:inputfield styleclass="dropdown-toggle  resetActive ;resetActive submitActive  submitActive_Exclude" value="{!acc.CMI_Stop_Now__c}" rendered="{!isSuccessDivShow=false}" ></apex:inputfield> -->
                                    <apex:inputText styleclass="form-control" value="{!acc.CMI_Stop_Now__c}" disabled="true"/>                                   
                                 </div>
                              </div>
                              <div class="col-xs-12 col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-xs-4 col-sm-5  col-lg-3 control-label"  for="sm">Service Now</label>
                               <span class="col-xs-1 col-sm-1 required" style=" width: 6%;padding-left:20px;top: 0px;">*</span>
                               <div class="col-xs-6 col-sm-6 col-lg-3" ><!--      <apex:inputfield styleclass="dropdown-toggle  resetActive;resetActive submitActive  submitActive_Exclude"  value="{!acc.CMI_Service_Now__c}" rendered="{!isSuccessDivShow = false}" ></apex:inputfield>  -->
                                      <apex:inputText styleclass="form-control" value="{!acc.CMI_Service_Now__c}" disabled="true"/>
                   
                                 </div>
                              </div>
                             <div class="col-xs-12 col-sm-12 col-lg-12 form-group form-group-sm" >
                               <label class="col-xs-4 col-sm-5  col-lg-3 control-label"  for="sm">Service Soon</label>
                               <span class="col-xs-1 col-sm-1 required" style=" width: 6%;padding-left:20px;top: 0px;">*</span>
                               <div class="col-xs-6 col-sm-6 col-lg-3" >  <!--         <apex:inputfield styleclass="dropdown-toggle  resetActive; resetActive submitActive  submitActive_Exclude"  value="{!acc.CMI_Service_Soon__c}" rendered="{!isSuccessDivShow=false}" ></apex:inputfield>  -->
                                     <apex:inputText styleclass="form-control" value="{!acc.CMI_Service_Soon__c}" disabled="true"/>
                                 </div>
                              </div>
                             
                              
                           
                     </apex:outputPanel>
                     
                     
                     
                  </apex:outputPanel>
                       
                        </div>
                        </div>
                    </div>
                    </div>
                    </apex:outputPanel>

                       </div>
                     </div>
                      </apex:outputPanel>
                    
                       
                       
<div class="contact-form-bottom-buttons col-xs-12 col-sm-8 col-md-8 col-lg-10">
<div class="col-lg-2 custom-box" ></div>
<div class="col-md-8 col-lg-8 custom-box" style="padding-left:0px;">

<apex:outputPanel rendered="{!isSuccessDivShow = false}">
<div  class="col-xs-5 col-sm-4 col-md-4 col-lg-2 custom-box">
<apex:commandButton style="width: 100px;border: 1px #008080;background-color: lightgray;border-radius: 5px;height: 26px; color: white; " id="ApprovalId" onclick="validateSubmit();"  value="Submit" action="{!send}"/>
</div>     
<div  class="col-xs-5 col-sm-4 col-md-4 col-lg-2 custom-box">    
<apex:commandButton id="ResetId" style="width: 100px;border-radius: 5px;height: 26px; color: white;background-color: lightgray" value="Reset" action="{!reset}"/>&nbsp;&nbsp;&nbsp;&nbsp;
</div>
</apex:outputPanel>

<div  class="col-xs-5 col-sm-4 col-md-4 col-lg-2 custom-box">
<apex:commandButton id="CancelId" style="width: 100px;border: 1px #87a7bb;background-color: #87a7bb;border-radius: 5px;height: 26px; color: white;" value="Cancel" action="{!back}" rendered="{!isShowCancelButton}"/>&nbsp;&nbsp;&nbsp;&nbsp;
</div>
<script type = "text/javascript">
   function ClosePopup()
   {
       window.parent.close();        
   }
</script>
<apex:commandButton id="CloseId" styleClass="btnClose" style="width: 100px;border: 1px #008080;background-color: #006666;border-radius: 5px;height: 26px; color: white;" value="Close"  oncomplete="ClosePopup();" rendered="{!isShowCloseButton}"/>
  

</div>
                          
                          
                          
                          
                          
                          
                          
                       <div class="col-md-3 custom-box"></div>

                         <!--<apex:commandButton id="SaveId" style="width: 100px;border: 1px #008080;background-color: #006666;border-radius: 5px;height: 26px; color: white;" value="Reset" onclick="window.location.href='/apex/CMI_CompanyReg"/>-->
                      </div>
                          <apex:outputPanel id="fortest">
                      <script>
                      
                 //     var sel1 =   $(".sel1").val();    
                
              //   var sel2 =   $(".sel2").val();  
                     // console.log(sele)
                      
                      console.log(',,,,, >>> ', $( "input[id$='sendto']" ).val());
                     if('{!showPrimaryEmail}' == 'true'){
                       changedEmail = $( "input[id$='sendto']" ).val().split(',')[0];
                     populateNewemail();
                     console.log('length ',$( "input[id$='sendto']" ).val().includes('@'));
                     
                     if($( "input[id$='sendto']" ).val().includes('@')){
                     var allEmails = $( "input[id$='sendto']" ).val().split(','); 
                     for(var i=1;i<$( "input[id$='sendto']" ).val().split(',').length-1;i++){
                        $('.email_ids').append('<div style="form-group;margin-top: 8%;  "><div style="padding-top:5px;"><input value="'+allEmails[i]+'" type="text" class="form-control each_email resetActive1 submitActive1 submitActive_Exclude" onblur="validate_email(this.value,this)"/> <div  class="control-label delete_potition"></div>');
                                  
                     }
                     
                     }
                   
                     $('.pmr_email').show();
                     
                     }else{
                         $('.pmr_email').hide();
                     
                     }
                     
                     console.log($('.each_email').length);
                     
                     if($('.each_email').length == 8){
                         $('.add_more').hide();
                     }else{
                     
                     $('.add_more').show();
                     }
                      </script>
                      </apex:outputPanel>
                   </apex:form>
                </div>
             </div>
          </body>
       </html>
       <!-- Cummins UX Standards Template -->
       <!-- (C)2015 Cummins Inc., Box 3005, Columbus, IN 47202-3005 U.S.A. -->
       <!-- For questions, UI standards and more contact the Cummins UX Team -->
       <!-- REMOVE COMMENTS BEFORE PUBLICATION -->
       <!--[if IE 7]>
       <html lang="en" class="ie7">
          <![endif]-->
          <!--[if IE 8]>
          <html lang="en" class="ie8">
             <![endif]-->
             <!--[if IE 9]>
             <html lang="en" class="ie9">
                <![endif]-->
                <!--[if !IE]>
                <!-->
                   <html lang="en">
                       <!-->
                <![endif]-->
                <head>
                   <title>Global Footer Component</title>
                   <!-- Metadata - Customize for your product -->
                   <meta http-equiv="viewport"  content="width=device-width, initial-scale=1.0"/>
                   <meta http-equiv="description"  content=" "/>
                   <meta http-equiv="author"  content="Cummins Inc."/>
                   <meta http-equiv="copyright"  content="(C)2017 Cummins Inc., Box 3005, Columbus, IN 47202-3005 U.S.A."/>
                   <!-- Global CSS & Favicon -->
                   <apex:stylesheet value="{!URLFOR($Resource.CS_Bootstrap)}"/>
                   <apex:stylesheet value="{!URLFOR($Resource.CS_CMI)}"/>
                   <!-- Component Specific CSS -->
                   <apex:stylesheet value="{!URLFOR($Resource.CS_CMIglobalfootercomponent)}"/>
                   <!-- JQuery Includes -->
                   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
                   <script>
                      function findFooterHeight()
                      {
                          var footerTotalHeight = document.getElementById('foot').clientHeight+31;    
                          //alert("footerTotalHeight Div : "+footerTotalHeight);
                          //document.getElementById("demo").innerHTML = footerTotalHeight;
                          return footerTotalHeight;
                      }
               
                function setMinBodyHeight()
                {
                    //var totalHeight = screen.availHeight;
                    var totalHeight = $(window).height();
                   // alert("totalScreenHeight : "+totalHeight);
                    var headerHeight = findHeaderHeight();
                    //alert("HeaderHeight: "+headerHeight);
                    var bodyHeight = totalHeight - headerHeight;
                   // alert("BodyHeight: "+bodyHeight);
                    var footHeight = findFooterHeight()-30;
                   //  alert("footHeight: "+footHeight);
                    var minBodyHeight = bodyHeight - footHeight - 35;
                  //  alert("Min Body Height: "+minBodyHeight);
                    $("#main_content").css({'min-height': minBodyHeight });
                }
                        $(document).ready( function() {
            setMinBodyHeight();
            });
       
                   </script>
                </head>
                <body>
                   <!-- Begin Footer Section -->
                   <div class="footer" id="foot">
                      <!-- Begin Container Section -->
                      <div class="container-fluid" >
                         <!-- Begin Global Footer Row -->
                         <div class="">
                            <!-- Begin Copyright/Logo/ePrivacy section -->
                            <div class="col-xs-12 col-sm-6 col-md-6 global-footer-logo-container">
                               <apex:image url="{!$Resource.CS_Cumminsgf}" styleclass="global-footer-logo"/>
                               <span class="global-footer-copy">&copy; 2017 Cummins Inc.,Box 3005, Columbus, IN 47202-3005 U.S.A</span>
                            </div>
                         </div>
                         <!-- End Global Footer Row -->
                      </div>
                      <!-- End Container Section -->
                   </div>
                   <!-- End Footer Section -->
                </body>
             </html>
             <script>
              var invalid_email = false;
  function validate_email(passedval,passedthis){
 // alert(passedval);
  
  var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
 if(!re.test(passedval)){
 console.log( $(passedthis));
 if(!$(passedthis).hasClass('error_exist')){
 invalid_email = true;
 $(passedthis).addClass('error_exist').css('boder','1px solid red').parent().append('<span style="color:red;margin-left: -26px;" class="error_msg"><img style="margin-top: -50px;" src="{!URLFOR($Resource.CS_Error)}">Please Enter Valid E-mail Address</span>');
 var divHeight = $('#adjheight').height(); 
  $('#adjheight1').css('min-height', divHeight-25+'px');
 }
 }else{
 
 $(passedthis).removeClass('error_exist').parent().find('.error_msg').remove().css('boder','0px solid green');
 var divHeight = $('#adjheight').height(); 
  $('#adjheight1').css('min-height', divHeight-25+'px');
 
 populateAllEmail();
 }
 
 checkForReqFields();
 return false;
  }
  
  </script>
    </apex:page>